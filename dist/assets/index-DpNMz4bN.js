(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const h of d)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(d){const h={};return d.integrity&&(h.integrity=d.integrity),d.referrerPolicy&&(h.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?h.credentials="include":d.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(d){if(d.ep)return;d.ep=!0;const h=r(d);fetch(d.href,h)}})();var Tc={exports:{}},xi={};var sm;function Tp(){if(sm)return xi;sm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,d,h){var f=null;if(h!==void 0&&(f=""+h),d.key!==void 0&&(f=""+d.key),"key"in d){h={};for(var v in d)v!=="key"&&(h[v]=d[v])}else h=d;return d=h.ref,{$$typeof:i,type:l,key:f,ref:d!==void 0?d:null,props:h}}return xi.Fragment=n,xi.jsx=r,xi.jsxs=r,xi}var im;function Np(){return im||(im=1,Tc.exports=Tp()),Tc.exports}var u=Np(),Nc={exports:{}},fe={};var rm;function Ap(){if(rm)return fe;rm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function j(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function X(S,L,P){this.props=S,this.context=L,this.refs=B,this.updater=P||N}X.prototype.isReactComponent={},X.prototype.setState=function(S,L){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,L,"setState")},X.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function J(){}J.prototype=X.prototype;function M(S,L,P){this.props=S,this.context=L,this.refs=B,this.updater=P||N}var C=M.prototype=new J;C.constructor=M,U(C,X.prototype),C.isPureReactComponent=!0;var z=Array.isArray;function K(){}var Q={H:null,A:null,T:null,S:null},V=Object.prototype.hasOwnProperty;function ae(S,L,P){var W=P.ref;return{$$typeof:i,type:S,key:L,ref:W!==void 0?W:null,props:P}}function _e(S,L){return ae(S.type,L,S.props)}function Xe(S){return typeof S=="object"&&S!==null&&S.$$typeof===i}function ze(S){var L={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(P){return L[P]})}var it=/\/+/g;function ie(S,L){return typeof S=="object"&&S!==null&&S.key!=null?ze(""+S.key):L.toString(36)}function F(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(K,K):(S.status="pending",S.then(function(L){S.status==="pending"&&(S.status="fulfilled",S.value=L)},function(L){S.status==="pending"&&(S.status="rejected",S.reason=L)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function k(S,L,P,W,Y){var ee=typeof S;(ee==="undefined"||ee==="boolean")&&(S=null);var he=!1;if(S===null)he=!0;else switch(ee){case"bigint":case"string":case"number":he=!0;break;case"object":switch(S.$$typeof){case i:case n:he=!0;break;case _:return he=S._init,k(he(S._payload),L,P,W,Y)}}if(he)return Y=Y(S),he=W===""?"."+ie(S,0):W,z(Y)?(P="",he!=null&&(P=he.replace(it,"$&/")+"/"),k(Y,L,P,"",function(Be){return Be})):Y!=null&&(Xe(Y)&&(Y=_e(Y,P+(Y.key==null||S&&S.key===Y.key?"":(""+Y.key).replace(it,"$&/")+"/")+he)),L.push(Y)),1;he=0;var Oe=W===""?".":W+":";if(z(S))for(var ge=0;ge<S.length;ge++)W=S[ge],ee=Oe+ie(W,ge),he+=k(W,L,P,ee,Y);else if(ge=j(S),typeof ge=="function")for(S=ge.call(S),ge=0;!(W=S.next()).done;)W=W.value,ee=Oe+ie(W,ge++),he+=k(W,L,P,ee,Y);else if(ee==="object"){if(typeof S.then=="function")return k(F(S),L,P,W,Y);throw L=String(S),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return he}function I(S,L,P){if(S==null)return S;var W=[],Y=0;return k(S,W,"","",function(ee){return L.call(P,ee,Y++)}),W}function ne(S){if(S._status===-1){var L=S._result;L=L(),L.then(function(P){(S._status===0||S._status===-1)&&(S._status=1,S._result=P)},function(P){(S._status===0||S._status===-1)&&(S._status=2,S._result=P)}),S._status===-1&&(S._status=0,S._result=L)}if(S._status===1)return S._result.default;throw S._result}var pe=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Z={map:I,forEach:function(S,L,P){I(S,function(){L.apply(this,arguments)},P)},count:function(S){var L=0;return I(S,function(){L++}),L},toArray:function(S){return I(S,function(L){return L})||[]},only:function(S){if(!Xe(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return fe.Activity=b,fe.Children=Z,fe.Component=X,fe.Fragment=r,fe.Profiler=d,fe.PureComponent=M,fe.StrictMode=l,fe.Suspense=g,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,fe.__COMPILER_RUNTIME={__proto__:null,c:function(S){return Q.H.useMemoCache(S)}},fe.cache=function(S){return function(){return S.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(S,L,P){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var W=U({},S.props),Y=S.key;if(L!=null)for(ee in L.key!==void 0&&(Y=""+L.key),L)!V.call(L,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&L.ref===void 0||(W[ee]=L[ee]);var ee=arguments.length-2;if(ee===1)W.children=P;else if(1<ee){for(var he=Array(ee),Oe=0;Oe<ee;Oe++)he[Oe]=arguments[Oe+2];W.children=he}return ae(S.type,Y,W)},fe.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:h,_context:S},S},fe.createElement=function(S,L,P){var W,Y={},ee=null;if(L!=null)for(W in L.key!==void 0&&(ee=""+L.key),L)V.call(L,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(Y[W]=L[W]);var he=arguments.length-2;if(he===1)Y.children=P;else if(1<he){for(var Oe=Array(he),ge=0;ge<he;ge++)Oe[ge]=arguments[ge+2];Y.children=Oe}if(S&&S.defaultProps)for(W in he=S.defaultProps,he)Y[W]===void 0&&(Y[W]=he[W]);return ae(S,ee,Y)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(S){return{$$typeof:v,render:S}},fe.isValidElement=Xe,fe.lazy=function(S){return{$$typeof:_,_payload:{_status:-1,_result:S},_init:ne}},fe.memo=function(S,L){return{$$typeof:p,type:S,compare:L===void 0?null:L}},fe.startTransition=function(S){var L=Q.T,P={};Q.T=P;try{var W=S(),Y=Q.S;Y!==null&&Y(P,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(K,pe)}catch(ee){pe(ee)}finally{L!==null&&P.types!==null&&(L.types=P.types),Q.T=L}},fe.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},fe.use=function(S){return Q.H.use(S)},fe.useActionState=function(S,L,P){return Q.H.useActionState(S,L,P)},fe.useCallback=function(S,L){return Q.H.useCallback(S,L)},fe.useContext=function(S){return Q.H.useContext(S)},fe.useDebugValue=function(){},fe.useDeferredValue=function(S,L){return Q.H.useDeferredValue(S,L)},fe.useEffect=function(S,L){return Q.H.useEffect(S,L)},fe.useEffectEvent=function(S){return Q.H.useEffectEvent(S)},fe.useId=function(){return Q.H.useId()},fe.useImperativeHandle=function(S,L,P){return Q.H.useImperativeHandle(S,L,P)},fe.useInsertionEffect=function(S,L){return Q.H.useInsertionEffect(S,L)},fe.useLayoutEffect=function(S,L){return Q.H.useLayoutEffect(S,L)},fe.useMemo=function(S,L){return Q.H.useMemo(S,L)},fe.useOptimistic=function(S,L){return Q.H.useOptimistic(S,L)},fe.useReducer=function(S,L,P){return Q.H.useReducer(S,L,P)},fe.useRef=function(S){return Q.H.useRef(S)},fe.useState=function(S){return Q.H.useState(S)},fe.useSyncExternalStore=function(S,L,P){return Q.H.useSyncExternalStore(S,L,P)},fe.useTransition=function(){return Q.H.useTransition()},fe.version="19.2.3",fe}var lm;function Wc(){return lm||(lm=1,Nc.exports=Ap()),Nc.exports}var $=Wc(),Ac={exports:{}},ji={},Oc={exports:{}},Rc={};var om;function Op(){return om||(om=1,(function(i){function n(k,I){var ne=k.length;k.push(I);e:for(;0<ne;){var pe=ne-1>>>1,Z=k[pe];if(0<d(Z,I))k[pe]=I,k[ne]=Z,ne=pe;else break e}}function r(k){return k.length===0?null:k[0]}function l(k){if(k.length===0)return null;var I=k[0],ne=k.pop();if(ne!==I){k[0]=ne;e:for(var pe=0,Z=k.length,S=Z>>>1;pe<S;){var L=2*(pe+1)-1,P=k[L],W=L+1,Y=k[W];if(0>d(P,ne))W<Z&&0>d(Y,P)?(k[pe]=Y,k[W]=ne,pe=W):(k[pe]=P,k[L]=ne,pe=L);else if(W<Z&&0>d(Y,ne))k[pe]=Y,k[W]=ne,pe=W;else break e}}return I}function d(k,I){var ne=k.sortIndex-I.sortIndex;return ne!==0?ne:k.id-I.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var f=Date,v=f.now();i.unstable_now=function(){return f.now()-v}}var g=[],p=[],_=1,b=null,x=3,j=!1,N=!1,U=!1,B=!1,X=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function C(k){for(var I=r(p);I!==null;){if(I.callback===null)l(p);else if(I.startTime<=k)l(p),I.sortIndex=I.expirationTime,n(g,I);else break;I=r(p)}}function z(k){if(U=!1,C(k),!N)if(r(g)!==null)N=!0,K||(K=!0,ze());else{var I=r(p);I!==null&&F(z,I.startTime-k)}}var K=!1,Q=-1,V=5,ae=-1;function _e(){return B?!0:!(i.unstable_now()-ae<V)}function Xe(){if(B=!1,K){var k=i.unstable_now();ae=k;var I=!0;try{e:{N=!1,U&&(U=!1,J(Q),Q=-1),j=!0;var ne=x;try{t:{for(C(k),b=r(g);b!==null&&!(b.expirationTime>k&&_e());){var pe=b.callback;if(typeof pe=="function"){b.callback=null,x=b.priorityLevel;var Z=pe(b.expirationTime<=k);if(k=i.unstable_now(),typeof Z=="function"){b.callback=Z,C(k),I=!0;break t}b===r(g)&&l(g),C(k)}else l(g);b=r(g)}if(b!==null)I=!0;else{var S=r(p);S!==null&&F(z,S.startTime-k),I=!1}}break e}finally{b=null,x=ne,j=!1}I=void 0}}finally{I?ze():K=!1}}}var ze;if(typeof M=="function")ze=function(){M(Xe)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,ie=it.port2;it.port1.onmessage=Xe,ze=function(){ie.postMessage(null)}}else ze=function(){X(Xe,0)};function F(k,I){Q=X(function(){k(i.unstable_now())},I)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(k){switch(x){case 1:case 2:case 3:var I=3;break;default:I=x}var ne=x;x=I;try{return k()}finally{x=ne}},i.unstable_requestPaint=function(){B=!0},i.unstable_runWithPriority=function(k,I){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ne=x;x=k;try{return I()}finally{x=ne}},i.unstable_scheduleCallback=function(k,I,ne){var pe=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?pe+ne:pe):ne=pe,k){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ne+Z,k={id:_++,callback:I,priorityLevel:k,startTime:ne,expirationTime:Z,sortIndex:-1},ne>pe?(k.sortIndex=ne,n(p,k),r(g)===null&&k===r(p)&&(U?(J(Q),Q=-1):U=!0,F(z,ne-pe))):(k.sortIndex=Z,n(g,k),N||j||(N=!0,K||(K=!0,ze()))),k},i.unstable_shouldYield=_e,i.unstable_wrapCallback=function(k){var I=x;return function(){var ne=x;x=I;try{return k.apply(this,arguments)}finally{x=ne}}}})(Rc)),Rc}var cm;function Rp(){return cm||(cm=1,Oc.exports=Op()),Oc.exports}var Cc={exports:{}},ft={};var um;function Cp(){if(um)return ft;um=1;var i=Wc();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},d=Symbol.for("react.portal");function h(g,p,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:b==null?null:""+b,children:g,containerInfo:p,implementation:_}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ft.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return h(g,p,null,_)},ft.flushSync=function(g){var p=f.T,_=l.p;try{if(f.T=null,l.p=2,g)return g()}finally{f.T=p,l.p=_,l.d.f()}},ft.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},ft.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},ft.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,b=v(_,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:j}):_==="script"&&l.d.X(g,{crossOrigin:b,integrity:x,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ft.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=v(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},ft.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,b=v(_,p.crossOrigin);l.d.L(g,_,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ft.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=v(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},ft.requestFormReset=function(g){l.d.r(g)},ft.unstable_batchedUpdates=function(g,p){return g(p)},ft.useFormState=function(g,p,_){return f.H.useFormState(g,p,_)},ft.useFormStatus=function(){return f.H.useHostTransitionStatus()},ft.version="19.2.3",ft}var dm;function kp(){if(dm)return Cc.exports;dm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Cc.exports=Cp(),Cc.exports}var hm;function Dp(){if(hm)return ji;hm=1;var i=Rp(),n=Wc(),r=kp();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return g(o),e;if(c===s)return g(o),t;c=c.sibling}throw Error(l(188))}if(a.return!==s.return)a=o,s=c;else{for(var m=!1,y=o.child;y;){if(y===a){m=!0,a=o,s=c;break}if(y===s){m=!0,s=o,a=c;break}y=y.sibling}if(!m){for(y=c.child;y;){if(y===a){m=!0,a=c,s=o;break}if(y===s){m=!0,s=c,a=o;break}y=y.sibling}if(!m)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),M=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),_e=Symbol.for("react.memo_cache_sentinel"),Xe=Symbol.iterator;function ze(e){return e===null||typeof e!="object"?null:(e=Xe&&e[Xe]||e["@@iterator"],typeof e=="function"?e:null)}var it=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===it?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case X:return"Profiler";case B:return"StrictMode";case z:return"Suspense";case K:return"SuspenseList";case ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case M:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case C:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}var F=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},pe=[],Z=-1;function S(e){return{current:e}}function L(e){0>Z||(e.current=pe[Z],pe[Z]=null,Z--)}function P(e,t){Z++,pe[Z]=e.current,e.current=t}var W=S(null),Y=S(null),ee=S(null),he=S(null);function Oe(e,t){switch(P(ee,t),P(Y,e),P(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Nf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Nf(t),e=Af(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(W),P(W,e)}function ge(){L(W),L(Y),L(ee)}function Be(e){e.memoizedState!==null&&P(he,e);var t=W.current,a=Af(t,e.type);t!==a&&(P(Y,e),P(W,a))}function vt(e){Y.current===e&&(L(W),L(Y)),he.current===e&&(L(he),_i._currentValue=ne)}var sa,An;function jt(e){if(sa===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);sa=t&&t[1]||"",An=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sa+e+An}var Ts=!1;function Ns(e,t){if(!e||Ts)return"";Ts=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(D){var R=D}Reflect.construct(e,[],G)}else{try{G.call()}catch(D){R=D}e.call(G.prototype)}}else{try{throw Error()}catch(D){R=D}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=s.DetermineComponentFrameRoot(),m=c[0],y=c[1];if(m&&y){var w=m.split(`
`),O=y.split(`
`);for(o=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;if(s===w.length||o===O.length)for(s=w.length-1,o=O.length-1;1<=s&&0<=o&&w[s]!==O[o];)o--;for(;1<=s&&0<=o;s--,o--)if(w[s]!==O[o]){if(s!==1||o!==1)do if(s--,o--,0>o||w[s]!==O[o]){var q=`
`+w[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=o);break}}}finally{Ts=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?jt(a):""}function $e(e,t){switch(e.tag){case 26:case 27:case 5:return jt(e.type);case 16:return jt("Lazy");case 13:return e.child!==t&&t!==null?jt("Suspense Fallback"):jt("Suspense");case 19:return jt("SuspenseList");case 0:case 15:return Ns(e.type,!1);case 11:return Ns(e.type.render,!1);case 1:return Ns(e.type,!0);case 31:return jt("Activity");default:return""}}function Wt(e){try{var t="",a=null;do t+=$e(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var On=Object.prototype.hasOwnProperty,As=i.unstable_scheduleCallback,Os=i.unstable_cancelCallback,Rs=i.unstable_shouldYield,qi=i.unstable_requestPaint,mt=i.unstable_now,hl=i.unstable_getCurrentPriorityLevel,Bi=i.unstable_ImmediatePriority,iu=i.unstable_UserBlockingPriority,Li=i.unstable_NormalPriority,lg=i.unstable_LowPriority,ru=i.unstable_IdlePriority,og=i.log,cg=i.unstable_setDisableYieldValue,Cs=null,Et=null;function Aa(e){if(typeof og=="function"&&cg(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Cs,e)}catch{}}var Tt=Math.clz32?Math.clz32:hg,ug=Math.log,dg=Math.LN2;function hg(e){return e>>>=0,e===0?32:31-(ug(e)/dg|0)|0}var Hi=256,$i=262144,Gi=4194304;function tn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Vi(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,c=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~c,s!==0?o=tn(s):(m&=y,m!==0?o=tn(m):a||(a=y&~e,a!==0&&(o=tn(a))))):(y=s&~c,y!==0?o=tn(y):m!==0?o=tn(m):a||(a=s&~e,a!==0&&(o=tn(a)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:o}function ks(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function fg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var e=Gi;return Gi<<=1,(Gi&62914560)===0&&(Gi=4194304),e}function fl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ds(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function mg(e,t,a,s,o,c){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,w=e.expirationTimes,O=e.hiddenUpdates;for(a=m&~a;0<a;){var q=31-Tt(a),G=1<<q;y[q]=0,w[q]=-1;var R=O[q];if(R!==null)for(O[q]=null,q=0;q<R.length;q++){var D=R[q];D!==null&&(D.lane&=-536870913)}a&=~G}s!==0&&ou(e,s,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(m&~t))}function ou(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Tt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function cu(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-Tt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function uu(e,t){var a=t&-t;return a=(a&42)!==0?1:ml(a),(a&(e.suspendedLanes|t))!==0?0:a}function ml(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function du(){var e=I.p;return e!==0?e:(e=window.event,e===void 0?32:Pf(e.type))}function hu(e,t){var a=I.p;try{return I.p=e,t()}finally{I.p=a}}var Oa=Math.random().toString(36).slice(2),rt="__reactFiber$"+Oa,pt="__reactProps$"+Oa,Rn="__reactContainer$"+Oa,vl="__reactEvents$"+Oa,gg="__reactListeners$"+Oa,vg="__reactHandles$"+Oa,fu="__reactResources$"+Oa,Us="__reactMarker$"+Oa;function pl(e){delete e[rt],delete e[pt],delete e[vl],delete e[gg],delete e[vg]}function Cn(e){var t=e[rt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Rn]||a[rt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=zf(e);e!==null;){if(a=e[rt])return a;e=zf(e)}return t}e=a,a=e.parentNode}return null}function kn(e){if(e=e[rt]||e[Rn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function zs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Dn(e){var t=e[fu];return t||(t=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Us]=!0}var mu=new Set,gu={};function an(e,t){Un(e,t),Un(e+"Capture",t)}function Un(e,t){for(gu[e]=t,e=0;e<t.length;e++)mu.add(t[e])}var pg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vu={},pu={};function yg(e){return On.call(pu,e)?!0:On.call(vu,e)?!1:pg.test(e)?pu[e]=!0:(vu[e]=!0,!1)}function Yi(e,t,a){if(yg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ki(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ia(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function yu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _g(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,c=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yl(e){if(!e._valueTracker){var t=yu(e)?"checked":"value";e._valueTracker=_g(e,t,""+e[t])}}function _u(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=yu(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Qi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bg=/[\n"\\]/g;function Bt(e){return e.replace(bg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _l(e,t,a,s,o,c,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+qt(t)):e.value!==""+qt(t)&&(e.value=""+qt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?bl(e,m,qt(t)):a!=null?bl(e,m,qt(a)):s!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+qt(y):e.removeAttribute("name")}function bu(e,t,a,s,o,c,m,y){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){yl(e);return}a=a!=null?""+qt(a):"",t=t!=null?""+qt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),yl(e)}function bl(e,t,a){t==="number"&&Qi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zn(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+qt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function wu(e,t,a){if(t!=null&&(t=""+qt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+qt(a):""}function Su(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(F(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=qt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),yl(e)}function Mn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var wg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xu(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||wg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function ju(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&xu(e,o,s)}else for(var c in t)t.hasOwnProperty(c)&&xu(e,c,t[c])}function wl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(e){return xg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ra(){}var Sl=null;function xl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qn=null,Bn=null;function Eu(e){var t=kn(e);if(t&&(e=t.stateNode)){var a=e[pt]||null;e:switch(e=t.stateNode,t.type){case"input":if(_l(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Bt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[pt]||null;if(!o)throw Error(l(90));_l(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&_u(s)}break e;case"textarea":wu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&zn(e,!!a.multiple,t,!1)}}}var jl=!1;function Tu(e,t,a){if(jl)return e(t,a);jl=!0;try{var s=e(t);return s}finally{if(jl=!1,(qn!==null||Bn!==null)&&(Ur(),qn&&(t=qn,e=Bn,Bn=qn=null,Eu(t),e)))for(t=0;t<e.length;t++)Eu(e[t])}}function Ms(e,t){var a=e.stateNode;if(a===null)return null;var s=a[pt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),El=!1;if(la)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){El=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{El=!1}var Ra=null,Tl=null,Ji=null;function Nu(){if(Ji)return Ji;var e,t=Tl,a=t.length,s,o="value"in Ra?Ra.value:Ra.textContent,c=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(s=1;s<=m&&t[a-s]===o[c-s];s++);return Ji=o.slice(e,1<s?1-s:void 0)}function Ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function Au(){return!1}function yt(e){function t(a,s,o,c,m){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Zi:Au,this.isPropagationStopped=Au,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),t}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pi=yt(nn),Bs=b({},nn,{view:0,detail:0}),jg=yt(Bs),Nl,Al,Ls,Fi=b({},Bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ls&&(Ls&&e.type==="mousemove"?(Nl=e.screenX-Ls.screenX,Al=e.screenY-Ls.screenY):Al=Nl=0,Ls=e),Nl)},movementY:function(e){return"movementY"in e?e.movementY:Al}}),Ou=yt(Fi),Eg=b({},Fi,{dataTransfer:0}),Tg=yt(Eg),Ng=b({},Bs,{relatedTarget:0}),Ol=yt(Ng),Ag=b({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Og=yt(Ag),Rg=b({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cg=yt(Rg),kg=b({},nn,{data:0}),Ru=yt(kg),Dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ug={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zg[e])?!!t[e]:!1}function Rl(){return Mg}var qg=b({},Bs,{key:function(e){if(e.key){var t=Dg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ug[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rl,charCode:function(e){return e.type==="keypress"?Ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bg=yt(qg),Lg=b({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cu=yt(Lg),Hg=b({},Bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rl}),$g=yt(Hg),Gg=b({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vg=yt(Gg),Yg=b({},Fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kg=yt(Yg),Qg=b({},nn,{newState:0,oldState:0}),Xg=yt(Qg),Jg=[9,13,27,32],Cl=la&&"CompositionEvent"in window,Hs=null;la&&"documentMode"in document&&(Hs=document.documentMode);var Ig=la&&"TextEvent"in window&&!Hs,ku=la&&(!Cl||Hs&&8<Hs&&11>=Hs),Du=" ",Uu=!1;function zu(e,t){switch(e){case"keyup":return Jg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ln=!1;function Zg(e,t){switch(e){case"compositionend":return Mu(t);case"keypress":return t.which!==32?null:(Uu=!0,Du);case"textInput":return e=t.data,e===Du&&Uu?null:e;default:return null}}function Pg(e,t){if(Ln)return e==="compositionend"||!Cl&&zu(e,t)?(e=Nu(),Ji=Tl=Ra=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ku&&t.locale!=="ko"?null:t.data;default:return null}}var Fg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fg[e.type]:t==="textarea"}function Bu(e,t,a,s){qn?Bn?Bn.push(s):Bn=[s]:qn=s,t=$r(t,"onChange"),0<t.length&&(a=new Pi("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var $s=null,Gs=null;function Wg(e){wf(e,0)}function Wi(e){var t=zs(e);if(_u(t))return e}function Lu(e,t){if(e==="change")return t}var Hu=!1;if(la){var kl;if(la){var Dl="oninput"in document;if(!Dl){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Dl=typeof $u.oninput=="function"}kl=Dl}else kl=!1;Hu=kl&&(!document.documentMode||9<document.documentMode)}function Gu(){$s&&($s.detachEvent("onpropertychange",Vu),Gs=$s=null)}function Vu(e){if(e.propertyName==="value"&&Wi(Gs)){var t=[];Bu(t,Gs,e,xl(e)),Tu(Wg,t)}}function ev(e,t,a){e==="focusin"?(Gu(),$s=t,Gs=a,$s.attachEvent("onpropertychange",Vu)):e==="focusout"&&Gu()}function tv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wi(Gs)}function av(e,t){if(e==="click")return Wi(t)}function nv(e,t){if(e==="input"||e==="change")return Wi(t)}function sv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:sv;function Vs(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!On.call(t,o)||!Nt(e[o],t[o]))return!1}return!0}function Yu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ku(e,t){var a=Yu(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yu(a)}}function Qu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Qi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Qi(e.document)}return t}function Ul(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var iv=la&&"documentMode"in document&&11>=document.documentMode,Hn=null,zl=null,Ys=null,Ml=!1;function Ju(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ml||Hn==null||Hn!==Qi(s)||(s=Hn,"selectionStart"in s&&Ul(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ys&&Vs(Ys,s)||(Ys=s,s=$r(zl,"onSelect"),0<s.length&&(t=new Pi("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Hn)))}function sn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var $n={animationend:sn("Animation","AnimationEnd"),animationiteration:sn("Animation","AnimationIteration"),animationstart:sn("Animation","AnimationStart"),transitionrun:sn("Transition","TransitionRun"),transitionstart:sn("Transition","TransitionStart"),transitioncancel:sn("Transition","TransitionCancel"),transitionend:sn("Transition","TransitionEnd")},ql={},Iu={};la&&(Iu=document.createElement("div").style,"AnimationEvent"in window||(delete $n.animationend.animation,delete $n.animationiteration.animation,delete $n.animationstart.animation),"TransitionEvent"in window||delete $n.transitionend.transition);function rn(e){if(ql[e])return ql[e];if(!$n[e])return e;var t=$n[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Iu)return ql[e]=t[a];return e}var Zu=rn("animationend"),Pu=rn("animationiteration"),Fu=rn("animationstart"),rv=rn("transitionrun"),lv=rn("transitionstart"),ov=rn("transitioncancel"),Wu=rn("transitionend"),ed=new Map,Bl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bl.push("scrollEnd");function Xt(e,t){ed.set(e,t),an(t,[e])}var er=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Lt=[],Gn=0,Ll=0;function tr(){for(var e=Gn,t=Ll=Gn=0;t<e;){var a=Lt[t];Lt[t++]=null;var s=Lt[t];Lt[t++]=null;var o=Lt[t];Lt[t++]=null;var c=Lt[t];if(Lt[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}c!==0&&td(a,o,c)}}function ar(e,t,a,s){Lt[Gn++]=e,Lt[Gn++]=t,Lt[Gn++]=a,Lt[Gn++]=s,Ll|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Hl(e,t,a,s){return ar(e,t,a,s),nr(e)}function ln(e,t){return ar(e,null,null,t),nr(e)}function td(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,c=e.return;c!==null;)c.childLanes|=a,s=c.alternate,s!==null&&(s.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-Tt(a),e=c.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),c):null}function nr(e){if(50<hi)throw hi=0,Zo=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Vn={};function cv(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,a,s){return new cv(e,t,a,s)}function $l(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oa(e,t){var a=e.alternate;return a===null?(a=At(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ad(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function sr(e,t,a,s,o,c){var m=0;if(s=e,typeof e=="function")$l(e)&&(m=1);else if(typeof e=="string")m=mp(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ae:return e=At(31,a,t,o),e.elementType=ae,e.lanes=c,e;case U:return on(a.children,o,c,t);case B:m=8,o|=24;break;case X:return e=At(12,a,t,o|2),e.elementType=X,e.lanes=c,e;case z:return e=At(13,a,t,o),e.elementType=z,e.lanes=c,e;case K:return e=At(19,a,t,o),e.elementType=K,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:m=10;break e;case J:m=9;break e;case C:m=11;break e;case Q:m=14;break e;case V:m=16,s=null;break e}m=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=At(m,a,t,o),t.elementType=e,t.type=s,t.lanes=c,t}function on(e,t,a,s){return e=At(7,e,s,t),e.lanes=a,e}function Gl(e,t,a){return e=At(6,e,null,t),e.lanes=a,e}function nd(e){var t=At(18,null,null,0);return t.stateNode=e,t}function Vl(e,t,a){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var sd=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var a=sd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Wt(t)},sd.set(e,t),t)}return{value:e,source:t,stack:Wt(t)}}var Yn=[],Kn=0,ir=null,Ks=0,$t=[],Gt=0,Ca=null,ea=1,ta="";function ca(e,t){Yn[Kn++]=Ks,Yn[Kn++]=ir,ir=e,Ks=t}function id(e,t,a){$t[Gt++]=ea,$t[Gt++]=ta,$t[Gt++]=Ca,Ca=e;var s=ea;e=ta;var o=32-Tt(s)-1;s&=~(1<<o),a+=1;var c=32-Tt(t)+o;if(30<c){var m=o-o%5;c=(s&(1<<m)-1).toString(32),s>>=m,o-=m,ea=1<<32-Tt(t)+o|a<<o|s,ta=c+e}else ea=1<<c|a<<o|s,ta=e}function Yl(e){e.return!==null&&(ca(e,1),id(e,1,0))}function Kl(e){for(;e===ir;)ir=Yn[--Kn],Yn[Kn]=null,Ks=Yn[--Kn],Yn[Kn]=null;for(;e===Ca;)Ca=$t[--Gt],$t[Gt]=null,ta=$t[--Gt],$t[Gt]=null,ea=$t[--Gt],$t[Gt]=null}function rd(e,t){$t[Gt++]=ea,$t[Gt++]=ta,$t[Gt++]=Ca,ea=t.id,ta=t.overflow,Ca=e}var lt=null,Le=null,je=!1,ka=null,Vt=!1,Ql=Error(l(519));function Da(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qs(Ht(t,e)),Ql}function ld(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[rt]=e,t[pt]=s,a){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(a=0;a<mi.length;a++)we(mi[a],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),bu(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Su(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||Ef(t.textContent,a)?(s.popover!=null&&(we("beforetoggle",t),we("toggle",t)),s.onScroll!=null&&we("scroll",t),s.onScrollEnd!=null&&we("scrollend",t),s.onClick!=null&&(t.onclick=ra),t=!0):t=!1,t||Da(e,!0)}function od(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:lt=lt.return}}function Qn(e){if(e!==lt)return!1;if(!je)return od(e),je=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||dc(e.type,e.memoizedProps)),a=!a),a&&Le&&Da(e),od(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=Uf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Le=Uf(e)}else t===27?(t=Le,Xa(e.type)?(e=vc,vc=null,Le=e):Le=t):Le=lt?Kt(e.stateNode.nextSibling):null;return!0}function cn(){Le=lt=null,je=!1}function Xl(){var e=ka;return e!==null&&(St===null?St=e:St.push.apply(St,e),ka=null),e}function Qs(e){ka===null?ka=[e]:ka.push(e)}var Jl=S(null),un=null,ua=null;function Ua(e,t,a){P(Jl,t._currentValue),t._currentValue=a}function da(e){e._currentValue=Jl.current,L(Jl)}function Il(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Zl(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var m=o.child;c=c.firstContext;e:for(;c!==null;){var y=c;c=o;for(var w=0;w<t.length;w++)if(y.context===t[w]){c.lanes|=a,y=c.alternate,y!==null&&(y.lanes|=a),Il(c.return,a,e),s||(m=null);break e}c=y.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(l(341));m.lanes|=a,c=m.alternate,c!==null&&(c.lanes|=a),Il(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Xn(e,t,a,s){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var y=o.type;Nt(o.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(o===he.current){if(m=o.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(_i):e=[_i])}o=o.return}e!==null&&Zl(t,e,a,s),t.flags|=262144}function rr(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function dn(e){un=e,ua=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return cd(un,e)}function lr(e,t){return un===null&&dn(e),cd(e,t)}function cd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ua===null){if(e===null)throw Error(l(308));ua=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ua=ua.next=t;return a}var uv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},dv=i.unstable_scheduleCallback,hv=i.unstable_NormalPriority,Ze={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pl(){return{controller:new uv,data:new Map,refCount:0}}function Xs(e){e.refCount--,e.refCount===0&&dv(hv,function(){e.controller.abort()})}var Js=null,Fl=0,Jn=0,In=null;function fv(e,t){if(Js===null){var a=Js=[];Fl=0,Jn=ac(),In={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Fl++,t.then(ud,ud),t}function ud(){if(--Fl===0&&Js!==null){In!==null&&(In.status="fulfilled");var e=Js;Js=null,Jn=0,In=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function mv(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var dd=k.S;k.S=function(e,t){Jh=mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&fv(e,t),dd!==null&&dd(e,t)};var hn=S(null);function Wl(){var e=hn.current;return e!==null?e:Me.pooledCache}function or(e,t){t===null?P(hn,hn.current):P(hn,t.pool)}function hd(){var e=Wl();return e===null?null:{parent:Ze._currentValue,pool:e}}var Zn=Error(l(460)),eo=Error(l(474)),cr=Error(l(542)),ur={then:function(){}};function fd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function md(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ra,ra),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vd(e),e;default:if(typeof t.status=="string")t.then(ra,ra);else{if(e=Me,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vd(e),e}throw mn=t,Zn}}function fn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(mn=a,Zn):a}}var mn=null;function gd(){if(mn===null)throw Error(l(459));var e=mn;return mn=null,e}function vd(e){if(e===Zn||e===cr)throw Error(l(483))}var Pn=null,Is=0;function dr(e){var t=Is;return Is+=1,Pn===null&&(Pn=[]),md(Pn,e,t)}function Zs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function hr(e,t){throw t.$$typeof===x?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pd(e){function t(T,E){if(e){var A=T.deletions;A===null?(T.deletions=[E],T.flags|=16):A.push(E)}}function a(T,E){if(!e)return null;for(;E!==null;)t(T,E),E=E.sibling;return null}function s(T){for(var E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function o(T,E){return T=oa(T,E),T.index=0,T.sibling=null,T}function c(T,E,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<E?(T.flags|=67108866,E):A):(T.flags|=67108866,E)):(T.flags|=1048576,E)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function y(T,E,A,H){return E===null||E.tag!==6?(E=Gl(A,T.mode,H),E.return=T,E):(E=o(E,A),E.return=T,E)}function w(T,E,A,H){var le=A.type;return le===U?q(T,E,A.props.children,H,A.key):E!==null&&(E.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===V&&fn(le)===E.type)?(E=o(E,A.props),Zs(E,A),E.return=T,E):(E=sr(A.type,A.key,A.props,null,T.mode,H),Zs(E,A),E.return=T,E)}function O(T,E,A,H){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Vl(A,T.mode,H),E.return=T,E):(E=o(E,A.children||[]),E.return=T,E)}function q(T,E,A,H,le){return E===null||E.tag!==7?(E=on(A,T.mode,H,le),E.return=T,E):(E=o(E,A),E.return=T,E)}function G(T,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Gl(""+E,T.mode,A),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case j:return A=sr(E.type,E.key,E.props,null,T.mode,A),Zs(A,E),A.return=T,A;case N:return E=Vl(E,T.mode,A),E.return=T,E;case V:return E=fn(E),G(T,E,A)}if(F(E)||ze(E))return E=on(E,T.mode,A,null),E.return=T,E;if(typeof E.then=="function")return G(T,dr(E),A);if(E.$$typeof===M)return G(T,lr(T,E),A);hr(T,E)}return null}function R(T,E,A,H){var le=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return le!==null?null:y(T,E,""+A,H);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case j:return A.key===le?w(T,E,A,H):null;case N:return A.key===le?O(T,E,A,H):null;case V:return A=fn(A),R(T,E,A,H)}if(F(A)||ze(A))return le!==null?null:q(T,E,A,H,null);if(typeof A.then=="function")return R(T,E,dr(A),H);if(A.$$typeof===M)return R(T,E,lr(T,A),H);hr(T,A)}return null}function D(T,E,A,H,le){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return T=T.get(A)||null,y(E,T,""+H,le);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return T=T.get(H.key===null?A:H.key)||null,w(E,T,H,le);case N:return T=T.get(H.key===null?A:H.key)||null,O(E,T,H,le);case V:return H=fn(H),D(T,E,A,H,le)}if(F(H)||ze(H))return T=T.get(A)||null,q(E,T,H,le,null);if(typeof H.then=="function")return D(T,E,A,dr(H),le);if(H.$$typeof===M)return D(T,E,A,lr(E,H),le);hr(E,H)}return null}function te(T,E,A,H){for(var le=null,Te=null,se=E,ve=E=0,xe=null;se!==null&&ve<A.length;ve++){se.index>ve?(xe=se,se=null):xe=se.sibling;var Ne=R(T,se,A[ve],H);if(Ne===null){se===null&&(se=xe);break}e&&se&&Ne.alternate===null&&t(T,se),E=c(Ne,E,ve),Te===null?le=Ne:Te.sibling=Ne,Te=Ne,se=xe}if(ve===A.length)return a(T,se),je&&ca(T,ve),le;if(se===null){for(;ve<A.length;ve++)se=G(T,A[ve],H),se!==null&&(E=c(se,E,ve),Te===null?le=se:Te.sibling=se,Te=se);return je&&ca(T,ve),le}for(se=s(se);ve<A.length;ve++)xe=D(se,T,ve,A[ve],H),xe!==null&&(e&&xe.alternate!==null&&se.delete(xe.key===null?ve:xe.key),E=c(xe,E,ve),Te===null?le=xe:Te.sibling=xe,Te=xe);return e&&se.forEach(function(Fa){return t(T,Fa)}),je&&ca(T,ve),le}function oe(T,E,A,H){if(A==null)throw Error(l(151));for(var le=null,Te=null,se=E,ve=E=0,xe=null,Ne=A.next();se!==null&&!Ne.done;ve++,Ne=A.next()){se.index>ve?(xe=se,se=null):xe=se.sibling;var Fa=R(T,se,Ne.value,H);if(Fa===null){se===null&&(se=xe);break}e&&se&&Fa.alternate===null&&t(T,se),E=c(Fa,E,ve),Te===null?le=Fa:Te.sibling=Fa,Te=Fa,se=xe}if(Ne.done)return a(T,se),je&&ca(T,ve),le;if(se===null){for(;!Ne.done;ve++,Ne=A.next())Ne=G(T,Ne.value,H),Ne!==null&&(E=c(Ne,E,ve),Te===null?le=Ne:Te.sibling=Ne,Te=Ne);return je&&ca(T,ve),le}for(se=s(se);!Ne.done;ve++,Ne=A.next())Ne=D(se,T,ve,Ne.value,H),Ne!==null&&(e&&Ne.alternate!==null&&se.delete(Ne.key===null?ve:Ne.key),E=c(Ne,E,ve),Te===null?le=Ne:Te.sibling=Ne,Te=Ne);return e&&se.forEach(function(Ep){return t(T,Ep)}),je&&ca(T,ve),le}function Ue(T,E,A,H){if(typeof A=="object"&&A!==null&&A.type===U&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case j:e:{for(var le=A.key;E!==null;){if(E.key===le){if(le=A.type,le===U){if(E.tag===7){a(T,E.sibling),H=o(E,A.props.children),H.return=T,T=H;break e}}else if(E.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===V&&fn(le)===E.type){a(T,E.sibling),H=o(E,A.props),Zs(H,A),H.return=T,T=H;break e}a(T,E);break}else t(T,E);E=E.sibling}A.type===U?(H=on(A.props.children,T.mode,H,A.key),H.return=T,T=H):(H=sr(A.type,A.key,A.props,null,T.mode,H),Zs(H,A),H.return=T,T=H)}return m(T);case N:e:{for(le=A.key;E!==null;){if(E.key===le)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){a(T,E.sibling),H=o(E,A.children||[]),H.return=T,T=H;break e}else{a(T,E);break}else t(T,E);E=E.sibling}H=Vl(A,T.mode,H),H.return=T,T=H}return m(T);case V:return A=fn(A),Ue(T,E,A,H)}if(F(A))return te(T,E,A,H);if(ze(A)){if(le=ze(A),typeof le!="function")throw Error(l(150));return A=le.call(A),oe(T,E,A,H)}if(typeof A.then=="function")return Ue(T,E,dr(A),H);if(A.$$typeof===M)return Ue(T,E,lr(T,A),H);hr(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(a(T,E.sibling),H=o(E,A),H.return=T,T=H):(a(T,E),H=Gl(A,T.mode,H),H.return=T,T=H),m(T)):a(T,E)}return function(T,E,A,H){try{Is=0;var le=Ue(T,E,A,H);return Pn=null,le}catch(se){if(se===Zn||se===cr)throw se;var Te=At(29,se,null,T.mode);return Te.lanes=H,Te.return=T,Te}finally{}}}var gn=pd(!0),yd=pd(!1),za=!1;function to(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qa(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ae&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=nr(e),td(e,null,a),t}return ar(e,s,t,a),nr(e)}function Ps(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,cu(e,a)}}function no(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?o=c=m:c=c.next=m,a=a.next}while(a!==null);c===null?o=c=t:c=c.next=t}else o=c=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var so=!1;function Fs(){if(so){var e=In;if(e!==null)throw e}}function Ws(e,t,a,s){so=!1;var o=e.updateQueue;za=!1;var c=o.firstBaseUpdate,m=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var w=y,O=w.next;w.next=null,m===null?c=O:m.next=O,m=w;var q=e.alternate;q!==null&&(q=q.updateQueue,y=q.lastBaseUpdate,y!==m&&(y===null?q.firstBaseUpdate=O:y.next=O,q.lastBaseUpdate=w))}if(c!==null){var G=o.baseState;m=0,q=O=w=null,y=c;do{var R=y.lane&-536870913,D=R!==y.lane;if(D?(Se&R)===R:(s&R)===R){R!==0&&R===Jn&&(so=!0),q!==null&&(q=q.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var te=e,oe=y;R=t;var Ue=a;switch(oe.tag){case 1:if(te=oe.payload,typeof te=="function"){G=te.call(Ue,G,R);break e}G=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=oe.payload,R=typeof te=="function"?te.call(Ue,G,R):te,R==null)break e;G=b({},G,R);break e;case 2:za=!0}}R=y.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=o.callbacks,D===null?o.callbacks=[R]:D.push(R))}else D={lane:R,tag:y.tag,payload:y.payload,callback:y.callback,next:null},q===null?(O=q=D,w=G):q=q.next=D,m|=R;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;D=y,y=D.next,D.next=null,o.lastBaseUpdate=D,o.shared.pending=null}}while(!0);q===null&&(w=G),o.baseState=w,o.firstBaseUpdate=O,o.lastBaseUpdate=q,c===null&&(o.shared.lanes=0),Ga|=m,e.lanes=m,e.memoizedState=G}}function _d(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function bd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_d(a[e],t)}var Fn=S(null),fr=S(0);function wd(e,t){e=ba,P(fr,e),P(Fn,t),ba=e|t.baseLanes}function io(){P(fr,ba),P(Fn,Fn.current)}function ro(){ba=fr.current,L(Fn),L(fr)}var Ot=S(null),Yt=null;function Ba(e){var t=e.alternate;P(Je,Je.current&1),P(Ot,e),Yt===null&&(t===null||Fn.current!==null||t.memoizedState!==null)&&(Yt=e)}function lo(e){P(Je,Je.current),P(Ot,e),Yt===null&&(Yt=e)}function Sd(e){e.tag===22?(P(Je,Je.current),P(Ot,e),Yt===null&&(Yt=e)):La()}function La(){P(Je,Je.current),P(Ot,Ot.current)}function Rt(e){L(Ot),Yt===e&&(Yt=null),L(Je)}var Je=S(0);function mr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||mc(a)||gc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ha=0,me=null,ke=null,Pe=null,gr=!1,Wn=!1,vn=!1,vr=0,ei=0,es=null,gv=0;function Ye(){throw Error(l(321))}function oo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Nt(e[a],t[a]))return!1;return!0}function co(e,t,a,s,o,c){return ha=c,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?ih:Eo,vn=!1,c=a(s,o),vn=!1,Wn&&(c=jd(t,a,s,o)),xd(e),c}function xd(e){k.H=ni;var t=ke!==null&&ke.next!==null;if(ha=0,Pe=ke=me=null,gr=!1,ei=0,es=null,t)throw Error(l(300));e===null||Fe||(e=e.dependencies,e!==null&&rr(e)&&(Fe=!0))}function jd(e,t,a,s){me=e;var o=0;do{if(Wn&&(es=null),ei=0,Wn=!1,25<=o)throw Error(l(301));if(o+=1,Pe=ke=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}k.H=rh,c=t(a,s)}while(Wn);return c}function vv(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?ti(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(me.flags|=1024),t}function uo(){var e=vr!==0;return vr=0,e}function ho(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function fo(e){if(gr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}gr=!1}ha=0,Pe=ke=me=null,Wn=!1,ei=vr=0,es=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?me.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Ie(){if(ke===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Pe===null?me.memoizedState:Pe.next;if(t!==null)Pe=t,ke=e;else{if(e===null)throw me.alternate===null?Error(l(467)):Error(l(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Pe===null?me.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function pr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ti(e){var t=ei;return ei+=1,es===null&&(es=[]),e=md(es,e,t),t=me,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?ih:Eo),e}function yr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ti(e);if(e.$$typeof===M)return ot(e)}throw Error(l(438,String(e)))}function mo(e){var t=null,a=me.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=pr(),me.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=_e;return t.index++,a}function fa(e,t){return typeof t=="function"?t(e):t}function _r(e){var t=Ie();return go(t,ke,e)}function go(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var o=e.baseQueue,c=s.pending;if(c!==null){if(o!==null){var m=o.next;o.next=c.next,c.next=m}t.baseQueue=o=c,s.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var y=m=null,w=null,O=t,q=!1;do{var G=O.lane&-536870913;if(G!==O.lane?(Se&G)===G:(ha&G)===G){var R=O.revertLane;if(R===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),G===Jn&&(q=!0);else if((ha&R)===R){O=O.next,R===Jn&&(q=!0);continue}else G={lane:0,revertLane:O.revertLane,gesture:null,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},w===null?(y=w=G,m=c):w=w.next=G,me.lanes|=R,Ga|=R;G=O.action,vn&&a(c,G),c=O.hasEagerState?O.eagerState:a(c,G)}else R={lane:G,revertLane:O.revertLane,gesture:O.gesture,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},w===null?(y=w=R,m=c):w=w.next=R,me.lanes|=G,Ga|=G;O=O.next}while(O!==null&&O!==t);if(w===null?m=c:w.next=y,!Nt(c,e.memoizedState)&&(Fe=!0,q&&(a=In,a!==null)))throw a;e.memoizedState=c,e.baseState=m,e.baseQueue=w,s.lastRenderedState=c}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function vo(e){var t=Ie(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,c=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do c=e(c,m.action),m=m.next;while(m!==o);Nt(c,t.memoizedState)||(Fe=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,s]}function Ed(e,t,a){var s=me,o=Ie(),c=je;if(c){if(a===void 0)throw Error(l(407));a=a()}else a=t();var m=!Nt((ke||o).memoizedState,a);if(m&&(o.memoizedState=a,Fe=!0),o=o.queue,_o(Ad.bind(null,s,o,e),[e]),o.getSnapshot!==t||m||Pe!==null&&Pe.memoizedState.tag&1){if(s.flags|=2048,ts(9,{destroy:void 0},Nd.bind(null,s,o,a,t),null),Me===null)throw Error(l(349));c||(ha&127)!==0||Td(s,t,a)}return a}function Td(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=me.updateQueue,t===null?(t=pr(),me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Nd(e,t,a,s){t.value=a,t.getSnapshot=s,Od(t)&&Rd(e)}function Ad(e,t,a){return a(function(){Od(t)&&Rd(e)})}function Od(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Nt(e,a)}catch{return!0}}function Rd(e){var t=ln(e,2);t!==null&&xt(t,e,2)}function po(e){var t=gt();if(typeof e=="function"){var a=e;if(e=a(),vn){Aa(!0);try{a()}finally{Aa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function Cd(e,t,a,s){return e.baseState=a,go(e,ke,typeof s=="function"?s:fa)}function pv(e,t,a,s,o){if(Sr(e))throw Error(l(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};k.T!==null?a(!0):c.isTransition=!1,s(c),a=t.pending,a===null?(c.next=t.pending=c,kd(t,c)):(c.next=a.next,t.pending=a.next=c)}}function kd(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var c=k.T,m={};k.T=m;try{var y=a(o,s),w=k.S;w!==null&&w(m,y),Dd(e,t,y)}catch(O){yo(e,t,O)}finally{c!==null&&m.types!==null&&(c.types=m.types),k.T=c}}else try{c=a(o,s),Dd(e,t,c)}catch(O){yo(e,t,O)}}function Dd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Ud(e,t,s)},function(s){return yo(e,t,s)}):Ud(e,t,a)}function Ud(e,t,a){t.status="fulfilled",t.value=a,zd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,kd(e,a)))}function yo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,zd(t),t=t.next;while(t!==s)}e.action=null}function zd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Md(e,t){return t}function qd(e,t){if(je){var a=Me.formState;if(a!==null){e:{var s=me;if(je){if(Le){t:{for(var o=Le,c=Vt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Kt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Le=Kt(o.nextSibling),s=o.data==="F!";break e}}Da(s)}s=!1}s&&(t=a[0])}}return a=gt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Md,lastRenderedState:t},a.queue=s,a=ah.bind(null,me,s),s.dispatch=a,s=po(!1),c=jo.bind(null,me,!1,s.queue),s=gt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=pv.bind(null,me,o,c,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function Bd(e){var t=Ie();return Ld(t,ke,e)}function Ld(e,t,a){if(t=go(e,t,Md)[0],e=_r(fa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ti(t)}catch(m){throw m===Zn?cr:m}else s=t;t=Ie();var o=t.queue,c=o.dispatch;return a!==t.memoizedState&&(me.flags|=2048,ts(9,{destroy:void 0},yv.bind(null,o,a),null)),[s,c,e]}function yv(e,t){e.action=t}function Hd(e){var t=Ie(),a=ke;if(a!==null)return Ld(t,a,e);Ie(),t=t.memoizedState,a=Ie();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function ts(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=me.updateQueue,t===null&&(t=pr(),me.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function $d(){return Ie().memoizedState}function br(e,t,a,s){var o=gt();me.flags|=e,o.memoizedState=ts(1|t,{destroy:void 0},a,s===void 0?null:s)}function wr(e,t,a,s){var o=Ie();s=s===void 0?null:s;var c=o.memoizedState.inst;ke!==null&&s!==null&&oo(s,ke.memoizedState.deps)?o.memoizedState=ts(t,c,a,s):(me.flags|=e,o.memoizedState=ts(1|t,c,a,s))}function Gd(e,t){br(8390656,8,e,t)}function _o(e,t){wr(2048,8,e,t)}function _v(e){me.flags|=4;var t=me.updateQueue;if(t===null)t=pr(),me.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Vd(e){var t=Ie().memoizedState;return _v({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Yd(e,t){return wr(4,2,e,t)}function Kd(e,t){return wr(4,4,e,t)}function Qd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xd(e,t,a){a=a!=null?a.concat([e]):null,wr(4,4,Qd.bind(null,t,e),a)}function bo(){}function Jd(e,t){var a=Ie();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&oo(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Id(e,t){var a=Ie();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&oo(t,s[1]))return s[0];if(s=e(),vn){Aa(!0);try{e()}finally{Aa(!1)}}return a.memoizedState=[s,t],s}function wo(e,t,a){return a===void 0||(ha&1073741824)!==0&&(Se&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Zh(),me.lanes|=e,Ga|=e,a)}function Zd(e,t,a,s){return Nt(a,t)?a:Fn.current!==null?(e=wo(e,a,s),Nt(e,t)||(Fe=!0),e):(ha&42)===0||(ha&1073741824)!==0&&(Se&261930)===0?(Fe=!0,e.memoizedState=a):(e=Zh(),me.lanes|=e,Ga|=e,t)}function Pd(e,t,a,s,o){var c=I.p;I.p=c!==0&&8>c?c:8;var m=k.T,y={};k.T=y,jo(e,!1,t,a);try{var w=o(),O=k.S;if(O!==null&&O(y,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var q=mv(w,s);ai(e,t,q,Dt(e))}else ai(e,t,s,Dt(e))}catch(G){ai(e,t,{then:function(){},status:"rejected",reason:G},Dt())}finally{I.p=c,m!==null&&y.types!==null&&(m.types=y.types),k.T=m}}function bv(){}function So(e,t,a,s){if(e.tag!==5)throw Error(l(476));var o=Fd(e).queue;Pd(e,o,t,ne,a===null?bv:function(){return Wd(e),a(s)})}function Fd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:ne},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Wd(e){var t=Fd(e);t.next===null&&(t=e.alternate.memoizedState),ai(e,t.next.queue,{},Dt())}function xo(){return ot(_i)}function eh(){return Ie().memoizedState}function th(){return Ie().memoizedState}function wv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Dt();e=Ma(a);var s=qa(t,e,a);s!==null&&(xt(s,t,a),Ps(s,t,a)),t={cache:Pl()},e.payload=t;return}t=t.return}}function Sv(e,t,a){var s=Dt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Sr(e)?nh(t,a):(a=Hl(e,t,a,s),a!==null&&(xt(a,e,s),sh(a,t,s)))}function ah(e,t,a){var s=Dt();ai(e,t,a,s)}function ai(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sr(e))nh(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,y=c(m,a);if(o.hasEagerState=!0,o.eagerState=y,Nt(y,m))return ar(e,t,o,0),Me===null&&tr(),!1}catch{}finally{}if(a=Hl(e,t,o,s),a!==null)return xt(a,e,s),sh(a,t,s),!0}return!1}function jo(e,t,a,s){if(s={lane:2,revertLane:ac(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Sr(e)){if(t)throw Error(l(479))}else t=Hl(e,a,s,2),t!==null&&xt(t,e,2)}function Sr(e){var t=e.alternate;return e===me||t!==null&&t===me}function nh(e,t){Wn=gr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function sh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,cu(e,a)}}var ni={readContext:ot,use:yr,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};ni.useEffectEvent=Ye;var ih={readContext:ot,use:yr,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Gd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,br(4194308,4,Qd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return br(4194308,4,e,t)},useInsertionEffect:function(e,t){br(4,2,e,t)},useMemo:function(e,t){var a=gt();t=t===void 0?null:t;var s=e();if(vn){Aa(!0);try{e()}finally{Aa(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=gt();if(a!==void 0){var o=a(t);if(vn){Aa(!0);try{a(t)}finally{Aa(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=Sv.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=po(e);var t=e.queue,a=ah.bind(null,me,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:bo,useDeferredValue:function(e,t){var a=gt();return wo(a,e,t)},useTransition:function(){var e=po(!1);return e=Pd.bind(null,me,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=me,o=gt();if(je){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),Me===null)throw Error(l(349));(Se&127)!==0||Td(s,t,a)}o.memoizedState=a;var c={value:a,getSnapshot:t};return o.queue=c,Gd(Ad.bind(null,s,c,e),[e]),s.flags|=2048,ts(9,{destroy:void 0},Nd.bind(null,s,c,a,t),null),a},useId:function(){var e=gt(),t=Me.identifierPrefix;if(je){var a=ta,s=ea;a=(s&~(1<<32-Tt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=vr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=gv++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xo,useFormState:qd,useActionState:qd,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=jo.bind(null,me,!0,a),a.dispatch=t,[e,t]},useMemoCache:mo,useCacheRefresh:function(){return gt().memoizedState=wv.bind(null,me)},useEffectEvent:function(e){var t=gt(),a={impl:e};return t.memoizedState=a,function(){if((Ae&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Eo={readContext:ot,use:yr,useCallback:Jd,useContext:ot,useEffect:_o,useImperativeHandle:Xd,useInsertionEffect:Yd,useLayoutEffect:Kd,useMemo:Id,useReducer:_r,useRef:$d,useState:function(){return _r(fa)},useDebugValue:bo,useDeferredValue:function(e,t){var a=Ie();return Zd(a,ke.memoizedState,e,t)},useTransition:function(){var e=_r(fa)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:ti(e),t]},useSyncExternalStore:Ed,useId:eh,useHostTransitionStatus:xo,useFormState:Bd,useActionState:Bd,useOptimistic:function(e,t){var a=Ie();return Cd(a,ke,e,t)},useMemoCache:mo,useCacheRefresh:th};Eo.useEffectEvent=Vd;var rh={readContext:ot,use:yr,useCallback:Jd,useContext:ot,useEffect:_o,useImperativeHandle:Xd,useInsertionEffect:Yd,useLayoutEffect:Kd,useMemo:Id,useReducer:vo,useRef:$d,useState:function(){return vo(fa)},useDebugValue:bo,useDeferredValue:function(e,t){var a=Ie();return ke===null?wo(a,e,t):Zd(a,ke.memoizedState,e,t)},useTransition:function(){var e=vo(fa)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:ti(e),t]},useSyncExternalStore:Ed,useId:eh,useHostTransitionStatus:xo,useFormState:Hd,useActionState:Hd,useOptimistic:function(e,t){var a=Ie();return ke!==null?Cd(a,ke,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:mo,useCacheRefresh:th};rh.useEffectEvent=Vd;function To(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var No={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Dt(),o=Ma(s);o.payload=t,a!=null&&(o.callback=a),t=qa(e,o,s),t!==null&&(xt(t,e,s),Ps(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Dt(),o=Ma(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=qa(e,o,s),t!==null&&(xt(t,e,s),Ps(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Dt(),s=Ma(a);s.tag=2,t!=null&&(s.callback=t),t=qa(e,s,a),t!==null&&(xt(t,e,a),Ps(t,e,a))}};function lh(e,t,a,s,o,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,c,m):t.prototype&&t.prototype.isPureReactComponent?!Vs(a,s)||!Vs(o,c):!0}function oh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function pn(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function ch(e){er(e)}function uh(e){console.error(e)}function dh(e){er(e)}function xr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function hh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Ao(e,t,a){return a=Ma(a),a.tag=3,a.payload={element:null},a.callback=function(){xr(e,t)},a}function fh(e){return e=Ma(e),e.tag=3,e}function mh(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=s.value;e.payload=function(){return o(c)},e.callback=function(){hh(t,a,s)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){hh(t,a,s),typeof o!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function xv(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Xn(t,a,o,!0),a=Ot.current,a!==null){switch(a.tag){case 31:case 13:return Yt===null?zr():a.alternate===null&&Ke===0&&(Ke=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===ur?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Wo(e,s,o)),!1;case 22:return a.flags|=65536,s===ur?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Wo(e,s,o)),!1}throw Error(l(435,a.tag))}return Wo(e,s,o),zr(),!1}if(je)return t=Ot.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Ql&&(e=Error(l(422),{cause:s}),Qs(Ht(e,a)))):(s!==Ql&&(t=Error(l(423),{cause:s}),Qs(Ht(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=Ht(s,a),o=Ao(e.stateNode,s,o),no(e,o),Ke!==4&&(Ke=2)),!1;var c=Error(l(520),{cause:s});if(c=Ht(c,a),di===null?di=[c]:di.push(c),Ke!==4&&(Ke=2),t===null)return!0;s=Ht(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Ao(a.stateNode,s,e),no(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Va===null||!Va.has(c))))return a.flags|=65536,o&=-o,a.lanes|=o,o=fh(o),mh(o,e,a,s),no(a,o),!1}a=a.return}while(a!==null);return!1}var Oo=Error(l(461)),Fe=!1;function ct(e,t,a,s){t.child=e===null?yd(t,null,a,s):gn(t,e.child,a,s)}function gh(e,t,a,s,o){a=a.render;var c=t.ref;if("ref"in s){var m={};for(var y in s)y!=="ref"&&(m[y]=s[y])}else m=s;return dn(t),s=co(e,t,a,m,c,o),y=uo(),e!==null&&!Fe?(ho(e,t,o),ma(e,t,o)):(je&&y&&Yl(t),t.flags|=1,ct(e,t,s,o),t.child)}function vh(e,t,a,s,o){if(e===null){var c=a.type;return typeof c=="function"&&!$l(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,ph(e,t,c,s,o)):(e=sr(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!qo(e,o)){var m=c.memoizedProps;if(a=a.compare,a=a!==null?a:Vs,a(m,s)&&e.ref===t.ref)return ma(e,t,o)}return t.flags|=1,e=oa(c,s),e.ref=t.ref,e.return=t,t.child=e}function ph(e,t,a,s,o){if(e!==null){var c=e.memoizedProps;if(Vs(c,s)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=s=c,qo(e,o))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,ma(e,t,o)}return Ro(e,t,a,s,o)}function yh(e,t,a,s){var o=s.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~c}else s=0,t.child=null;return _h(e,t,c,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&or(t,c!==null?c.cachePool:null),c!==null?wd(t,c):io(),Sd(t);else return s=t.lanes=536870912,_h(e,t,c!==null?c.baseLanes|a:a,a,s)}else c!==null?(or(t,c.cachePool),wd(t,c),La(),t.memoizedState=null):(e!==null&&or(t,null),io(),La());return ct(e,t,o,a),t.child}function si(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _h(e,t,a,s,o){var c=Wl();return c=c===null?null:{parent:Ze._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&or(t,null),io(),Sd(t),e!==null&&Xn(e,t,s,!0),t.childLanes=o,null}function jr(e,t){return t=Tr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function bh(e,t,a){return gn(t,e.child,null,a),e=jr(t,t.pendingProps),e.flags|=2,Rt(t),t.memoizedState=null,e}function jv(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(s.mode==="hidden")return e=jr(t,s),t.lanes=536870912,si(null,e);if(lo(t),(e=Le)?(e=Df(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},a=nd(e),a.return=t,t.child=a,lt=t,Le=null)):e=null,e===null)throw Da(t);return t.lanes=536870912,null}return jr(t,s)}var c=e.memoizedState;if(c!==null){var m=c.dehydrated;if(lo(t),o)if(t.flags&256)t.flags&=-257,t=bh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Fe||Xn(e,t,a,!1),o=(a&e.childLanes)!==0,Fe||o){if(s=Me,s!==null&&(m=uu(s,a),m!==0&&m!==c.retryLane))throw c.retryLane=m,ln(e,m),xt(s,e,m),Oo;zr(),t=bh(e,t,a)}else e=c.treeContext,Le=Kt(m.nextSibling),lt=t,je=!0,ka=null,Vt=!1,e!==null&&rd(t,e),t=jr(t,s),t.flags|=4096;return t}return e=oa(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Er(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ro(e,t,a,s,o){return dn(t),a=co(e,t,a,s,void 0,o),s=uo(),e!==null&&!Fe?(ho(e,t,o),ma(e,t,o)):(je&&s&&Yl(t),t.flags|=1,ct(e,t,a,o),t.child)}function wh(e,t,a,s,o,c){return dn(t),t.updateQueue=null,a=jd(t,s,a,o),xd(e),s=uo(),e!==null&&!Fe?(ho(e,t,c),ma(e,t,c)):(je&&s&&Yl(t),t.flags|=1,ct(e,t,a,c),t.child)}function Sh(e,t,a,s,o){if(dn(t),t.stateNode===null){var c=Vn,m=a.contextType;typeof m=="object"&&m!==null&&(c=ot(m)),c=new a(s,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=No,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=s,c.state=t.memoizedState,c.refs={},to(t),m=a.contextType,c.context=typeof m=="object"&&m!==null?ot(m):Vn,c.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(To(t,a,m,s),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&No.enqueueReplaceState(c,c.state,null),Ws(t,s,c,o),Fs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){c=t.stateNode;var y=t.memoizedProps,w=pn(a,y);c.props=w;var O=c.context,q=a.contextType;m=Vn,typeof q=="object"&&q!==null&&(m=ot(q));var G=a.getDerivedStateFromProps;q=typeof G=="function"||typeof c.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,q||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(y||O!==m)&&oh(t,c,s,m),za=!1;var R=t.memoizedState;c.state=R,Ws(t,s,c,o),Fs(),O=t.memoizedState,y||R!==O||za?(typeof G=="function"&&(To(t,a,G,s),O=t.memoizedState),(w=za||lh(t,a,w,s,R,O,m))?(q||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=O),c.props=s,c.state=O,c.context=m,s=w):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,ao(e,t),m=t.memoizedProps,q=pn(a,m),c.props=q,G=t.pendingProps,R=c.context,O=a.contextType,w=Vn,typeof O=="object"&&O!==null&&(w=ot(O)),y=a.getDerivedStateFromProps,(O=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==G||R!==w)&&oh(t,c,s,w),za=!1,R=t.memoizedState,c.state=R,Ws(t,s,c,o),Fs();var D=t.memoizedState;m!==G||R!==D||za||e!==null&&e.dependencies!==null&&rr(e.dependencies)?(typeof y=="function"&&(To(t,a,y,s),D=t.memoizedState),(q=za||lh(t,a,q,s,R,D,w)||e!==null&&e.dependencies!==null&&rr(e.dependencies))?(O||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,D,w),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,D,w)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=D),c.props=s,c.state=D,c.context=w,s=q):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),s=!1)}return c=s,Er(e,t),s=(t.flags&128)!==0,c||s?(c=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&s?(t.child=gn(t,e.child,null,o),t.child=gn(t,null,a,o)):ct(e,t,a,o),t.memoizedState=c.state,e=t.child):e=ma(e,t,o),e}function xh(e,t,a,s){return cn(),t.flags|=256,ct(e,t,a,s),t.child}var Co={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ko(e){return{baseLanes:e,cachePool:hd()}}function Do(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=kt),e}function jh(e,t,a){var s=t.pendingProps,o=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(o?Ba(t):La(),(e=Le)?(e=Df(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},a=nd(e),a.return=t,t.child=a,lt=t,Le=null)):e=null,e===null)throw Da(t);return gc(e)?t.lanes=32:t.lanes=536870912,null}var y=s.children;return s=s.fallback,o?(La(),o=t.mode,y=Tr({mode:"hidden",children:y},o),s=on(s,o,a,null),y.return=t,s.return=t,y.sibling=s,t.child=y,s=t.child,s.memoizedState=ko(a),s.childLanes=Do(e,m,a),t.memoizedState=Co,si(null,s)):(Ba(t),Uo(t,y))}var w=e.memoizedState;if(w!==null&&(y=w.dehydrated,y!==null)){if(c)t.flags&256?(Ba(t),t.flags&=-257,t=zo(e,t,a)):t.memoizedState!==null?(La(),t.child=e.child,t.flags|=128,t=null):(La(),y=s.fallback,o=t.mode,s=Tr({mode:"visible",children:s.children},o),y=on(y,o,a,null),y.flags|=2,s.return=t,y.return=t,s.sibling=y,t.child=s,gn(t,e.child,null,a),s=t.child,s.memoizedState=ko(a),s.childLanes=Do(e,m,a),t.memoizedState=Co,t=si(null,s));else if(Ba(t),gc(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var O=m.dgst;m=O,s=Error(l(419)),s.stack="",s.digest=m,Qs({value:s,source:null,stack:null}),t=zo(e,t,a)}else if(Fe||Xn(e,t,a,!1),m=(a&e.childLanes)!==0,Fe||m){if(m=Me,m!==null&&(s=uu(m,a),s!==0&&s!==w.retryLane))throw w.retryLane=s,ln(e,s),xt(m,e,s),Oo;mc(y)||zr(),t=zo(e,t,a)}else mc(y)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Le=Kt(y.nextSibling),lt=t,je=!0,ka=null,Vt=!1,e!==null&&rd(t,e),t=Uo(t,s.children),t.flags|=4096);return t}return o?(La(),y=s.fallback,o=t.mode,w=e.child,O=w.sibling,s=oa(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&65011712,O!==null?y=oa(O,y):(y=on(y,o,a,null),y.flags|=2),y.return=t,s.return=t,s.sibling=y,t.child=s,si(null,s),s=t.child,y=e.child.memoizedState,y===null?y=ko(a):(o=y.cachePool,o!==null?(w=Ze._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=hd(),y={baseLanes:y.baseLanes|a,cachePool:o}),s.memoizedState=y,s.childLanes=Do(e,m,a),t.memoizedState=Co,si(e.child,s)):(Ba(t),a=e.child,e=a.sibling,a=oa(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Uo(e,t){return t=Tr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Tr(e,t){return e=At(22,e,null,t),e.lanes=0,e}function zo(e,t,a){return gn(t,e.child,null,a),e=Uo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Eh(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Il(e.return,t,a)}function Mo(e,t,a,s,o,c){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:c}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=a,m.tailMode=o,m.treeForkCount=c)}function Th(e,t,a){var s=t.pendingProps,o=s.revealOrder,c=s.tail;s=s.children;var m=Je.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,P(Je,m),ct(e,t,s,a),s=je?Ks:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eh(e,a,t);else if(e.tag===19)Eh(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&mr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Mo(t,!1,o,a,c,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&mr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Mo(t,!0,a,null,c,s);break;case"together":Mo(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ma(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ga|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Xn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=oa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=oa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function qo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&rr(e)))}function Ev(e,t,a){switch(t.tag){case 3:Oe(t,t.stateNode.containerInfo),Ua(t,Ze,e.memoizedState.cache),cn();break;case 27:case 5:Be(t);break;case 4:Oe(t,t.stateNode.containerInfo);break;case 10:Ua(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,lo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ba(t),t.flags|=128,null):(a&t.child.childLanes)!==0?jh(e,t,a):(Ba(t),e=ma(e,t,a),e!==null?e.sibling:null);Ba(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Xn(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return Th(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),P(Je,Je.current),s)break;return null;case 22:return t.lanes=0,yh(e,t,a,t.pendingProps);case 24:Ua(t,Ze,e.memoizedState.cache)}return ma(e,t,a)}function Nh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!qo(e,a)&&(t.flags&128)===0)return Fe=!1,Ev(e,t,a);Fe=(e.flags&131072)!==0}else Fe=!1,je&&(t.flags&1048576)!==0&&id(t,Ks,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=fn(t.elementType),t.type=e,typeof e=="function")$l(e)?(s=pn(e,s),t.tag=1,t=Sh(null,t,e,s,a)):(t.tag=0,t=Ro(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===C){t.tag=11,t=gh(null,t,e,s,a);break e}else if(o===Q){t.tag=14,t=vh(null,t,e,s,a);break e}}throw t=ie(e)||e,Error(l(306,t,""))}}return t;case 0:return Ro(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=pn(s,t.pendingProps),Sh(e,t,s,o,a);case 3:e:{if(Oe(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var c=t.memoizedState;o=c.element,ao(e,t),Ws(t,s,null,a);var m=t.memoizedState;if(s=m.cache,Ua(t,Ze,s),s!==c.cache&&Zl(t,[Ze],a,!0),Fs(),s=m.element,c.isDehydrated)if(c={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=xh(e,t,s,a);break e}else if(s!==o){o=Ht(Error(l(424)),t),Qs(o),t=xh(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Kt(e.firstChild),lt=t,je=!0,ka=null,Vt=!0,a=yd(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(cn(),s===o){t=ma(e,t,a);break e}ct(e,t,s,a)}t=t.child}return t;case 26:return Er(e,t),e===null?(a=Lf(t.type,null,t.pendingProps,null))?t.memoizedState=a:je||(a=t.type,e=t.pendingProps,s=Gr(ee.current).createElement(a),s[rt]=t,s[pt]=e,ut(s,a,e),nt(s),t.stateNode=s):t.memoizedState=Lf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Be(t),e===null&&je&&(s=t.stateNode=Mf(t.type,t.pendingProps,ee.current),lt=t,Vt=!0,o=Le,Xa(t.type)?(vc=o,Le=Kt(s.firstChild)):Le=o),ct(e,t,t.pendingProps.children,a),Er(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((o=s=Le)&&(s=tp(s,t.type,t.pendingProps,Vt),s!==null?(t.stateNode=s,lt=t,Le=Kt(s.firstChild),Vt=!1,o=!0):o=!1),o||Da(t)),Be(t),o=t.type,c=t.pendingProps,m=e!==null?e.memoizedProps:null,s=c.children,dc(o,c)?s=null:m!==null&&dc(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=co(e,t,vv,null,null,a),_i._currentValue=o),Er(e,t),ct(e,t,s,a),t.child;case 6:return e===null&&je&&((e=a=Le)&&(a=ap(a,t.pendingProps,Vt),a!==null?(t.stateNode=a,lt=t,Le=null,e=!0):e=!1),e||Da(t)),null;case 13:return jh(e,t,a);case 4:return Oe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=gn(t,null,s,a):ct(e,t,s,a),t.child;case 11:return gh(e,t,t.type,t.pendingProps,a);case 7:return ct(e,t,t.pendingProps,a),t.child;case 8:return ct(e,t,t.pendingProps.children,a),t.child;case 12:return ct(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Ua(t,t.type,s.value),ct(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,dn(t),o=ot(o),s=s(o),t.flags|=1,ct(e,t,s,a),t.child;case 14:return vh(e,t,t.type,t.pendingProps,a);case 15:return ph(e,t,t.type,t.pendingProps,a);case 19:return Th(e,t,a);case 31:return jv(e,t,a);case 22:return yh(e,t,a,t.pendingProps);case 24:return dn(t),s=ot(Ze),e===null?(o=Wl(),o===null&&(o=Me,c=Pl(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=a),o=c),t.memoizedState={parent:s,cache:o},to(t),Ua(t,Ze,o)):((e.lanes&a)!==0&&(ao(e,t),Ws(t,null,null,a),Fs()),o=e.memoizedState,c=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ua(t,Ze,s)):(s=c.cache,Ua(t,Ze,s),s!==o.cache&&Zl(t,[Ze],a,!0))),ct(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function ga(e){e.flags|=4}function Bo(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(ef())e.flags|=8192;else throw mn=ur,eo}else e.flags&=-16777217}function Ah(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Yf(t))if(ef())e.flags|=8192;else throw mn=ur,eo}function Nr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?lu():536870912,e.lanes|=t,is|=t)}function ii(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function He(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function Tv(e,t,a){var s=t.pendingProps;switch(Kl(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(t),null;case 1:return He(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),da(Ze),ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Qn(t)?ga(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Xl())),He(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(ga(t),c!==null?(He(t),Ah(t,c)):(He(t),Bo(t,o,null,s,a))):c?c!==e.memoizedState?(ga(t),He(t),Ah(t,c)):(He(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&ga(t),He(t),Bo(t,o,e,s,a)),null;case 27:if(vt(t),a=ee.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ga(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return He(t),null}e=W.current,Qn(t)?ld(t):(e=Mf(o,s,a),t.stateNode=e,ga(t))}return He(t),null;case 5:if(vt(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ga(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return He(t),null}if(c=W.current,Qn(t))ld(t);else{var m=Gr(ee.current);switch(c){case 1:c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=m.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?c.multiple=!0:s.size&&(c.size=s.size);break;default:c=typeof s.is=="string"?m.createElement(o,{is:s.is}):m.createElement(o)}}c[rt]=t,c[pt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=c;e:switch(ut(c,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&ga(t)}}return He(t),Bo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ga(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=ee.current,Qn(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=lt,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[rt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Ef(e.nodeValue,a)),e||Da(t,!0)}else e=Gr(e).createTextNode(s),e[rt]=t,t.stateNode=e}return He(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Qn(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[rt]=t}else cn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),e=!1}else a=Xl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Rt(t),t):(Rt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return He(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Qn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[rt]=t}else cn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;He(t),o=!1}else o=Xl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Rt(t),t):(Rt(t),null)}return Rt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Nr(t,t.updateQueue),He(t),null);case 4:return ge(),e===null&&rc(t.stateNode.containerInfo),He(t),null;case 10:return da(t.type),He(t),null;case 19:if(L(Je),s=t.memoizedState,s===null)return He(t),null;if(o=(t.flags&128)!==0,c=s.rendering,c===null)if(o)ii(s,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=mr(e),c!==null){for(t.flags|=128,ii(s,!1),e=c.updateQueue,t.updateQueue=e,Nr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)ad(a,e),a=a.sibling;return P(Je,Je.current&1|2),je&&ca(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&mt()>kr&&(t.flags|=128,o=!0,ii(s,!1),t.lanes=4194304)}else{if(!o)if(e=mr(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Nr(t,e),ii(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!je)return He(t),null}else 2*mt()-s.renderingStartTime>kr&&a!==536870912&&(t.flags|=128,o=!0,ii(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(e=s.last,e!==null?e.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,a=Je.current,P(Je,o?a&1|2:a&1),je&&ca(t,s.treeForkCount),e):(He(t),null);case 22:case 23:return Rt(t),ro(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(He(t),t.subtreeFlags&6&&(t.flags|=8192)):He(t),a=t.updateQueue,a!==null&&Nr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&L(hn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),da(Ze),He(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Nv(e,t){switch(Kl(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return da(Ze),ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return vt(t),null;case 31:if(t.memoizedState!==null){if(Rt(t),t.alternate===null)throw Error(l(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Rt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Je),null;case 4:return ge(),null;case 10:return da(t.type),null;case 22:case 23:return Rt(t),ro(),e!==null&&L(hn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return da(Ze),null;case 25:return null;default:return null}}function Oh(e,t){switch(Kl(t),t.tag){case 3:da(Ze),ge();break;case 26:case 27:case 5:vt(t);break;case 4:ge();break;case 31:t.memoizedState!==null&&Rt(t);break;case 13:Rt(t);break;case 19:L(Je);break;case 10:da(t.type);break;case 22:case 23:Rt(t),ro(),e!==null&&L(hn);break;case 24:da(Ze)}}function ri(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var c=a.create,m=a.inst;s=c(),m.destroy=s}a=a.next}while(a!==o)}}catch(y){Ce(t,t.return,y)}}function Ha(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){var m=s.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,o=t;var w=a,O=y;try{O()}catch(q){Ce(o,w,q)}}}s=s.next}while(s!==c)}}catch(q){Ce(t,t.return,q)}}function Rh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{bd(t,a)}catch(s){Ce(e,e.return,s)}}}function Ch(e,t,a){a.props=pn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ce(e,t,s)}}function li(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){Ce(e,t,o)}}function aa(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){Ce(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ce(e,t,o)}else a.current=null}function kh(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){Ce(e,e.return,o)}}function Lo(e,t,a){try{var s=e.stateNode;Iv(s,e.type,a,t),s[pt]=t}catch(o){Ce(e,e.return,o)}}function Dh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xa(e.type)||e.tag===4}function Ho(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $o(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ra));else if(s!==4&&(s===27&&Xa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for($o(e,t,a),e=e.sibling;e!==null;)$o(e,t,a),e=e.sibling}function Ar(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Xa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ar(e,t,a),e=e.sibling;e!==null;)Ar(e,t,a),e=e.sibling}function Uh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ut(t,s,a),t[rt]=e,t[pt]=a}catch(c){Ce(e,e.return,c)}}var va=!1,We=!1,Go=!1,zh=typeof WeakSet=="function"?WeakSet:Set,st=null;function Av(e,t){if(e=e.containerInfo,cc=Ir,e=Xu(e),Ul(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var m=0,y=-1,w=-1,O=0,q=0,G=e,R=null;t:for(;;){for(var D;G!==a||o!==0&&G.nodeType!==3||(y=m+o),G!==c||s!==0&&G.nodeType!==3||(w=m+s),G.nodeType===3&&(m+=G.nodeValue.length),(D=G.firstChild)!==null;)R=G,G=D;for(;;){if(G===e)break t;if(R===a&&++O===o&&(y=m),R===c&&++q===s&&(w=m),(D=G.nextSibling)!==null)break;G=R,R=G.parentNode}G=D}a=y===-1||w===-1?null:{start:y,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(uc={focusedElem:e,selectionRange:a},Ir=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,o=c.memoizedProps,c=c.memoizedState,s=a.stateNode;try{var te=pn(a.type,o);e=s.getSnapshotBeforeUpdate(te,c),s.__reactInternalSnapshotBeforeUpdate=e}catch(oe){Ce(a,a.return,oe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)fc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function Mh(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:ya(e,a),s&4&&ri(5,a);break;case 1:if(ya(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Ce(a,a.return,m)}else{var o=pn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ce(a,a.return,m)}}s&64&&Rh(a),s&512&&li(a,a.return);break;case 3:if(ya(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{bd(e,t)}catch(m){Ce(a,a.return,m)}}break;case 27:t===null&&s&4&&Uh(a);case 26:case 5:ya(e,a),t===null&&s&4&&kh(a),s&512&&li(a,a.return);break;case 12:ya(e,a);break;case 31:ya(e,a),s&4&&Lh(e,a);break;case 13:ya(e,a),s&4&&Hh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=qv.bind(null,a),np(e,a))));break;case 22:if(s=a.memoizedState!==null||va,!s){t=t!==null&&t.memoizedState!==null||We,o=va;var c=We;va=s,(We=t)&&!c?_a(e,a,(a.subtreeFlags&8772)!==0):ya(e,a),va=o,We=c}break;case 30:break;default:ya(e,a)}}function qh(e){var t=e.alternate;t!==null&&(e.alternate=null,qh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&pl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,_t=!1;function pa(e,t,a){for(a=a.child;a!==null;)Bh(e,t,a),a=a.sibling}function Bh(e,t,a){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Cs,a)}catch{}switch(a.tag){case 26:We||aa(a,t),pa(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||aa(a,t);var s=Ge,o=_t;Xa(a.type)&&(Ge=a.stateNode,_t=!1),pa(e,t,a),vi(a.stateNode),Ge=s,_t=o;break;case 5:We||aa(a,t);case 6:if(s=Ge,o=_t,Ge=null,pa(e,t,a),Ge=s,_t=o,Ge!==null)if(_t)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(a.stateNode)}catch(c){Ce(a,t,c)}else try{Ge.removeChild(a.stateNode)}catch(c){Ce(a,t,c)}break;case 18:Ge!==null&&(_t?(e=Ge,Cf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),fs(e)):Cf(Ge,a.stateNode));break;case 4:s=Ge,o=_t,Ge=a.stateNode.containerInfo,_t=!0,pa(e,t,a),Ge=s,_t=o;break;case 0:case 11:case 14:case 15:Ha(2,a,t),We||Ha(4,a,t),pa(e,t,a);break;case 1:We||(aa(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Ch(a,t,s)),pa(e,t,a);break;case 21:pa(e,t,a);break;case 22:We=(s=We)||a.memoizedState!==null,pa(e,t,a),We=s;break;default:pa(e,t,a)}}function Lh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{fs(e)}catch(a){Ce(t,t.return,a)}}}function Hh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fs(e)}catch(a){Ce(t,t.return,a)}}function Ov(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zh),t;default:throw Error(l(435,e.tag))}}function Or(e,t){var a=Ov(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=Bv.bind(null,e,s);s.then(o,o)}})}function bt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],c=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(Xa(y.type)){Ge=y.stateNode,_t=!1;break e}break;case 5:Ge=y.stateNode,_t=!1;break e;case 3:case 4:Ge=y.stateNode.containerInfo,_t=!0;break e}y=y.return}if(Ge===null)throw Error(l(160));Bh(c,m,o),Ge=null,_t=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)$h(t,e),t=t.sibling}var Jt=null;function $h(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bt(t,e),wt(e),s&4&&(Ha(3,e,e.return),ri(3,e),Ha(5,e,e.return));break;case 1:bt(t,e),wt(e),s&512&&(We||a===null||aa(a,a.return)),s&64&&va&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=Jt;if(bt(t,e),wt(e),s&512&&(We||a===null||aa(a,a.return)),s&4){var c=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Us]||c[rt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(s),o.head.insertBefore(c,o.querySelector("head > title"))),ut(c,s,a),c[rt]=e,nt(c),s=c;break e;case"link":var m=Gf("link","href",o).get(s+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(c=m[y],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}c=o.createElement(s),ut(c,s,a),o.head.appendChild(c);break;case"meta":if(m=Gf("meta","content",o).get(s+(a.content||""))){for(y=0;y<m.length;y++)if(c=m[y],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}c=o.createElement(s),ut(c,s,a),o.head.appendChild(c);break;default:throw Error(l(468,s))}c[rt]=e,nt(c),s=c}e.stateNode=s}else Vf(o,e.type,e.stateNode);else e.stateNode=$f(o,s,e.memoizedProps);else c!==s?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,s===null?Vf(o,e.type,e.stateNode):$f(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Lo(e,e.memoizedProps,a.memoizedProps)}break;case 27:bt(t,e),wt(e),s&512&&(We||a===null||aa(a,a.return)),a!==null&&s&4&&Lo(e,e.memoizedProps,a.memoizedProps);break;case 5:if(bt(t,e),wt(e),s&512&&(We||a===null||aa(a,a.return)),e.flags&32){o=e.stateNode;try{Mn(o,"")}catch(te){Ce(e,e.return,te)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Lo(e,o,a!==null?a.memoizedProps:o)),s&1024&&(Go=!0);break;case 6:if(bt(t,e),wt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(te){Ce(e,e.return,te)}}break;case 3:if(Kr=null,o=Jt,Jt=Vr(t.containerInfo),bt(t,e),Jt=o,wt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{fs(t.containerInfo)}catch(te){Ce(e,e.return,te)}Go&&(Go=!1,Gh(e));break;case 4:s=Jt,Jt=Vr(e.stateNode.containerInfo),bt(t,e),wt(e),Jt=s;break;case 12:bt(t,e),wt(e);break;case 31:bt(t,e),wt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Or(e,s)));break;case 13:bt(t,e),wt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cr=mt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Or(e,s)));break;case 22:o=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,O=va,q=We;if(va=O||o,We=q||w,bt(t,e),We=q,va=O,wt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||w||va||We||yn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(c=w.stateNode,o)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=w.stateNode;var G=w.memoizedProps.style,R=G!=null&&G.hasOwnProperty("display")?G.display:null;y.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(te){Ce(w,w.return,te)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(te){Ce(w,w.return,te)}}}else if(t.tag===18){if(a===null){w=t;try{var D=w.stateNode;o?kf(D,!0):kf(w.stateNode,!1)}catch(te){Ce(w,w.return,te)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Or(e,a))));break;case 19:bt(t,e),wt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Or(e,s)));break;case 30:break;case 21:break;default:bt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Dh(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,c=Ho(e);Ar(e,c,o);break;case 5:var m=a.stateNode;a.flags&32&&(Mn(m,""),a.flags&=-33);var y=Ho(e);Ar(e,y,m);break;case 3:case 4:var w=a.stateNode.containerInfo,O=Ho(e);$o(e,O,w);break;default:throw Error(l(161))}}catch(q){Ce(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Gh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Gh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ya(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Mh(e,t.alternate,t),t=t.sibling}function yn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ha(4,t,t.return),yn(t);break;case 1:aa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Ch(t,t.return,a),yn(t);break;case 27:vi(t.stateNode);case 26:case 5:aa(t,t.return),yn(t);break;case 22:t.memoizedState===null&&yn(t);break;case 30:yn(t);break;default:yn(t)}e=e.sibling}}function _a(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,c=t,m=c.flags;switch(c.tag){case 0:case 11:case 15:_a(o,c,a),ri(4,c);break;case 1:if(_a(o,c,a),s=c,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(O){Ce(s,s.return,O)}if(s=c,o=s.updateQueue,o!==null){var y=s.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)_d(w[o],y)}catch(O){Ce(s,s.return,O)}}a&&m&64&&Rh(c),li(c,c.return);break;case 27:Uh(c);case 26:case 5:_a(o,c,a),a&&s===null&&m&4&&kh(c),li(c,c.return);break;case 12:_a(o,c,a);break;case 31:_a(o,c,a),a&&m&4&&Lh(o,c);break;case 13:_a(o,c,a),a&&m&4&&Hh(o,c);break;case 22:c.memoizedState===null&&_a(o,c,a),li(c,c.return);break;case 30:break;default:_a(o,c,a)}t=t.sibling}}function Vo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xs(a))}function Yo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xs(e))}function It(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Vh(e,t,a,s),t=t.sibling}function Vh(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:It(e,t,a,s),o&2048&&ri(9,t);break;case 1:It(e,t,a,s);break;case 3:It(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xs(e)));break;case 12:if(o&2048){It(e,t,a,s),e=t.stateNode;try{var c=t.memoizedProps,m=c.id,y=c.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ce(t,t.return,w)}}else It(e,t,a,s);break;case 31:It(e,t,a,s);break;case 13:It(e,t,a,s);break;case 23:break;case 22:c=t.stateNode,m=t.alternate,t.memoizedState!==null?c._visibility&2?It(e,t,a,s):oi(e,t):c._visibility&2?It(e,t,a,s):(c._visibility|=2,as(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Vo(m,t);break;case 24:It(e,t,a,s),o&2048&&Yo(t.alternate,t);break;default:It(e,t,a,s)}}function as(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,m=t,y=a,w=s,O=m.flags;switch(m.tag){case 0:case 11:case 15:as(c,m,y,w,o),ri(8,m);break;case 23:break;case 22:var q=m.stateNode;m.memoizedState!==null?q._visibility&2?as(c,m,y,w,o):oi(c,m):(q._visibility|=2,as(c,m,y,w,o)),o&&O&2048&&Vo(m.alternate,m);break;case 24:as(c,m,y,w,o),o&&O&2048&&Yo(m.alternate,m);break;default:as(c,m,y,w,o)}t=t.sibling}}function oi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:oi(a,s),o&2048&&Vo(s.alternate,s);break;case 24:oi(a,s),o&2048&&Yo(s.alternate,s);break;default:oi(a,s)}t=t.sibling}}var ci=8192;function ns(e,t,a){if(e.subtreeFlags&ci)for(e=e.child;e!==null;)Yh(e,t,a),e=e.sibling}function Yh(e,t,a){switch(e.tag){case 26:ns(e,t,a),e.flags&ci&&e.memoizedState!==null&&gp(a,Jt,e.memoizedState,e.memoizedProps);break;case 5:ns(e,t,a);break;case 3:case 4:var s=Jt;Jt=Vr(e.stateNode.containerInfo),ns(e,t,a),Jt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ci,ci=16777216,ns(e,t,a),ci=s):ns(e,t,a));break;default:ns(e,t,a)}}function Kh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ui(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];st=s,Xh(s,e)}Kh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qh(e),e=e.sibling}function Qh(e){switch(e.tag){case 0:case 11:case 15:ui(e),e.flags&2048&&Ha(9,e,e.return);break;case 3:ui(e);break;case 12:ui(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rr(e)):ui(e);break;default:ui(e)}}function Rr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];st=s,Xh(s,e)}Kh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ha(8,t,t.return),Rr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Rr(t));break;default:Rr(t)}e=e.sibling}}function Xh(e,t){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:Ha(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Xs(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,st=s;else e:for(a=e;st!==null;){s=st;var o=s.sibling,c=s.return;if(qh(s),s===a){st=null;break e}if(o!==null){o.return=c,st=o;break e}st=c}}}var Rv={getCacheForType:function(e){var t=ot(Ze),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ot(Ze).controller.signal}},Cv=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Me=null,be=null,Se=0,Re=0,Ct=null,$a=!1,ss=!1,Ko=!1,ba=0,Ke=0,Ga=0,_n=0,Qo=0,kt=0,is=0,di=null,St=null,Xo=!1,Cr=0,Jh=0,kr=1/0,Dr=null,Va=null,tt=0,Ya=null,rs=null,wa=0,Jo=0,Io=null,Ih=null,hi=0,Zo=null;function Dt(){return(Ae&2)!==0&&Se!==0?Se&-Se:k.T!==null?ac():du()}function Zh(){if(kt===0)if((Se&536870912)===0||je){var e=$i;$i<<=1,($i&3932160)===0&&($i=262144),kt=e}else kt=536870912;return e=Ot.current,e!==null&&(e.flags|=32),kt}function xt(e,t,a){(e===Me&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(ls(e,0),Ka(e,Se,kt,!1)),Ds(e,a),((Ae&2)===0||e!==Me)&&(e===Me&&((Ae&2)===0&&(_n|=a),Ke===4&&Ka(e,Se,kt,!1)),na(e))}function Ph(e,t,a){if((Ae&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ks(e,t),o=s?Uv(e,t):Fo(e,t,!0),c=s;do{if(o===0){ss&&!s&&Ka(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!kv(a)){o=Fo(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;o=di;var w=y.current.memoizedState.isDehydrated;if(w&&(ls(y,m).flags|=256),m=Fo(y,m,!1),m!==2){if(Ko&&!w){y.errorRecoveryDisabledLanes|=c,_n|=c,o=4;break e}c=St,St=o,c!==null&&(St===null?St=c:St.push.apply(St,c))}o=m}if(c=!1,o!==2)continue}}if(o===1){ls(e,0),Ka(e,t,0,!0);break}e:{switch(s=e,c=o,c){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ka(s,t,kt,!$a);break e;case 2:St=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Cr+300-mt(),10<o)){if(Ka(s,t,kt,!$a),Vi(s,0,!0)!==0)break e;wa=t,s.timeoutHandle=Of(Fh.bind(null,s,a,St,Dr,Xo,t,kt,_n,is,$a,c,"Throttled",-0,0),o);break e}Fh(s,a,St,Dr,Xo,t,kt,_n,is,$a,c,null,-0,0)}}break}while(!0);na(e)}function Fh(e,t,a,s,o,c,m,y,w,O,q,G,R,D){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ra},Yh(t,c,G);var te=(c&62914560)===c?Cr-mt():(c&4194048)===c?Jh-mt():0;if(te=vp(G,te),te!==null){wa=c,e.cancelPendingCommit=te(lf.bind(null,e,t,c,a,s,o,m,y,w,q,G,null,R,D)),Ka(e,c,m,!O);return}}lf(e,t,c,a,s,o,m,y,w)}function kv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],c=o.getSnapshot;o=o.value;try{if(!Nt(c(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ka(e,t,a,s){t&=~Qo,t&=~_n,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var c=31-Tt(o),m=1<<c;s[c]=-1,o&=~m}a!==0&&ou(e,a,t)}function Ur(){return(Ae&6)===0?(fi(0),!1):!0}function Po(){if(be!==null){if(Re===0)var e=be.return;else e=be,ua=un=null,fo(e),Pn=null,Is=0,e=be;for(;e!==null;)Oh(e.alternate,e),e=e.return;be=null}}function ls(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Fv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),wa=0,Po(),Me=e,be=a=oa(e.current,null),Se=t,Re=0,Ct=null,$a=!1,ss=ks(e,t),Ko=!1,is=kt=Qo=_n=Ga=Ke=0,St=di=null,Xo=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-Tt(s),c=1<<o;t|=e[o],s&=~c}return ba=t,tr(),a}function Wh(e,t){me=null,k.H=ni,t===Zn||t===cr?(t=gd(),Re=3):t===eo?(t=gd(),Re=4):Re=t===Oo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ct=t,be===null&&(Ke=1,xr(e,Ht(t,e.current)))}function ef(){var e=Ot.current;return e===null?!0:(Se&4194048)===Se?Yt===null:(Se&62914560)===Se||(Se&536870912)!==0?e===Yt:!1}function tf(){var e=k.H;return k.H=ni,e===null?ni:e}function af(){var e=k.A;return k.A=Rv,e}function zr(){Ke=4,$a||(Se&4194048)!==Se&&Ot.current!==null||(ss=!0),(Ga&134217727)===0&&(_n&134217727)===0||Me===null||Ka(Me,Se,kt,!1)}function Fo(e,t,a){var s=Ae;Ae|=2;var o=tf(),c=af();(Me!==e||Se!==t)&&(Dr=null,ls(e,t)),t=!1;var m=Ke;e:do try{if(Re!==0&&be!==null){var y=be,w=Ct;switch(Re){case 8:Po(),m=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(t=!0);var O=Re;if(Re=0,Ct=null,os(e,y,w,O),a&&ss){m=0;break e}break;default:O=Re,Re=0,Ct=null,os(e,y,w,O)}}Dv(),m=Ke;break}catch(q){Wh(e,q)}while(!0);return t&&e.shellSuspendCounter++,ua=un=null,Ae=s,k.H=o,k.A=c,be===null&&(Me=null,Se=0,tr()),m}function Dv(){for(;be!==null;)nf(be)}function Uv(e,t){var a=Ae;Ae|=2;var s=tf(),o=af();Me!==e||Se!==t?(Dr=null,kr=mt()+500,ls(e,t)):ss=ks(e,t);e:do try{if(Re!==0&&be!==null){t=be;var c=Ct;t:switch(Re){case 1:Re=0,Ct=null,os(e,t,c,1);break;case 2:case 9:if(fd(c)){Re=0,Ct=null,sf(t);break}t=function(){Re!==2&&Re!==9||Me!==e||(Re=7),na(e)},c.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:fd(c)?(Re=0,Ct=null,sf(t)):(Re=0,Ct=null,os(e,t,c,7));break;case 5:var m=null;switch(be.tag){case 26:m=be.memoizedState;case 5:case 27:var y=be;if(m?Yf(m):y.stateNode.complete){Re=0,Ct=null;var w=y.sibling;if(w!==null)be=w;else{var O=y.return;O!==null?(be=O,Mr(O)):be=null}break t}}Re=0,Ct=null,os(e,t,c,5);break;case 6:Re=0,Ct=null,os(e,t,c,6);break;case 8:Po(),Ke=6;break e;default:throw Error(l(462))}}zv();break}catch(q){Wh(e,q)}while(!0);return ua=un=null,k.H=s,k.A=o,Ae=a,be!==null?0:(Me=null,Se=0,tr(),Ke)}function zv(){for(;be!==null&&!Rs();)nf(be)}function nf(e){var t=Nh(e.alternate,e,ba);e.memoizedProps=e.pendingProps,t===null?Mr(e):be=t}function sf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=wh(a,t,t.pendingProps,t.type,void 0,Se);break;case 11:t=wh(a,t,t.pendingProps,t.type.render,t.ref,Se);break;case 5:fo(t);default:Oh(a,t),t=be=ad(t,ba),t=Nh(a,t,ba)}e.memoizedProps=e.pendingProps,t===null?Mr(e):be=t}function os(e,t,a,s){ua=un=null,fo(t),Pn=null,Is=0;var o=t.return;try{if(xv(e,o,t,a,Se)){Ke=1,xr(e,Ht(a,e.current)),be=null;return}}catch(c){if(o!==null)throw be=o,c;Ke=1,xr(e,Ht(a,e.current)),be=null;return}t.flags&32768?(je||s===1?e=!0:ss||(Se&536870912)!==0?e=!1:($a=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ot.current,s!==null&&s.tag===13&&(s.flags|=16384))),rf(t,e)):Mr(t)}function Mr(e){var t=e;do{if((t.flags&32768)!==0){rf(t,$a);return}e=t.return;var a=Tv(t.alternate,t,ba);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Ke===0&&(Ke=5)}function rf(e,t){do{var a=Nv(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);Ke=6,be=null}function lf(e,t,a,s,o,c,m,y,w){e.cancelPendingCommit=null;do qr();while(tt!==0);if((Ae&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(c=t.lanes|t.childLanes,c|=Ll,mg(e,a,c,m,y,w),e===Me&&(be=Me=null,Se=0),rs=t,Ya=e,wa=a,Jo=c,Io=o,Ih=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Lv(Li,function(){return hf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,o=I.p,I.p=2,m=Ae,Ae|=4;try{Av(e,t,a)}finally{Ae=m,I.p=o,k.T=s}}tt=1,of(),cf(),uf()}}function of(){if(tt===1){tt=0;var e=Ya,t=rs,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var s=I.p;I.p=2;var o=Ae;Ae|=4;try{$h(t,e);var c=uc,m=Xu(e.containerInfo),y=c.focusedElem,w=c.selectionRange;if(m!==y&&y&&y.ownerDocument&&Qu(y.ownerDocument.documentElement,y)){if(w!==null&&Ul(y)){var O=w.start,q=w.end;if(q===void 0&&(q=O),"selectionStart"in y)y.selectionStart=O,y.selectionEnd=Math.min(q,y.value.length);else{var G=y.ownerDocument||document,R=G&&G.defaultView||window;if(R.getSelection){var D=R.getSelection(),te=y.textContent.length,oe=Math.min(w.start,te),Ue=w.end===void 0?oe:Math.min(w.end,te);!D.extend&&oe>Ue&&(m=Ue,Ue=oe,oe=m);var T=Ku(y,oe),E=Ku(y,Ue);if(T&&E&&(D.rangeCount!==1||D.anchorNode!==T.node||D.anchorOffset!==T.offset||D.focusNode!==E.node||D.focusOffset!==E.offset)){var A=G.createRange();A.setStart(T.node,T.offset),D.removeAllRanges(),oe>Ue?(D.addRange(A),D.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),D.addRange(A))}}}}for(G=[],D=y;D=D.parentNode;)D.nodeType===1&&G.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<G.length;y++){var H=G[y];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Ir=!!cc,uc=cc=null}finally{Ae=o,I.p=s,k.T=a}}e.current=t,tt=2}}function cf(){if(tt===2){tt=0;var e=Ya,t=rs,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var s=I.p;I.p=2;var o=Ae;Ae|=4;try{Mh(e,t.alternate,t)}finally{Ae=o,I.p=s,k.T=a}}tt=3}}function uf(){if(tt===4||tt===3){tt=0,qi();var e=Ya,t=rs,a=wa,s=Ih;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,rs=Ya=null,df(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Va=null),gl(a),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Cs,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=k.T,o=I.p,I.p=2,k.T=null;try{for(var c=e.onRecoverableError,m=0;m<s.length;m++){var y=s[m];c(y.value,{componentStack:y.stack})}}finally{k.T=t,I.p=o}}(wa&3)!==0&&qr(),na(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Zo?hi++:(hi=0,Zo=e):hi=0,fi(0)}}function df(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Xs(t)))}function qr(){return of(),cf(),uf(),hf()}function hf(){if(tt!==5)return!1;var e=Ya,t=Jo;Jo=0;var a=gl(wa),s=k.T,o=I.p;try{I.p=32>a?32:a,k.T=null,a=Io,Io=null;var c=Ya,m=wa;if(tt=0,rs=Ya=null,wa=0,(Ae&6)!==0)throw Error(l(331));var y=Ae;if(Ae|=4,Qh(c.current),Vh(c,c.current,m,a),Ae=y,fi(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Cs,c)}catch{}return!0}finally{I.p=o,k.T=s,df(e,t)}}function ff(e,t,a){t=Ht(a,t),t=Ao(e.stateNode,t,2),e=qa(e,t,2),e!==null&&(Ds(e,2),na(e))}function Ce(e,t,a){if(e.tag===3)ff(e,e,a);else for(;t!==null;){if(t.tag===3){ff(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Va===null||!Va.has(s))){e=Ht(a,e),a=fh(2),s=qa(t,a,2),s!==null&&(mh(a,s,t,e),Ds(s,2),na(s));break}}t=t.return}}function Wo(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new Cv;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Ko=!0,o.add(a),e=Mv.bind(null,e,t,a),t.then(e,e))}function Mv(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Me===e&&(Se&a)===a&&(Ke===4||Ke===3&&(Se&62914560)===Se&&300>mt()-Cr?(Ae&2)===0&&ls(e,0):Qo|=a,is===Se&&(is=0)),na(e)}function mf(e,t){t===0&&(t=lu()),e=ln(e,t),e!==null&&(Ds(e,t),na(e))}function qv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),mf(e,a)}function Bv(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),mf(e,a)}function Lv(e,t){return As(e,t)}var Br=null,cs=null,ec=!1,Lr=!1,tc=!1,Qa=0;function na(e){e!==cs&&e.next===null&&(cs===null?Br=cs=e:cs=cs.next=e),Lr=!0,ec||(ec=!0,$v())}function fi(e,t){if(!tc&&Lr){tc=!0;do for(var a=!1,s=Br;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var c=0;else{var m=s.suspendedLanes,y=s.pingedLanes;c=(1<<31-Tt(42|e)+1)-1,c&=o&~(m&~y),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,yf(s,c))}else c=Se,c=Vi(s,s===Me?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(c&3)===0||ks(s,c)||(a=!0,yf(s,c));s=s.next}while(a);tc=!1}}function Hv(){gf()}function gf(){Lr=ec=!1;var e=0;Qa!==0&&Pv()&&(e=Qa);for(var t=mt(),a=null,s=Br;s!==null;){var o=s.next,c=vf(s,t);c===0?(s.next=null,a===null?Br=o:a.next=o,o===null&&(cs=a)):(a=s,(e!==0||(c&3)!==0)&&(Lr=!0)),s=o}tt!==0&&tt!==5||fi(e),Qa!==0&&(Qa=0)}function vf(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var m=31-Tt(c),y=1<<m,w=o[m];w===-1?((y&a)===0||(y&s)!==0)&&(o[m]=fg(y,t)):w<=t&&(e.expiredLanes|=y),c&=~y}if(t=Me,a=Se,a=Vi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Os(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ks(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Os(s),gl(a)){case 2:case 8:a=iu;break;case 32:a=Li;break;case 268435456:a=ru;break;default:a=Li}return s=pf.bind(null,e),a=As(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Os(s),e.callbackPriority=2,e.callbackNode=null,2}function pf(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(qr()&&e.callbackNode!==a)return null;var s=Se;return s=Vi(e,e===Me?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Ph(e,s,t),vf(e,mt()),e.callbackNode!=null&&e.callbackNode===a?pf.bind(null,e):null)}function yf(e,t){if(qr())return null;Ph(e,t,!0)}function $v(){Wv(function(){(Ae&6)!==0?As(Bi,Hv):gf()})}function ac(){if(Qa===0){var e=Jn;e===0&&(e=Hi,Hi<<=1,(Hi&261888)===0&&(Hi=256)),Qa=e}return Qa}function _f(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xi(""+e)}function bf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Gv(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var c=_f((o[pt]||null).action),m=s.submitter;m&&(t=(t=m[pt]||null)?_f(t.formAction):m.getAttribute("formAction"),t!==null&&(c=t,m=null));var y=new Pi("action","action",null,s,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Qa!==0){var w=m?bf(o,m):new FormData(o);So(a,{pending:!0,data:w,method:o.method,action:c},null,w)}}else typeof c=="function"&&(y.preventDefault(),w=m?bf(o,m):new FormData(o),So(a,{pending:!0,data:w,method:o.method,action:c},c,w))},currentTarget:o}]})}}for(var nc=0;nc<Bl.length;nc++){var sc=Bl[nc],Vv=sc.toLowerCase(),Yv=sc[0].toUpperCase()+sc.slice(1);Xt(Vv,"on"+Yv)}Xt(Zu,"onAnimationEnd"),Xt(Pu,"onAnimationIteration"),Xt(Fu,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(rv,"onTransitionRun"),Xt(lv,"onTransitionStart"),Xt(ov,"onTransitionCancel"),Xt(Wu,"onTransitionEnd"),Un("onMouseEnter",["mouseout","mouseover"]),Un("onMouseLeave",["mouseout","mouseover"]),Un("onPointerEnter",["pointerout","pointerover"]),Un("onPointerLeave",["pointerout","pointerover"]),an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),an("onBeforeInput",["compositionend","keypress","textInput","paste"]),an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mi));function wf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var c=void 0;if(t)for(var m=s.length-1;0<=m;m--){var y=s[m],w=y.instance,O=y.currentTarget;if(y=y.listener,w!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=O;try{c(o)}catch(q){er(q)}o.currentTarget=null,c=w}else for(m=0;m<s.length;m++){if(y=s[m],w=y.instance,O=y.currentTarget,y=y.listener,w!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=O;try{c(o)}catch(q){er(q)}o.currentTarget=null,c=w}}}}function we(e,t){var a=t[vl];a===void 0&&(a=t[vl]=new Set);var s=e+"__bubble";a.has(s)||(Sf(t,e,2,!1),a.add(s))}function ic(e,t,a){var s=0;t&&(s|=4),Sf(a,e,s,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function rc(e){if(!e[Hr]){e[Hr]=!0,mu.forEach(function(a){a!=="selectionchange"&&(Kv.has(a)||ic(a,!1,e),ic(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hr]||(t[Hr]=!0,ic("selectionchange",!1,t))}}function Sf(e,t,a,s){switch(Pf(t)){case 2:var o=_p;break;case 8:o=bp;break;default:o=wc}a=o.bind(null,t,a,e),o=void 0,!El||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function lc(e,t,a,s,o){var c=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var y=s.stateNode.containerInfo;if(y===o)break;if(m===4)for(m=s.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;y!==null;){if(m=Cn(y),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){s=c=m;continue e}y=y.parentNode}}s=s.return}Tu(function(){var O=c,q=xl(a),G=[];e:{var R=ed.get(e);if(R!==void 0){var D=Pi,te=e;switch(e){case"keypress":if(Ii(a)===0)break e;case"keydown":case"keyup":D=Bg;break;case"focusin":te="focus",D=Ol;break;case"focusout":te="blur",D=Ol;break;case"beforeblur":case"afterblur":D=Ol;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Ou;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=Tg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=$g;break;case Zu:case Pu:case Fu:D=Og;break;case Wu:D=Vg;break;case"scroll":case"scrollend":D=jg;break;case"wheel":D=Kg;break;case"copy":case"cut":case"paste":D=Cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Cu;break;case"toggle":case"beforetoggle":D=Xg}var oe=(t&4)!==0,Ue=!oe&&(e==="scroll"||e==="scrollend"),T=oe?R!==null?R+"Capture":null:R;oe=[];for(var E=O,A;E!==null;){var H=E;if(A=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||A===null||T===null||(H=Ms(E,T),H!=null&&oe.push(gi(E,H,A))),Ue)break;E=E.return}0<oe.length&&(R=new D(R,te,null,a,q),G.push({event:R,listeners:oe}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&a!==Sl&&(te=a.relatedTarget||a.fromElement)&&(Cn(te)||te[Rn]))break e;if((D||R)&&(R=q.window===q?q:(R=q.ownerDocument)?R.defaultView||R.parentWindow:window,D?(te=a.relatedTarget||a.toElement,D=O,te=te?Cn(te):null,te!==null&&(Ue=h(te),oe=te.tag,te!==Ue||oe!==5&&oe!==27&&oe!==6)&&(te=null)):(D=null,te=O),D!==te)){if(oe=Ou,H="onMouseLeave",T="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(oe=Cu,H="onPointerLeave",T="onPointerEnter",E="pointer"),Ue=D==null?R:zs(D),A=te==null?R:zs(te),R=new oe(H,E+"leave",D,a,q),R.target=Ue,R.relatedTarget=A,H=null,Cn(q)===O&&(oe=new oe(T,E+"enter",te,a,q),oe.target=A,oe.relatedTarget=Ue,H=oe),Ue=H,D&&te)t:{for(oe=Qv,T=D,E=te,A=0,H=T;H;H=oe(H))A++;H=0;for(var le=E;le;le=oe(le))H++;for(;0<A-H;)T=oe(T),A--;for(;0<H-A;)E=oe(E),H--;for(;A--;){if(T===E||E!==null&&T===E.alternate){oe=T;break t}T=oe(T),E=oe(E)}oe=null}else oe=null;D!==null&&xf(G,R,D,oe,!1),te!==null&&Ue!==null&&xf(G,Ue,te,oe,!0)}}e:{if(R=O?zs(O):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var Te=Lu;else if(qu(R))if(Hu)Te=nv;else{Te=tv;var se=ev}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?O&&wl(O.elementType)&&(Te=Lu):Te=av;if(Te&&(Te=Te(e,O))){Bu(G,Te,a,q);break e}se&&se(e,R,O),e==="focusout"&&O&&R.type==="number"&&O.memoizedProps.value!=null&&bl(R,"number",R.value)}switch(se=O?zs(O):window,e){case"focusin":(qu(se)||se.contentEditable==="true")&&(Hn=se,zl=O,Ys=null);break;case"focusout":Ys=zl=Hn=null;break;case"mousedown":Ml=!0;break;case"contextmenu":case"mouseup":case"dragend":Ml=!1,Ju(G,a,q);break;case"selectionchange":if(iv)break;case"keydown":case"keyup":Ju(G,a,q)}var ve;if(Cl)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Ln?zu(e,a)&&(xe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(ku&&a.locale!=="ko"&&(Ln||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Ln&&(ve=Nu()):(Ra=q,Tl="value"in Ra?Ra.value:Ra.textContent,Ln=!0)),se=$r(O,xe),0<se.length&&(xe=new Ru(xe,e,null,a,q),G.push({event:xe,listeners:se}),ve?xe.data=ve:(ve=Mu(a),ve!==null&&(xe.data=ve)))),(ve=Ig?Zg(e,a):Pg(e,a))&&(xe=$r(O,"onBeforeInput"),0<xe.length&&(se=new Ru("onBeforeInput","beforeinput",null,a,q),G.push({event:se,listeners:xe}),se.data=ve)),Gv(G,e,O,a,q)}wf(G,t)})}function gi(e,t,a){return{instance:e,listener:t,currentTarget:a}}function $r(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=Ms(e,a),o!=null&&s.unshift(gi(e,o,c)),o=Ms(e,t),o!=null&&s.push(gi(e,o,c))),e.tag===3)return s;e=e.return}return[]}function Qv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xf(e,t,a,s,o){for(var c=t._reactName,m=[];a!==null&&a!==s;){var y=a,w=y.alternate,O=y.stateNode;if(y=y.tag,w!==null&&w===s)break;y!==5&&y!==26&&y!==27||O===null||(w=O,o?(O=Ms(a,c),O!=null&&m.unshift(gi(a,O,w))):o||(O=Ms(a,c),O!=null&&m.push(gi(a,O,w)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var Xv=/\r\n?/g,Jv=/\u0000|\uFFFD/g;function jf(e){return(typeof e=="string"?e:""+e).replace(Xv,`
`).replace(Jv,"")}function Ef(e,t){return t=jf(t),jf(e)===t}function De(e,t,a,s,o,c){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Mn(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Mn(e,""+s);break;case"className":Ki(e,"class",s);break;case"tabIndex":Ki(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(e,a,s);break;case"style":ju(e,s,c);break;case"data":if(t!=="object"){Ki(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Xi(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&De(e,t,"name",o.name,o,null),De(e,t,"formEncType",o.formEncType,o,null),De(e,t,"formMethod",o.formMethod,o,null),De(e,t,"formTarget",o.formTarget,o,null)):(De(e,t,"encType",o.encType,o,null),De(e,t,"method",o.method,o,null),De(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Xi(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=ra);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Xi(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":we("beforetoggle",e),we("toggle",e),Yi(e,"popover",s);break;case"xlinkActuate":ia(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ia(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ia(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ia(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ia(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ia(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ia(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ia(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ia(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Yi(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sg.get(a)||a,Yi(e,a,s))}}function oc(e,t,a,s,o,c){switch(a){case"style":ju(e,s,c);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Mn(e,s):(typeof s=="number"||typeof s=="bigint")&&Mn(e,""+s);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),c=e[pt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof s=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Yi(e,a,s)}}}function ut(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var s=!1,o=!1,c;for(c in a)if(a.hasOwnProperty(c)){var m=a[c];if(m!=null)switch(c){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:De(e,t,c,m,a,null)}}o&&De(e,t,"srcSet",a.srcSet,a,null),s&&De(e,t,"src",a.src,a,null);return;case"input":we("invalid",e);var y=c=m=o=null,w=null,O=null;for(s in a)if(a.hasOwnProperty(s)){var q=a[s];if(q!=null)switch(s){case"name":o=q;break;case"type":m=q;break;case"checked":w=q;break;case"defaultChecked":O=q;break;case"value":c=q;break;case"defaultValue":y=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,t));break;default:De(e,t,s,q,a,null)}}bu(e,c,y,w,O,m,o,!1);return;case"select":we("invalid",e),s=m=c=null;for(o in a)if(a.hasOwnProperty(o)&&(y=a[o],y!=null))switch(o){case"value":c=y;break;case"defaultValue":m=y;break;case"multiple":s=y;default:De(e,t,o,y,a,null)}t=c,a=m,e.multiple=!!s,t!=null?zn(e,!!s,t,!1):a!=null&&zn(e,!!s,a,!0);return;case"textarea":we("invalid",e),c=o=s=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":s=y;break;case"defaultValue":o=y;break;case"children":c=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:De(e,t,m,y,a,null)}Su(e,s,o,c);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(s=a[w],s!=null))switch(w){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:De(e,t,w,s,a,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(s=0;s<mi.length;s++)we(mi[s],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in a)if(a.hasOwnProperty(O)&&(s=a[O],s!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:De(e,t,O,s,a,null)}return;default:if(wl(t)){for(q in a)a.hasOwnProperty(q)&&(s=a[q],s!==void 0&&oc(e,t,q,s,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(s=a[y],s!=null&&De(e,t,y,s,a,null))}function Iv(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,m=null,y=null,w=null,O=null,q=null;for(D in a){var G=a[D];if(a.hasOwnProperty(D)&&G!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":w=G;default:s.hasOwnProperty(D)||De(e,t,D,null,s,G)}}for(var R in s){var D=s[R];if(G=a[R],s.hasOwnProperty(R)&&(D!=null||G!=null))switch(R){case"type":c=D;break;case"name":o=D;break;case"checked":O=D;break;case"defaultChecked":q=D;break;case"value":m=D;break;case"defaultValue":y=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(l(137,t));break;default:D!==G&&De(e,t,R,D,s,G)}}_l(e,m,y,w,O,q,c,o);return;case"select":D=m=y=R=null;for(c in a)if(w=a[c],a.hasOwnProperty(c)&&w!=null)switch(c){case"value":break;case"multiple":D=w;default:s.hasOwnProperty(c)||De(e,t,c,null,s,w)}for(o in s)if(c=s[o],w=a[o],s.hasOwnProperty(o)&&(c!=null||w!=null))switch(o){case"value":R=c;break;case"defaultValue":y=c;break;case"multiple":m=c;default:c!==w&&De(e,t,o,c,s,w)}t=y,a=m,s=D,R!=null?zn(e,!!a,R,!1):!!s!=!!a&&(t!=null?zn(e,!!a,t,!0):zn(e,!!a,a?[]:"",!1));return;case"textarea":D=R=null;for(y in a)if(o=a[y],a.hasOwnProperty(y)&&o!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:De(e,t,y,null,s,o)}for(m in s)if(o=s[m],c=a[m],s.hasOwnProperty(m)&&(o!=null||c!=null))switch(m){case"value":R=o;break;case"defaultValue":D=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==c&&De(e,t,m,o,s,c)}wu(e,R,D);return;case"option":for(var te in a)if(R=a[te],a.hasOwnProperty(te)&&R!=null&&!s.hasOwnProperty(te))switch(te){case"selected":e.selected=!1;break;default:De(e,t,te,null,s,R)}for(w in s)if(R=s[w],D=a[w],s.hasOwnProperty(w)&&R!==D&&(R!=null||D!=null))switch(w){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:De(e,t,w,R,s,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in a)R=a[oe],a.hasOwnProperty(oe)&&R!=null&&!s.hasOwnProperty(oe)&&De(e,t,oe,null,s,R);for(O in s)if(R=s[O],D=a[O],s.hasOwnProperty(O)&&R!==D&&(R!=null||D!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(137,t));break;default:De(e,t,O,R,s,D)}return;default:if(wl(t)){for(var Ue in a)R=a[Ue],a.hasOwnProperty(Ue)&&R!==void 0&&!s.hasOwnProperty(Ue)&&oc(e,t,Ue,void 0,s,R);for(q in s)R=s[q],D=a[q],!s.hasOwnProperty(q)||R===D||R===void 0&&D===void 0||oc(e,t,q,R,s,D);return}}for(var T in a)R=a[T],a.hasOwnProperty(T)&&R!=null&&!s.hasOwnProperty(T)&&De(e,t,T,null,s,R);for(G in s)R=s[G],D=a[G],!s.hasOwnProperty(G)||R===D||R==null&&D==null||De(e,t,G,R,s,D)}function Tf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],c=o.transferSize,m=o.initiatorType,y=o.duration;if(c&&y&&Tf(m)){for(m=0,y=o.responseEnd,s+=1;s<a.length;s++){var w=a[s],O=w.startTime;if(O>y)break;var q=w.transferSize,G=w.initiatorType;q&&Tf(G)&&(w=w.responseEnd,m+=q*(w<y?1:(y-O)/(w-O)))}if(--s,t+=8*(c+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cc=null,uc=null;function Gr(e){return e.nodeType===9?e:e.ownerDocument}function Nf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Af(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function dc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hc=null;function Pv(){var e=window.event;return e&&e.type==="popstate"?e===hc?!1:(hc=e,!0):(hc=null,!1)}var Of=typeof setTimeout=="function"?setTimeout:void 0,Fv=typeof clearTimeout=="function"?clearTimeout:void 0,Rf=typeof Promise=="function"?Promise:void 0,Wv=typeof queueMicrotask=="function"?queueMicrotask:typeof Rf<"u"?function(e){return Rf.resolve(null).then(e).catch(ep)}:Of;function ep(e){setTimeout(function(){throw e})}function Xa(e){return e==="head"}function Cf(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),fs(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")vi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,vi(a);for(var c=a.firstChild;c;){var m=c.nextSibling,y=c.nodeName;c[Us]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=m}}else a==="body"&&vi(e.ownerDocument.body);a=o}while(a);fs(t)}function kf(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function fc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fc(a),pl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function tp(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Us])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Kt(e.nextSibling),e===null)break}return null}function ap(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Kt(e.nextSibling),e===null))return null;return e}function Df(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kt(e.nextSibling),e===null))return null;return e}function mc(e){return e.data==="$?"||e.data==="$~"}function gc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function np(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var vc=null;function Uf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Kt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function zf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Mf(e,t,a){switch(t=Gr(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function vi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);pl(e)}var Qt=new Map,qf=new Set;function Vr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sa=I.d;I.d={f:sp,r:ip,D:rp,C:lp,L:op,m:cp,X:dp,S:up,M:hp};function sp(){var e=Sa.f(),t=Ur();return e||t}function ip(e){var t=kn(e);t!==null&&t.tag===5&&t.type==="form"?Wd(t):Sa.r(e)}var us=typeof document>"u"?null:document;function Bf(e,t,a){var s=us;if(s&&typeof t=="string"&&t){var o=Bt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),qf.has(o)||(qf.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),ut(t,"link",e),nt(t),s.head.appendChild(t)))}}function rp(e){Sa.D(e),Bf("dns-prefetch",e,null)}function lp(e,t){Sa.C(e,t),Bf("preconnect",e,t)}function op(e,t,a){Sa.L(e,t,a);var s=us;if(s&&e&&t){var o='link[rel="preload"][as="'+Bt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Bt(a.imageSizes)+'"]')):o+='[href="'+Bt(e)+'"]';var c=o;switch(t){case"style":c=ds(e);break;case"script":c=hs(e)}Qt.has(c)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Qt.set(c,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(pi(c))||t==="script"&&s.querySelector(yi(c))||(t=s.createElement("link"),ut(t,"link",e),nt(t),s.head.appendChild(t)))}}function cp(e,t){Sa.m(e,t);var a=us;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Bt(s)+'"][href="'+Bt(e)+'"]',c=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=hs(e)}if(!Qt.has(c)&&(e=b({rel:"modulepreload",href:e},t),Qt.set(c,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yi(c)))return}s=a.createElement("link"),ut(s,"link",e),nt(s),a.head.appendChild(s)}}}function up(e,t,a){Sa.S(e,t,a);var s=us;if(s&&e){var o=Dn(s).hoistableStyles,c=ds(e);t=t||"default";var m=o.get(c);if(!m){var y={loading:0,preload:null};if(m=s.querySelector(pi(c)))y.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Qt.get(c))&&pc(e,a);var w=m=s.createElement("link");nt(w),ut(w,"link",e),w._p=new Promise(function(O,q){w.onload=O,w.onerror=q}),w.addEventListener("load",function(){y.loading|=1}),w.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Yr(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:y},o.set(c,m)}}}function dp(e,t){Sa.X(e,t);var a=us;if(a&&e){var s=Dn(a).hoistableScripts,o=hs(e),c=s.get(o);c||(c=a.querySelector(yi(o)),c||(e=b({src:e,async:!0},t),(t=Qt.get(o))&&yc(e,t),c=a.createElement("script"),nt(c),ut(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function hp(e,t){Sa.M(e,t);var a=us;if(a&&e){var s=Dn(a).hoistableScripts,o=hs(e),c=s.get(o);c||(c=a.querySelector(yi(o)),c||(e=b({src:e,async:!0,type:"module"},t),(t=Qt.get(o))&&yc(e,t),c=a.createElement("script"),nt(c),ut(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},s.set(o,c))}}function Lf(e,t,a,s){var o=(o=ee.current)?Vr(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ds(a.href),a=Dn(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ds(a.href);var c=Dn(o).hoistableStyles,m=c.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,m),(c=o.querySelector(pi(e)))&&!c._p&&(m.instance=c,m.state.loading=5),Qt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qt.set(e,a),c||fp(o,e,a,m.state))),t&&s===null)throw Error(l(528,""));return m}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=hs(a),a=Dn(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ds(e){return'href="'+Bt(e)+'"'}function pi(e){return'link[rel="stylesheet"]['+e+"]"}function Hf(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function fp(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ut(t,"link",a),nt(t),e.head.appendChild(t))}function hs(e){return'[src="'+Bt(e)+'"]'}function yi(e){return"script[async]"+e}function $f(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Bt(a.href)+'"]');if(s)return t.instance=s,nt(s),s;var o=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),nt(s),ut(s,"style",o),Yr(s,a.precedence,e),t.instance=s;case"stylesheet":o=ds(a.href);var c=e.querySelector(pi(o));if(c)return t.state.loading|=4,t.instance=c,nt(c),c;s=Hf(a),(o=Qt.get(o))&&pc(s,o),c=(e.ownerDocument||e).createElement("link"),nt(c);var m=c;return m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),ut(c,"link",s),t.state.loading|=4,Yr(c,a.precedence,e),t.instance=c;case"script":return c=hs(a.src),(o=e.querySelector(yi(c)))?(t.instance=o,nt(o),o):(s=a,(o=Qt.get(c))&&(s=b({},a),yc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),nt(o),ut(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Yr(s,a.precedence,e));return t.instance}function Yr(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,c=o,m=0;m<s.length;m++){var y=s[m];if(y.dataset.precedence===t)c=y;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function yc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Kr=null;function Gf(e,t,a){if(Kr===null){var s=new Map,o=Kr=new Map;o.set(a,s)}else o=Kr,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var c=a[o];if(!(c[Us]||c[rt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(t)||"";m=e+m;var y=s.get(m);y?y.push(c):s.set(m,[c])}}return s}function Vf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function mp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Yf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gp(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=ds(s.href),c=t.querySelector(pi(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Qr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,nt(c);return}c=t.ownerDocument||t,s=Hf(s),(o=Qt.get(o))&&pc(s,o),c=c.createElement("link"),nt(c);var m=c;m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),ut(c,"link",s),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Qr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var _c=0;function vp(e,t){return e.stylesheets&&e.count===0&&Jr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Jr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&_c===0&&(_c=62500*Zv());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>_c?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Qr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xr=null;function Jr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xr=new Map,t.forEach(pp,e),Xr=null,Qr.call(e))}function pp(e,t){if(!(t.state.loading&4)){var a=Xr.get(e);if(a)var s=a.get(null);else{a=new Map,Xr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var m=o[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),s=m)}s&&a.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),c=a.get(m)||s,c===s&&a.set(null,o),a.set(m,o),this.count++,s=Qr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var _i={$$typeof:M,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function yp(e,t,a,s,o,c,m,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fl(0),this.hiddenUpdates=fl(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Kf(e,t,a,s,o,c,m,y,w,O,q,G){return e=new yp(e,t,a,m,w,O,q,G,y),t=1,c===!0&&(t|=24),c=At(3,null,null,t),e.current=c,c.stateNode=e,t=Pl(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:s,isDehydrated:a,cache:t},to(c),e}function Qf(e){return e?(e=Vn,e):Vn}function Xf(e,t,a,s,o,c){o=Qf(o),s.context===null?s.context=o:s.pendingContext=o,s=Ma(t),s.payload={element:a},c=c===void 0?null:c,c!==null&&(s.callback=c),a=qa(e,s,t),a!==null&&(xt(a,e,t),Ps(a,e,t))}function Jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function bc(e,t){Jf(e,t),(e=e.alternate)&&Jf(e,t)}function If(e){if(e.tag===13||e.tag===31){var t=ln(e,67108864);t!==null&&xt(t,e,67108864),bc(e,67108864)}}function Zf(e){if(e.tag===13||e.tag===31){var t=Dt();t=ml(t);var a=ln(e,t);a!==null&&xt(a,e,t),bc(e,t)}}var Ir=!0;function _p(e,t,a,s){var o=k.T;k.T=null;var c=I.p;try{I.p=2,wc(e,t,a,s)}finally{I.p=c,k.T=o}}function bp(e,t,a,s){var o=k.T;k.T=null;var c=I.p;try{I.p=8,wc(e,t,a,s)}finally{I.p=c,k.T=o}}function wc(e,t,a,s){if(Ir){var o=Sc(s);if(o===null)lc(e,t,s,Zr,a),Ff(e,s);else if(Sp(o,e,t,a,s))s.stopPropagation();else if(Ff(e,s),t&4&&-1<wp.indexOf(e)){for(;o!==null;){var c=kn(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=tn(c.pendingLanes);if(m!==0){var y=c;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var w=1<<31-Tt(m);y.entanglements[1]|=w,m&=~w}na(c),(Ae&6)===0&&(kr=mt()+500,fi(0))}}break;case 31:case 13:y=ln(c,2),y!==null&&xt(y,c,2),Ur(),bc(c,2)}if(c=Sc(s),c===null&&lc(e,t,s,Zr,a),c===o)break;o=c}o!==null&&s.stopPropagation()}else lc(e,t,s,null,a)}}function Sc(e){return e=xl(e),xc(e)}var Zr=null;function xc(e){if(Zr=null,e=Cn(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=v(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zr=e,null}function Pf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hl()){case Bi:return 2;case iu:return 8;case Li:case lg:return 32;case ru:return 268435456;default:return 32}default:return 32}}var jc=!1,Ja=null,Ia=null,Za=null,bi=new Map,wi=new Map,Pa=[],wp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ff(e,t){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Ia=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":bi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wi.delete(t.pointerId)}}function Si(e,t,a,s,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:c,targetContainers:[o]},t!==null&&(t=kn(t),t!==null&&If(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Sp(e,t,a,s,o){switch(t){case"focusin":return Ja=Si(Ja,e,t,a,s,o),!0;case"dragenter":return Ia=Si(Ia,e,t,a,s,o),!0;case"mouseover":return Za=Si(Za,e,t,a,s,o),!0;case"pointerover":var c=o.pointerId;return bi.set(c,Si(bi.get(c)||null,e,t,a,s,o)),!0;case"gotpointercapture":return c=o.pointerId,wi.set(c,Si(wi.get(c)||null,e,t,a,s,o)),!0}return!1}function Wf(e){var t=Cn(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,hu(e.priority,function(){Zf(a)});return}}else if(t===31){if(t=v(a),t!==null){e.blockedOn=t,hu(e.priority,function(){Zf(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Sc(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Sl=s,a.target.dispatchEvent(s),Sl=null}else return t=kn(a),t!==null&&If(t),e.blockedOn=a,!1;t.shift()}return!0}function em(e,t,a){Pr(e)&&a.delete(t)}function xp(){jc=!1,Ja!==null&&Pr(Ja)&&(Ja=null),Ia!==null&&Pr(Ia)&&(Ia=null),Za!==null&&Pr(Za)&&(Za=null),bi.forEach(em),wi.forEach(em)}function Fr(e,t){e.blockedOn===t&&(e.blockedOn=null,jc||(jc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,xp)))}var Wr=null;function tm(e){Wr!==e&&(Wr=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wr===e&&(Wr=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(xc(s||a)===null)continue;break}var c=kn(a);c!==null&&(e.splice(t,3),t-=3,So(c,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function fs(e){function t(w){return Fr(w,e)}Ja!==null&&Fr(Ja,e),Ia!==null&&Fr(Ia,e),Za!==null&&Fr(Za,e),bi.forEach(t),wi.forEach(t);for(var a=0;a<Pa.length;a++){var s=Pa[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Pa.length&&(a=Pa[0],a.blockedOn===null);)Wf(a),a.blockedOn===null&&Pa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],c=a[s+1],m=o[pt]||null;if(typeof c=="function")m||tm(a);else if(m){var y=null;if(c&&c.hasAttribute("formAction")){if(o=c,m=c[pt]||null)y=m.formAction;else if(xc(o)!==null)continue}else y=m.action;typeof y=="function"?a[s+1]=y:(a.splice(s,3),s-=3),tm(a)}}}function am(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Ec(e){this._internalRoot=e}el.prototype.render=Ec.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=Dt();Xf(a,s,e,t,null,null)},el.prototype.unmount=Ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xf(e.current,2,null,e,null,null),Ur(),t[Rn]=null}};function el(e){this._internalRoot=e}el.prototype.unstable_scheduleHydration=function(e){if(e){var t=du();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Pa.length&&t!==0&&t<Pa[a].priority;a++);Pa.splice(a,0,e),a===0&&Wf(e)}};var nm=n.version;if(nm!=="19.2.3")throw Error(l(527,nm,"19.2.3"));I.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var jp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Cs=tl.inject(jp),Et=tl}catch{}}return ji.createRoot=function(e,t){if(!d(e))throw Error(l(299));var a=!1,s="",o=ch,c=uh,m=dh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Kf(e,1,!1,null,null,a,s,null,o,c,m,am),e[Rn]=t.current,rc(e),new Ec(t)},ji.hydrateRoot=function(e,t,a){if(!d(e))throw Error(l(299));var s=!1,o="",c=ch,m=uh,y=dh,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=Kf(e,1,!0,t,a??null,s,o,w,c,m,y,am),t.context=Qf(null),a=t.current,s=Dt(),s=ml(s),o=Ma(s),o.callback=null,qa(a,o,s),a=s,t.current.lanes=a,Ds(t,a),na(t),e[Rn]=t.current,rc(e),new el(t)},ji.version="19.2.3",ji}var fm;function Up(){if(fm)return Ac.exports;fm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Ac.exports=Dp(),Ac.exports}var zp=Up();function cl(i,n){var r={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(i);d<l.length;d++)n.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(i,l[d])&&(r[l[d]]=i[l[d]]);return r}function Mp(i,n,r,l){function d(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function v(_){try{p(l.next(_))}catch(b){f(b)}}function g(_){try{p(l.throw(_))}catch(b){f(b)}}function p(_){_.done?h(_.value):d(_.value).then(v,g)}p((l=l.apply(i,n||[])).next())})}const qp=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class eu extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class Bp extends eu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class mm extends eu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class gm extends eu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Gc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Gc||(Gc={}));class Lp{constructor(n,{headers:r={},customFetch:l,region:d=Gc.Any}={}){this.url=n,this.headers=r,this.region=d,this.fetch=qp(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Mp(this,arguments,void 0,function*(r,l={}){var d;let h,f;try{const{headers:v,method:g,body:p,signal:_,timeout:b}=l;let x={},{region:j}=l;j||(j=this.region);const N=new URL(`${this.url}/${r}`);j&&j!=="any"&&(x["x-region"]=j,N.searchParams.set("forceFunctionRegion",j));let U;p&&(v&&!Object.prototype.hasOwnProperty.call(v,"Content-Type")||!v)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",U=p):typeof p=="string"?(x["Content-Type"]="text/plain",U=p):typeof FormData<"u"&&p instanceof FormData?U=p:(x["Content-Type"]="application/json",U=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?U=JSON.stringify(p):U=p;let B=_;b&&(f=new AbortController,h=setTimeout(()=>f.abort(),b),_?(B=f.signal,_.addEventListener("abort",()=>f.abort())):B=f.signal);const X=yield this.fetch(N.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),v),body:U,signal:B}).catch(z=>{throw new Bp(z)}),J=X.headers.get("x-relay-error");if(J&&J==="true")throw new mm(X);if(!X.ok)throw new gm(X);let M=((d=X.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),C;return M==="application/json"?C=yield X.json():M==="application/octet-stream"||M==="application/pdf"?C=yield X.blob():M==="text/event-stream"?C=X:M==="multipart/form-data"?C=yield X.formData():C=yield X.text(),{data:C,error:null,response:X}}catch(v){return{data:null,error:v,response:v instanceof gm||v instanceof mm?v.context:void 0}}finally{h&&clearTimeout(h)}})}}var Hp=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},$p=class{constructor(i){var n,r;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(r=i.isMaybeSingle)!==null&&r!==void 0?r:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,v=null,g=null,p=h.status,_=h.statusText;if(h.ok){var b,x;if(r.method!=="HEAD"){var j;const X=await h.text();X===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((j=r.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?v=X:v=JSON.parse(X))}const U=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),B=(x=h.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");U&&B&&B.length>1&&(g=parseInt(B[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(v)&&(v.length>1?(f={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,g=null,p=406,_="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{var N;const U=await h.text();try{f=JSON.parse(U),Array.isArray(f)&&h.status===404&&(v=[],f=null,p=200,_="OK")}catch{h.status===404&&U===""?(p=204,_="No Content"):f={message:U}}if(f&&r.isMaybeSingle&&(!(f==null||(N=f.details)===null||N===void 0)&&N.includes("0 rows"))&&(f=null,p=200,_="OK"),f&&r.shouldThrowOnError)throw new Hp(f)}return{error:f,data:v,count:g,status:p,statusText:_}});return this.shouldThrowOnError||(d=d.catch(h=>{var f;let v="";const g=h?.cause;if(g){var p,_,b,x;const N=(p=g?.message)!==null&&p!==void 0?p:"",U=(_=g?.code)!==null&&_!==void 0?_:"";v=`${(b=h?.name)!==null&&b!==void 0?b:"FetchError"}: ${h?.message}`,v+=`

Caused by: ${(x=g?.name)!==null&&x!==void 0?x:"Error"}: ${N}`,U&&(v+=` (${U})`),g?.stack&&(v+=`
${g.stack}`)}else{var j;v=(j=h?.stack)!==null&&j!==void 0?j:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(i,n)}returns(){return this}overrideTypes(){return this}},Gp=class extends $p{select(i){let n=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:r,foreignTable:l,referencedTable:d=l}={}){const h=d?`${d}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${i}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:r=n}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,n,{foreignTable:r,referencedTable:l=r}={}){const d=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this.url.searchParams.set(h,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:r=!1,buffers:l=!1,wal:d=!1,format:h="text"}={}){var f;const v=[i?"analyze":null,n?"verbose":null,r?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${g}"; options=${v};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const vm=new RegExp("[,()]");var bs=class extends Gp{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&vm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${r})`),this}notIn(i,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&vm.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`not.in.(${r})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:r,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(i,`${d}fts${h}.${n}`),this}match(i){return Object.entries(i).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(i,n,r){return this.url.searchParams.append(i,`not.${n}.${r}`),this}or(i,{foreignTable:n,referencedTable:r=n}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,n,r){return this.url.searchParams.append(i,`${n}.${r}`),this}},Vp=class{constructor(i,{headers:n={},schema:r,fetch:l}){this.url=i,this.headers=new Headers(n),this.schema=r,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,n){const{head:r=!1,count:l}=n??{},d=r?"HEAD":"GET";let h=!1;const f=(i??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join(""),{url:v,headers:g}=this.cloneRequestState();return v.searchParams.set("select",f),l&&g.append("Prefer",`count=${l}`),new bs({method:d,url:v,headers:g,schema:this.schema,fetch:this.fetch})}insert(i,{count:n,defaultToNull:r=!0}={}){var l;const d="POST",{url:h,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),r||f.append("Prefer","missing=default"),Array.isArray(i)){const v=i.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(v.length>0){const g=[...new Set(v)].map(p=>`"${p}"`);h.searchParams.set("columns",g.join(","))}}return new bs({method:d,url:h,headers:f,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:n,ignoreDuplicates:r=!1,count:l,defaultToNull:d=!0}={}){var h;const f="POST",{url:v,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&v.searchParams.set("on_conflict",n),l&&g.append("Prefer",`count=${l}`),d||g.append("Prefer","missing=default"),Array.isArray(i)){const p=i.reduce((_,b)=>_.concat(Object.keys(b)),[]);if(p.length>0){const _=[...new Set(p)].map(b=>`"${b}"`);v.searchParams.set("columns",_.join(","))}}return new bs({method:f,url:v,headers:g,schema:this.schema,body:i,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(i,{count:n}={}){var r;const l="PATCH",{url:d,headers:h}=this.cloneRequestState();return n&&h.append("Prefer",`count=${n}`),new bs({method:l,url:d,headers:h,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:i}={}){var n;const r="DELETE",{url:l,headers:d}=this.cloneRequestState();return i&&d.append("Prefer",`count=${i}`),new bs({method:r,url:l,headers:d,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},Yp=class Lm{constructor(n,{headers:r={},schema:l,fetch:d}={}){this.url=n,this.headers=new Headers(r),this.schemaName=l,this.fetch=d}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Vp(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Lm(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,r={},{head:l=!1,get:d=!1,count:h}={}){var f;let v;const g=new URL(`${this.url}/rpc/${n}`);let p;const _=j=>j!==null&&typeof j=="object"&&(!Array.isArray(j)||j.some(_)),b=l&&Object.values(r).some(_);b?(v="POST",p=r):l||d?(v=l?"HEAD":"GET",Object.entries(r).filter(([j,N])=>N!==void 0).map(([j,N])=>[j,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([j,N])=>{g.searchParams.append(j,N)})):(v="POST",p=r);const x=new Headers(this.headers);return b?x.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&x.set("Prefer",`count=${h}`),new bs({method:v,url:g,headers:x,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Kp{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const d=l.node,h=parseInt(d.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Qp="2.91.0",Xp=`realtime-js/${Qp}`,Jp="1.0.0",Hm="2.0.0",pm=Hm,Vc=1e4,Ip=1e3,Zp=100;var Wa;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Wa||(Wa={}));var at;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(at||(at={}));var Ft;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Ft||(Ft={}));var Yc;(function(i){i.websocket="websocket"})(Yc||(Yc={}));var xn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(xn||(xn={}));class Pp{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const d=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(n){var r,l;const d=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,r,l){var d,h;const f=n.topic,v=(d=n.ref)!==null&&d!==void 0?d:"",g=(h=n.join_ref)!==null&&h!==void 0?h:"",p=n.payload.event,_=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`ref length ${v.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+v.length+f.length+p.length+b.length,j=new ArrayBuffer(this.HEADER_LENGTH+x);let N=new DataView(j),U=0;N.setUint8(U++,this.KINDS.userBroadcastPush),N.setUint8(U++,g.length),N.setUint8(U++,v.length),N.setUint8(U++,f.length),N.setUint8(U++,p.length),N.setUint8(U++,b.length),N.setUint8(U++,r),Array.from(g,X=>N.setUint8(U++,X.charCodeAt(0))),Array.from(v,X=>N.setUint8(U++,X.charCodeAt(0))),Array.from(f,X=>N.setUint8(U++,X.charCodeAt(0))),Array.from(p,X=>N.setUint8(U++,X.charCodeAt(0))),Array.from(b,X=>N.setUint8(U++,X.charCodeAt(0)));var B=new Uint8Array(j.byteLength+l.byteLength);return B.set(new Uint8Array(j),0),B.set(new Uint8Array(l),j.byteLength),B.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[d,h,f,v,g]=l;return r({join_ref:d,ref:h,topic:f,event:v,payload:g})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),d=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,r,d)}}_decodeUserBroadcast(n,r,l){const d=r.getUint8(1),h=r.getUint8(2),f=r.getUint8(3),v=r.getUint8(4);let g=this.HEADER_LENGTH+4;const p=l.decode(n.slice(g,g+d));g=g+d;const _=l.decode(n.slice(g,g+h));g=g+h;const b=l.decode(n.slice(g,g+f));g=g+f;const x=n.slice(g,n.byteLength),j=v===this.JSON_ENCODING?JSON.parse(l.decode(x)):x,N={type:this.BROADCAST_EVENT,event:_,payload:j};return f>0&&(N.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}class $m{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var qe;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(qe||(qe={}));const ym=(i,n,r={})=>{var l;const d=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((h,f)=>(h[f]=Fp(f,i,n,d),h),{}):{}},Fp=(i,n,r,l)=>{const d=n.find(v=>v.name===i),h=d?.type,f=r[i];return h&&!l.includes(h)?Gm(h,f):Kc(f)},Gm=(i,n)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return ay(n,r)}switch(i){case qe.bool:return Wp(n);case qe.float4:case qe.float8:case qe.int2:case qe.int4:case qe.int8:case qe.numeric:case qe.oid:return ey(n);case qe.json:case qe.jsonb:return ty(n);case qe.timestamp:return ny(n);case qe.abstime:case qe.date:case qe.daterange:case qe.int4range:case qe.int8range:case qe.money:case qe.reltime:case qe.text:case qe.time:case qe.timestamptz:case qe.timetz:case qe.tsrange:case qe.tstzrange:return Kc(n);default:return Kc(n)}},Kc=i=>i,Wp=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},ey=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},ty=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},ay=(i,n)=>{if(typeof i!="string")return i;const r=i.length-1,l=i[r];if(i[0]==="{"&&l==="}"){let h;const f=i.slice(1,r);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(v=>Gm(n,v))}return i},ny=i=>typeof i=="string"?i.replace(" ","T"):i,Vm=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class kc{constructor(n,r,l={},d=Vc){this.channel=n,this.event=r,this.payload=l,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var _m;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(_m||(_m={}));class Ni{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},d=>{const{onJoin:h,onLeave:f,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ni.syncState(this.state,d,h,f),this.pendingDiffs.forEach(g=>{this.state=Ni.syncDiff(this.state,g,h,f)}),this.pendingDiffs=[],v()}),this.channel._on(l.diff,{},d=>{const{onJoin:h,onLeave:f,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=Ni.syncDiff(this.state,d,h,f),v())}),this.onJoin((d,h,f)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:h,newPresences:f})}),this.onLeave((d,h,f)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,d){const h=this.cloneDeep(n),f=this.transformState(r),v={},g={};return this.map(h,(p,_)=>{f[p]||(g[p]=_)}),this.map(f,(p,_)=>{const b=h[p];if(b){const x=_.map(B=>B.presence_ref),j=b.map(B=>B.presence_ref),N=_.filter(B=>j.indexOf(B.presence_ref)<0),U=b.filter(B=>x.indexOf(B.presence_ref)<0);N.length>0&&(v[p]=N),U.length>0&&(g[p]=U)}else v[p]=_}),this.syncDiff(h,{joins:v,leaves:g},l,d)}static syncDiff(n,r,l,d){const{joins:h,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),d||(d=()=>{}),this.map(h,(v,g)=>{var p;const _=(p=n[v])!==null&&p!==void 0?p:[];if(n[v]=this.cloneDeep(g),_.length>0){const b=n[v].map(j=>j.presence_ref),x=_.filter(j=>b.indexOf(j.presence_ref)<0);n[v].unshift(...x)}l(v,_,g)}),this.map(f,(v,g)=>{let p=n[v];if(!p)return;const _=g.map(b=>b.presence_ref);p=p.filter(b=>_.indexOf(b.presence_ref)<0),n[v]=p,d(v,p,g),p.length===0&&delete n[v]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const d=n[l];return"metas"in d?r[l]=d.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[l]=d,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bm;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(bm||(bm={}));var Ai;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Ai||(Ai={}));var xa;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(xa||(xa={}));class xs{constructor(n,r={config:{}},l){var d,h;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new kc(this,Ft.join,this.params,this.timeout),this.rejoinTimer=new $m(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ft.reply,{},(f,v)=>{this._trigger(this._replyEventName(v),f)}),this.presence=new Ni(this),this.broadcastEndpointURL=Vm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,d,h;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:f,presence:v,private:g}}=this.params,p=(d=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(j=>j.filter))!==null&&d!==void 0?d:[],_=!!this.bindings[Ai.PRESENCE]&&this.bindings[Ai.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,b={},x={broadcast:f,presence:Object.assign(Object.assign({},v),{enabled:_}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(j=>n?.(xa.CHANNEL_ERROR,j)),this._onClose(()=>n?.(xa.CLOSED)),this.updateJoinPayload(Object.assign({config:x},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:j})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){n?.(xa.SUBSCRIBED);return}else{const U=this.bindings.postgres_changes,B=(N=U?.length)!==null&&N!==void 0?N:0,X=[];for(let J=0;J<B;J++){const M=U[J],{filter:{event:C,schema:z,table:K,filter:Q}}=M,V=j&&j[J];if(V&&V.event===C&&xs.isFilterValueEqual(V.schema,z)&&xs.isFilterValueEqual(V.table,K)&&xs.isFilterValueEqual(V.filter,Q))X.push(Object.assign(Object.assign({},M),{id:V.id}));else{this.unsubscribe(),this.state=at.errored,n?.(xa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=X,n&&n(xa.SUBSCRIBED);return}}).receive("error",j=>{this.state=at.errored,n?.(xa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{n?.(xa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===at.joined&&n===Ai.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var d;if(r==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},v=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(d=l.timeout)!==null&&d!==void 0?d:this.timeout);if(v.status===202)return{success:!0};let g=v.statusText;try{const p=await v.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(n,r={}){var l,d;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=n,v={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(v.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:v,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((d=p.body)===null||d===void 0?void 0:d.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,v,g;const p=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(v=(f=this.params)===null||f===void 0?void 0:f.config)===null||v===void 0?void 0:v.broadcast)===null||g===void 0)&&g.ack)&&h("ok"),p.receive("ok",()=>h("ok")),p.receive("error",()=>h("error")),p.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=at.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ft.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(d=>{l=new kc(this,Ft.leave,{},n),l.receive("ok",()=>{r(),d("ok")}).receive("timeout",()=>{r(),d("timed out")}).receive("error",()=>{d("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const d=new AbortController,h=setTimeout(()=>d.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:d.signal}));return clearTimeout(h),f}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new kc(this,n,r,l);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Zp){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var d,h;const f=n.toLocaleLowerCase(),{close:v,error:g,leave:p,join:_}=Ft;if(l&&[v,g,p,_].indexOf(f)>=0&&l!==this._joinRef())return;let x=this._onMessage(f,r,l);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(j=>{var N,U,B;return((N=j.filter)===null||N===void 0?void 0:N.event)==="*"||((B=(U=j.filter)===null||U===void 0?void 0:U.event)===null||B===void 0?void 0:B.toLocaleLowerCase())===f}).map(j=>j.callback(x,l)):(h=this.bindings[f])===null||h===void 0||h.filter(j=>{var N,U,B,X,J,M,C,z;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in j){const K=j.id,Q=(N=j.filter)===null||N===void 0?void 0:N.event;return K&&((U=r.ids)===null||U===void 0?void 0:U.includes(K))&&(Q==="*"||Q?.toLocaleLowerCase()===((B=r.data)===null||B===void 0?void 0:B.type.toLocaleLowerCase()))&&(!(!((X=j.filter)===null||X===void 0)&&X.table)||j.filter.table===((J=r.data)===null||J===void 0?void 0:J.table))}else{const K=(C=(M=j?.filter)===null||M===void 0?void 0:M.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return K==="*"||K===((z=r?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===f}).map(j=>{if(typeof x=="object"&&"ids"in x){const N=x.data,{schema:U,table:B,commit_timestamp:X,type:J,errors:M}=N;x=Object.assign(Object.assign({},{schema:U,table:B,commit_timestamp:X,eventType:J,new:{},old:{},errors:M}),this._getPayloadRecords(N))}j.callback(x,l)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const d=n.toLocaleLowerCase(),h={type:d,filter:r,callback:l};return this.bindings[d]?this.bindings[d].push(h):this.bindings[d]=[h],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(d=>{var h;return!(((h=d.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&xs.isEqual(d.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ft.close,{},n)}_onError(n){this._on(Ft.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=ym(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=ym(n.columns,n.old_record)),r}}const Dc=()=>{},al={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sy=[1e3,2e3,5e3,1e4],iy=1e4,ry=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ly{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Vc,this.transport=null,this.heartbeatIntervalMs=al.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Dc,this.ref=0,this.reconnectTimer=null,this.vsn=pm,this.logger=Dc,this.conn=null,this.sendBuffer=[],this.serializer=new Pp,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=d=>d?(...h)=>d(...h):(...h)=>fetch(...h),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Yc.websocket}`,this.httpEndpoint=Vm(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Kp.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Wa.connecting:return xn.Connecting;case Wa.open:return xn.Open;case Wa.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,d=this.getChannels().find(h=>h.topic===l);if(d)return d;{const h=new xs(`realtime:${n}`,r,this);return this.channels.push(h),h}}push(n){const{topic:r,event:l,payload:d,ref:h}=n,f=()=>{this.encode(n,v=>{var g;(g=this.conn)===null||g===void 0||g.send(v)})};this.log("push",`${r} ${l} (${h})`,d),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Ip,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},al.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:d,payload:h,ref:f}=r,v=f?`(${f})`:"",g=h.status||"";this.log("receive",`${g} ${l} ${d} ${v}`.trim(),h),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(d,h,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Wa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wa.open||this.conn.readyState===Wa.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ft.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",d=new URLSearchParams(r);return`${n}${l}${d}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([ry],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,l=!1;if(n)r=n,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(d=>{const h={access_token:r,version:Xp};r&&d.updateJoinPayload(h),d.joinedOnce&&d._isJoined()&&d._push(Ft.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(d){this.log("error",`error in ${n} callback`,d)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new $m(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},al.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,d,h,f,v,g,p,_,b,x,j;switch(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Vc,this.heartbeatIntervalMs=(d=n?.heartbeatIntervalMs)!==null&&d!==void 0?d:al.HEARTBEAT_INTERVAL,this.worker=(h=n?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(v=n?.heartbeatCallback)!==null&&v!==void 0?v:Dc,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:pm,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(N=>sy[N-1]||iy),this.vsn){case Jp:this.encode=(_=n?.encode)!==null&&_!==void 0?_:((N,U)=>U(JSON.stringify(N))),this.decode=(b=n?.decode)!==null&&b!==void 0?b:((N,U)=>U(JSON.parse(N)));break;case Hm:this.encode=(x=n?.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(j=n?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Oi=class extends Error{constructor(i,n){super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function oy(i,n,r){const l=new URL(n,i);if(r)for(const[d,h]of Object.entries(r))h!==void 0&&l.searchParams.set(d,h);return l.toString()}async function cy(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function uy(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:d,body:h,headers:f}){const v=oy(i.baseUrl,l,d),g=await cy(i.auth),p=await n(v,{method:r,headers:{...h?{"Content-Type":"application/json"}:{},...g,...f},body:h?JSON.stringify(h):void 0}),_=await p.text(),b=(p.headers.get("content-type")||"").includes("application/json"),x=b&&_?JSON.parse(_):_;if(!p.ok){const j=b?x:void 0,N=j?.error;throw new Oi(N?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:N?.type,icebergCode:N?.code,details:j})}return{status:p.status,headers:p.headers,data:x}}}}function nl(i){return i.join("")}var dy=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:nl(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,n){const r={namespace:i.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nl(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nl(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nl(i.namespace)}`}),!0}catch(n){if(n instanceof Oi&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(r){if(r instanceof Oi&&r.status===409)return;throw r}}};function ms(i){return i.join("")}var hy=class{constructor(i,n="",r){this.client=i,this.prefix=n,this.accessDelegation=r}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ms(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ms(i.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(i,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ms(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ms(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ms(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ms(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(r){if(r instanceof Oi&&r.status===404)return!1;throw r}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(r){if(r instanceof Oi&&r.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw r}}},fy=class{constructor(i){let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const r=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=uy({baseUrl:r,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new dy(this.client,n),this.tableOps=new hy(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}},ul=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function Ve(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var my=class extends ul{constructor(i,n,r){super(i),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Qc=class extends ul{constructor(i,n){super(i),this.name="StorageUnknownError",this.originalError=n}};const tu=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),gy=()=>Response,Xc=i=>{if(Array.isArray(i))return i.map(r=>Xc(r));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([r,l])=>{const d=r.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[d]=Xc(l)}),n},vy=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},py=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Ri(i){"@babel/helpers - typeof";return Ri=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ri(i)}function yy(i,n){if(Ri(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,n);if(Ri(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function _y(i){var n=yy(i,"string");return Ri(n)=="symbol"?n:n+""}function by(i,n,r){return(n=_y(n))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function wm(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),r.push.apply(r,l)}return r}function ue(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?wm(Object(r),!0).forEach(function(l){by(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):wm(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const Uc=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},wy=async(i,n,r)=>{i instanceof await gy()&&!r?.noResolveJson?i.json().then(l=>{const d=i.status||500,h=l?.statusCode||d+"";n(new my(Uc(l),d,h))}).catch(l=>{n(new Qc(Uc(l),l))}):n(new Qc(Uc(i),i))},Sy=(i,n,r,l)=>{const d={method:i,headers:n?.headers||{}};return i==="GET"||!l?d:(vy(l)?(d.headers=ue({"Content-Type":"application/json"},n?.headers),d.body=JSON.stringify(l)):d.body=l,n?.duplex&&(d.duplex=n.duplex),ue(ue({},d),r))};async function zi(i,n,r,l,d,h){return new Promise((f,v)=>{i(r,Sy(n,l,d,h)).then(g=>{if(!g.ok)throw g;return l?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>wy(g,v,l))})}async function Ci(i,n,r,l){return zi(i,"GET",n,r,l)}async function Pt(i,n,r,l,d){return zi(i,"POST",n,l,d,r)}async function Jc(i,n,r,l,d){return zi(i,"PUT",n,l,d,r)}async function xy(i,n,r,l){return zi(i,"HEAD",n,ue(ue({},r),{},{noResolveJson:!0}),l)}async function au(i,n,r,l,d){return zi(i,"DELETE",n,l,d,r)}var jy=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}};let Ym;Ym=Symbol.toStringTag;var Ey=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[Ym]="BlobDownloadBuilder",this.promise=null}asStream(){return new jy(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(Ve(n))return{data:null,error:n};throw n}}};const Ty={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ny=class{constructor(i,n={},r,l){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.bucketId=r,this.fetch=tu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,n,r,l){var d=this;try{let h;const f=ue(ue({},Sm),l);let v=ue(ue({},d.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),g&&h.append("metadata",d.encodeMetadata(g)),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),g&&!h.has("metadata")&&h.append("metadata",d.encodeMetadata(g))):(h=r,v["cache-control"]=`max-age=${f.cacheControl}`,v["content-type"]=f.contentType,g&&(v["x-metadata"]=d.toBase64(d.encodeMetadata(g))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(v=ue(ue({},v),l.headers));const p=d._removeEmptyFolders(n),_=d._getFinalPath(p),b=await(i=="PUT"?Jc:Pt)(d.fetch,`${d.url}/object/${_}`,h,ue({headers:v},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(h){if(d.shouldThrowOnError)throw h;if(Ve(h))return{data:null,error:h};throw h}}async upload(i,n,r){return this.uploadOrUpdate("POST",i,n,r)}async uploadToSignedUrl(i,n,r,l){var d=this;const h=d._removeEmptyFolders(i),f=d._getFinalPath(h),v=new URL(d.url+`/object/upload/sign/${f}`);v.searchParams.set("token",n);try{let g;const p=ue({upsert:Sm.upsert},l),_=ue(ue({},d.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,_["cache-control"]=`max-age=${p.cacheControl}`,_["content-type"]=p.contentType),{data:{path:h,fullPath:(await Jc(d.fetch,v.toString(),g,{headers:_})).Key},error:null}}catch(g){if(d.shouldThrowOnError)throw g;if(Ve(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(i,n){var r=this;try{let l=r._getFinalPath(i);const d=ue({},r.headers);n?.upsert&&(d["x-upsert"]="true");const h=await Pt(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:d}),f=new URL(r.url+h.url),v=f.searchParams.get("token");if(!v)throw new ul("No token returned by API");return{data:{signedUrl:f.toString(),path:i,token:v},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async update(i,n,r){return this.uploadOrUpdate("PUT",i,n,r)}async move(i,n,r){var l=this;try{return{data:await Pt(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:i,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers}),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Ve(d))return{data:null,error:d};throw d}}async copy(i,n,r){var l=this;try{return{data:{path:(await Pt(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:i,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Ve(d))return{data:null,error:d};throw d}}async createSignedUrl(i,n,r){var l=this;try{let d=l._getFinalPath(i),h=await Pt(l.fetch,`${l.url}/object/sign/${d}`,ue({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return h={signedUrl:encodeURI(`${l.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Ve(d))return{data:null,error:d};throw d}}async createSignedUrls(i,n,r){var l=this;try{const d=await Pt(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:i},{headers:l.headers}),h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:d.map(f=>ue(ue({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${h}`):null})),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Ve(d))return{data:null,error:d};throw d}}download(i,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),d=l?`?${l}`:"",h=this._getFinalPath(i),f=()=>Ci(this.fetch,`${this.url}/${r}/${h}${d}`,{headers:this.headers,noResolveJson:!0});return new Ey(f,this.shouldThrowOnError)}async info(i){var n=this;const r=n._getFinalPath(i);try{return{data:Xc(await Ci(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async exists(i){var n=this;const r=n._getFinalPath(i);try{return await xy(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(Ve(l)&&l instanceof Qc){const d=l.originalError;if([400,404].includes(d?.status))return{data:!1,error:l}}throw l}}getPublicUrl(i,n){const r=this._getFinalPath(i),l=[],d=n?.download?`download=${n.download===!0?"":n.download}`:"";d!==""&&l.push(d);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${v}`)}}}async remove(i){var n=this;try{return{data:await au(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async list(i,n,r){var l=this;try{const d=ue(ue(ue({},Ty),n),{},{prefix:i||""});return{data:await Pt(l.fetch,`${l.url}/object/list/${l.bucketId}`,d,{headers:l.headers},r),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(Ve(d))return{data:null,error:d};throw d}}async listV2(i,n){var r=this;try{const l=ue({},i);return{data:await Pt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},n),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const Km="2.91.0",Qm={"X-Client-Info":`storage-js/${Km}`};var Ay=class{constructor(i,n={},r,l){this.shouldThrowOnError=!1;const d=new URL(i);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=ue(ue({},Qm),n),this.fetch=tu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var n=this;try{const r=n.listBucketOptionsToQueryString(i);return{data:await Ci(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async getBucket(i){var n=this;try{return{data:await Ci(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async createBucket(i,n={public:!1}){var r=this;try{return{data:await Pt(r.fetch,`${r.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async updateBucket(i,n){var r=this;try{return{data:await Jc(r.fetch,`${r.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ve(l))return{data:null,error:l};throw l}}async emptyBucket(i){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async deleteBucket(i){var n=this;try{return{data:await au(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Oy=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ue(ue({},Qm),n),this.fetch=tu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await Pt(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async listBuckets(i){var n=this;try{const r=new URLSearchParams;i?.limit!==void 0&&r.set("limit",i.limit.toString()),i?.offset!==void 0&&r.set("offset",i.offset.toString()),i?.sortColumn&&r.set("sortColumn",i.sortColumn),i?.sortOrder&&r.set("sortOrder",i.sortOrder),i?.search&&r.set("search",i.search);const l=r.toString(),d=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await Ci(n.fetch,d,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}async deleteBucket(i){var n=this;try{return{data:await au(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}}from(i){var n=this;if(!py(i))throw new ul("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new fy({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(d,h){const f=d[h];return typeof f!="function"?f:async(...v)=>{try{return{data:await f.apply(d,v),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}};const nu={"X-Client-Info":`storage-js/${Km}`,"Content-Type":"application/json"};var Xm=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function zt(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var zc=class extends Xm{constructor(i,n,r){super(i),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ry=class extends Xm{constructor(i,n){super(i),this.name="StorageVectorsUnknownError",this.originalError=n}};const su=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Cy=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},xm=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),ky=async(i,n,r)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!r?.noResolveJson){const l=i.status||500,d=i;if(typeof d.json=="function")d.json().then(h=>{const f=h?.statusCode||h?.code||l+"";n(new zc(xm(h),l,f))}).catch(()=>{const h=l+"";n(new zc(d.statusText||`HTTP ${l} error`,l,h))});else{const h=l+"";n(new zc(d.statusText||`HTTP ${l} error`,l,h))}}else n(new Ry(xm(i),i))},Dy=(i,n,r,l)=>{const d={method:i,headers:n?.headers||{}};return l?(Cy(l)?(d.headers=ue({"Content-Type":"application/json"},n?.headers),d.body=JSON.stringify(l)):d.body=l,ue(ue({},d),r)):d};async function Uy(i,n,r,l,d,h){return new Promise((f,v)=>{i(r,Dy(n,l,d,h)).then(g=>{if(!g.ok)throw g;if(l?.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>ky(g,v,l))})}async function Mt(i,n,r,l,d){return Uy(i,"POST",n,l,d,r)}var zy=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ue(ue({},nu),n),this.fetch=su(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async getIndex(i,n){var r=this;try{return{data:await Mt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(zt(l))return{data:null,error:l};throw l}}async listIndexes(i){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async deleteIndex(i,n){var r=this;try{return{data:await Mt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:r.headers})||{},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(zt(l))return{data:null,error:l};throw l}}},My=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ue(ue({},nu),n),this.fetch=su(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var n=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Mt(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async getVectors(i){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async listVectors(i){var n=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await Mt(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async queryVectors(i){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async deleteVectors(i){var n=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Mt(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}},qy=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=ue(ue({},nu),n),this.fetch=su(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async getBucket(i){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async listBuckets(i={}){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}async deleteBucket(i){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(zt(r))return{data:null,error:r};throw r}}},By=class extends qy{constructor(i,n={}){super(i,n.headers||{},n.fetch)}from(i){return new Ly(this.url,this.headers,i,this.fetch)}async createBucket(i){var n=()=>super.createBucket,r=this;return n().call(r,i)}async getBucket(i){var n=()=>super.getBucket,r=this;return n().call(r,i)}async listBuckets(i={}){var n=()=>super.listBuckets,r=this;return n().call(r,i)}async deleteBucket(i){var n=()=>super.deleteBucket,r=this;return n().call(r,i)}},Ly=class extends zy{constructor(i,n,r,l){super(i,n,l),this.vectorBucketName=r}async createIndex(i){var n=()=>super.createIndex,r=this;return n().call(r,ue(ue({},i),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(i={}){var n=()=>super.listIndexes,r=this;return n().call(r,ue(ue({},i),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(i){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,i)}async deleteIndex(i){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,i)}index(i){return new Hy(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},Hy=class extends My{constructor(i,n,r,l,d){super(i,n,d),this.vectorBucketName=r,this.indexName=l}async putVectors(i){var n=()=>super.putVectors,r=this;return n().call(r,ue(ue({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(i){var n=()=>super.getVectors,r=this;return n().call(r,ue(ue({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(i={}){var n=()=>super.listVectors,r=this;return n().call(r,ue(ue({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(i){var n=()=>super.queryVectors,r=this;return n().call(r,ue(ue({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(i){var n=()=>super.deleteVectors,r=this;return n().call(r,ue(ue({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},$y=class extends Ay{constructor(i,n={},r,l){super(i,n,r,l)}from(i){return new Ny(this.url,this.headers,i,this.fetch)}get vectors(){return new By(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Oy(this.url+"/iceberg",this.headers,this.fetch)}};const Jm="2.91.0",ws=30*1e3,Ic=3,Mc=Ic*ws,Gy="http://localhost:9999",Vy="supabase.auth.token",Yy={"X-Client-Info":`gotrue-js/${Jm}`},Zc="X-Supabase-Api-Version",Im={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ky=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qy=600*1e3;class ki extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function re(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class Xy extends ki{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function Jy(i){return re(i)&&i.name==="AuthApiError"}class jn extends ki{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Na extends ki{constructor(n,r,l,d){super(n,l,d),this.name=r,this.status=l}}class Ut extends Na{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Iy(i){return re(i)&&i.name==="AuthSessionMissingError"}class gs extends Na{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sl extends Na{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class il extends Na{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zy(i){return re(i)&&i.name==="AuthImplicitGrantRedirectError"}class jm extends Na{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Py extends Na{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Pc extends Na{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function qc(i){return re(i)&&i.name==="AuthRetryableFetchError"}class Em extends Na{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class Fc extends Na{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tm=` 	
\r=`.split(""),Fy=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<Tm.length;n+=1)i[Tm[n].charCodeAt(0)]=-2;for(let n=0;n<rl.length;n+=1)i[rl[n].charCodeAt(0)]=n;return i})();function Nm(i,n,r){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(rl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(rl[l]),n.queuedBits-=6}}function Zm(i,n,r){const l=Fy[i];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Am(i){const n=[],r=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},h=f=>{t_(f,l,r)};for(let f=0;f<i.length;f+=1)Zm(i.charCodeAt(f),d,h);return n.join("")}function Wy(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function e_(i,n){for(let r=0;r<i.length;r+=1){let l=i.charCodeAt(r);if(l>55295&&l<=56319){const d=(l-55296)*1024&65535;l=(i.charCodeAt(r+1)-56320&65535|d)+65536,r+=1}Wy(l,n)}}function t_(i,n,r){if(n.utf8seq===0){if(i<=127){r(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function js(i){const n=[],r={queue:0,queuedBits:0},l=d=>{n.push(d)};for(let d=0;d<i.length;d+=1)Zm(i.charCodeAt(d),r,l);return new Uint8Array(n)}function a_(i){const n=[];return e_(i,r=>n.push(r)),new Uint8Array(n)}function En(i){const n=[],r={queue:0,queuedBits:0},l=d=>{n.push(d)};return i.forEach(d=>Nm(d,r,l)),Nm(null,r,l),n.join("")}function n_(i){return Math.round(Date.now()/1e3)+i}function s_(){return Symbol("auth-callback")}const ht=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},Pm=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function i_(i){const n={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((d,h)=>{n[h]=d})}catch{}return r.searchParams.forEach((l,d)=>{n[d]=l}),n}const Fm=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),r_=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Ss=async(i,n,r)=>{await i.setItem(n,JSON.stringify(r))},wn=async(i,n)=>{const r=await i.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},dt=async(i,n)=>{await i.removeItem(n)};class dl{constructor(){this.promise=new dl.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}dl.promiseConstructor=Promise;function Bc(i){const n=i.split(".");if(n.length!==3)throw new Fc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Ky.test(n[l]))throw new Fc("JWT not in base64url format");return{header:JSON.parse(Am(n[0])),payload:JSON.parse(Am(n[1])),signature:js(n[2]),raw:{header:n[0],payload:n[1]}}}async function l_(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function o_(i,n){return new Promise((l,d)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await i(h);if(!n(h,null,f)){l(f);return}}catch(f){if(!n(h,f)){d(f);return}}})()})}function c_(i){return("0"+i.toString(16)).substr(-2)}function u_(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let d="";for(let h=0;h<56;h++)d+=r.charAt(Math.floor(Math.random()*l));return d}return crypto.getRandomValues(n),Array.from(n,c_).join("")}async function d_(i){const r=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",r),d=new Uint8Array(l);return Array.from(d).map(h=>String.fromCharCode(h)).join("")}async function h_(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await d_(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vs(i,n,r=!1){const l=u_();let d=l;r&&(d+="/PASSWORD_RECOVERY"),await Ss(i,`${n}-code-verifier`,d);const h=await h_(l);return[h,l===h?"plain":"s256"]}const f_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function m_(i){const n=i.headers.get(Zc);if(!n||!n.match(f_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function g_(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function v_(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const p_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ps(i){if(!p_.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lc(){const i={};return new Proxy(i,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function y_(i,n){return new Proxy(i,{get:(r,l,d)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const h=l.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,d)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,d)}})}function Om(i){return JSON.parse(JSON.stringify(i))}const Sn=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),__=[502,503,504];async function Rm(i){var n;if(!r_(i))throw new Pc(Sn(i),0);if(__.includes(i.status))throw new Pc(Sn(i),i.status);let r;try{r=await i.json()}catch(h){throw new jn(Sn(h),h)}let l;const d=m_(i);if(d&&d.getTime()>=Im["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Em(Sn(r),i.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Ut}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new Em(Sn(r),i.status,r.weak_password.reasons);throw new Xy(Sn(r),i.status||500,l)}const b_=(i,n,r,l)=>{const d={method:i,headers:n?.headers||{}};return i==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),d.body=JSON.stringify(l),Object.assign(Object.assign({},d),r))};async function ce(i,n,r,l){var d;const h=Object.assign({},l?.headers);h[Zc]||(h[Zc]=Im["2024-01-01"].name),l?.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const f=(d=l?.query)!==null&&d!==void 0?d:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const v=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await w_(i,n,r+v,{headers:h,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(g):{data:Object.assign({},g),error:null}}async function w_(i,n,r,l,d,h){const f=b_(n,l,d,h);let v;try{v=await i(r,Object.assign({},f))}catch(g){throw console.error(g),new Pc(Sn(g),0)}if(v.ok||await Rm(v),l?.noResolveJson)return v;try{return await v.json()}catch(g){await Rm(g)}}function Zt(i){var n;let r=null;j_(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=n_(i.expires_in)));const l=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:r,user:l},error:null}}function Cm(i){const n=Zt(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=i.weak_password),n}function en(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function S_(i){return{data:i,error:null}}function x_(i){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:d,verification_type:h}=i,f=cl(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:n,email_otp:r,hashed_token:l,redirect_to:d,verification_type:h},g=Object.assign({},f);return{data:{properties:v,user:g},error:null}}function km(i){return i}function j_(i){return i.access_token&&i.refresh_token&&i.expires_in}const Hc=["global","local","others"];class E_{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=Fm(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=Hc[0]){if(Hc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hc.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(re(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:en})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=cl(n,["options"]),d=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(d.new_email=l?.newEmail,delete d.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:x_,redirectTo:r?.redirectTo})}catch(r){if(re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:en})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,d,h,f,v,g;try{const p={nextPage:null,lastPage:0,total:0},_=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(d=n?.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:km});if(_.error)throw _.error;const b=await _.json(),x=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(g=(v=_.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&g!==void 0?g:[];return j.length>0&&(j.forEach(N=>{const U=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(N.split(";")[1].split("=")[1]);p[`${B}Page`]=U}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(re(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){ps(n);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:en})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){ps(n);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:en})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){ps(n);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:en})}catch(l){if(re(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){ps(n.userId);try{const{data:r,error:l}=await ce(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:r,error:l}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteFactor(n){ps(n.userId),ps(n.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,d,h,f,v,g;try{const p={nextPage:null,lastPage:0,total:0},_=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(d=n?.perPage)===null||d===void 0?void 0:d.toString())!==null&&h!==void 0?h:""},xform:km});if(_.error)throw _.error;const b=await _.json(),x=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(g=(v=_.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&g!==void 0?g:[];return j.length>0&&(j.forEach(N=>{const U=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(N.split(";")[1].split("=")[1]);p[`${B}Page`]=U}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(re(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await ce(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(re(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}}function Dm(i={}){return{getItem:n=>i[n]||null,setItem:(n,r)=>{i[n]=r},removeItem:n=>{delete i[n]}}}const ys={debug:!!(globalThis&&Pm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wm extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class T_ extends Wm{}async function N_(i,n,r){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async d=>{if(d){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,d.name);try{return await r()}finally{ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,d.name)}}else{if(n===0)throw ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new T_(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(ys.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function A_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eg(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function O_(i){return parseInt(i,16)}function R_(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function C_(i){var n;const{chainId:r,domain:l,expirationTime:d,issuedAt:h=new Date,nonce:f,notBefore:v,requestId:g,resources:p,scheme:_,uri:b,version:x}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const j=eg(i.address),N=_?`${_}://${l}`:l,U=i.statement?`${i.statement}
`:"",B=`${N} wants you to sign in with your Ethereum account:
${j}

${U}`;let X=`URI: ${b}
Version: ${x}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(d&&(X+=`
Expiration Time: ${d.toISOString()}`),v&&(X+=`
Not Before: ${v.toISOString()}`),g&&(X+=`
Request ID: ${g}`),p){let J=`
Resources:`;for(const M of p){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);J+=`
- ${M}`}X+=J}return`${B}
${X}`}class et extends Error{constructor({message:n,code:r,cause:l,name:d}){var h;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(h=d??(l instanceof Error?l.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=r}}class ll extends et{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function k_({error:i,options:n}){var r,l,d;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=h.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((d=h.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new et({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return h.pubKeyCredParams.filter(v=>v.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(tg(f)){if(h.rp.id!==f)return new et({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function D_({error:i,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new et({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(tg(l)){if(r.rpId!==l)return new et({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class U_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const z_=new U_;function M_(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:r,excludeCredentials:l}=i,d=cl(i,["challenge","user","excludeCredentials"]),h=js(n).buffer,f=Object.assign(Object.assign({},r),{id:js(r.id).buffer}),v=Object.assign(Object.assign({},d),{challenge:h,user:f});if(l&&l.length>0){v.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const p=l[g];v.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:js(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return v}function q_(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:r}=i,l=cl(i,["challenge","allowCredentials"]),d=js(n).buffer,h=Object.assign(Object.assign({},l),{challenge:d});if(r&&r.length>0){h.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const v=r[f];h.allowCredentials[f]=Object.assign(Object.assign({},v),{id:js(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return h}function B_(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:En(new Uint8Array(i.response.attestationObject)),clientDataJSON:En(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function L_(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,l=i.getClientExtensionResults(),d=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:En(new Uint8Array(d.authenticatorData)),clientDataJSON:En(new Uint8Array(d.clientDataJSON)),signature:En(new Uint8Array(d.signature)),userHandle:d.userHandle?En(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function tg(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Um(){var i,n;return!!(ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function H_(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ll("Browser returned unexpected credential type",n)}:{data:null,error:new ll("Empty credential response",n)}}catch(n){return{data:null,error:k_({error:n,options:i})}}}async function $_(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new ll("Browser returned unexpected credential type",n)}:{data:null,error:new ll("Empty credential response",n)}}catch(n){return{data:null,error:D_({error:n,options:i})}}}const G_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},V_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ol(...i){const n=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),r=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),l={};for(const d of i)if(d)for(const h in d){const f=d[h];if(f!==void 0)if(Array.isArray(f))l[h]=f;else if(r(f))l[h]=f;else if(n(f)){const v=l[h];n(v)?l[h]=ol(v,f):l[h]=ol(f)}else l[h]=f}return l}function Y_(i,n){return ol(G_,i,n||{})}function K_(i,n){return ol(V_,i,n||{})}class Q_{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:d},h){try{const{data:f,error:v}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!f)return{data:null,error:v};const g=d??z_.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=Y_(f.webauthn.credential_options.publicKey,h?.create),{data:_,error:b}=await H_({publicKey:p,signal:g});return _?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}case"request":{const p=K_(f.webauthn.credential_options.publicKey,h?.request),{data:_,error:b}=await $_(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:g}));return _?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new jn("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!r)return{data:null,error:new ki("rpId is required for WebAuthn authentication")};try{if(!Um())return{data:null,error:new jn("Browser does not support WebAuthn",null)};const{data:f,error:v}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:d},{request:h});if(!f)return{data:null,error:v};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:l,credential_response:g.credential_response}})}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new jn("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},h){if(!r)return{data:null,error:new ki("rpId is required for WebAuthn registration")};try{if(!Um())return{data:null,error:new jn("Browser does not support WebAuthn",null)};const{data:f,error:v}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(_=>{var b;return(b=_.data)===null||b===void 0?void 0:b.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===n&&x.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:v};const{data:g,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:d},{create:h});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new jn("Unexpected error in register",f)}}}}A_();const X_={url:Gy,storageKey:Vy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Yy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function zm(i,n,r){return await r()}const _s={};class Di{get jwks(){var n,r;return(r=(n=_s[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=_s[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){_s[this.storageKey]=Object.assign(Object.assign({},_s[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},X_),n);if(this.storageKey=h.storageKey,this.instanceID=(r=Di.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Di.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&ht()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new E_({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=Fm(h.fetch),this.lock=h.lock||zm,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&ht()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=N_:this.lock=zm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Q_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Pm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dm(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Dm(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(ht()&&(r=i_(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),ht()&&this.detectSessionInUrl&&l!=="none"){const{data:d,error:h}=await this._getSessionFromURL(r,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Zy(h)){const g=(n=h.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:v}=d;return this._debug("#_initialize()","detected session in URL",f,"redirect type",v),await this._saveSession(f),setTimeout(async()=>{v==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return re(r)?this._returnResult({error:r}):this._returnResult({error:new jn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,d;try{const h=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(d=n?.options)===null||d===void 0?void 0:d.captchaToken}},xform:Zt}),{data:f,error:v}=h;if(v||!f)return this._returnResult({data:{user:null,session:null},error:v});const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(h){if(re(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var r,l,d;try{let h;if("email"in n){const{email:_,password:b,options:x}=n;let j=null,N=null;this.flowType==="pkce"&&([j,N]=await vs(this.storage,this.storageKey)),h=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:_,password:b,data:(r=x?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:j,code_challenge_method:N},xform:Zt})}else if("phone"in n){const{phone:_,password:b,options:x}=n;h=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:b,data:(l=x?.data)!==null&&l!==void 0?l:{},channel:(d=x?.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:Zt})}else throw new sl("You must provide either an email or phone number and a password");const{data:f,error:v}=h;if(v||!f)return await dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:v});const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(h){if(await dt(this.storage,`${this.storageKey}-code-verifier`),re(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let r;if("email"in n){const{email:h,password:f,options:v}=n;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Cm})}else if("phone"in n){const{phone:h,password:f,options:v}=n;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Cm})}else throw new sl("You must provide either an email or phone number and a password");const{data:l,error:d}=r;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l||!l.session||!l.user){const h=new gs;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:d})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,d,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=n.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,d,h,f,v,g,p,_,b,x;let j,N;if("message"in n)j=n.message,N=n.signature;else{const{chain:U,wallet:B,statement:X,options:J}=n;let M;if(ht())if(typeof B=="object")M=B;else{const ae=window;if("ethereum"in ae&&typeof ae.ethereum=="object"&&"request"in ae.ethereum&&typeof ae.ethereum.request=="function")M=ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!J?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=B}const C=new URL((r=J?.url)!==null&&r!==void 0?r:window.location.href),z=await M.request({method:"eth_requestAccounts"}).then(ae=>ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=eg(z[0]);let Q=(l=J?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!Q){const ae=await M.request({method:"eth_chainId"});Q=O_(ae)}const V={domain:C.host,address:K,statement:X,uri:C.href,version:"1",chainId:Q,nonce:(d=J?.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(f=(h=J?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(v=J?.signInWithEthereum)===null||v===void 0?void 0:v.expirationTime,notBefore:(g=J?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=J?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(_=J?.signInWithEthereum)===null||_===void 0?void 0:_.resources};j=C_(V),N=await M.request({method:"personal_sign",params:[R_(j),K]})}try{const{data:U,error:B}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:N},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=n.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Zt});if(B)throw B;if(!U||!U.session||!U.user){const X=new gs;return this._returnResult({data:{user:null,session:null},error:X})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:B})}catch(U){if(re(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async signInWithSolana(n){var r,l,d,h,f,v,g,p,_,b,x,j;let N,U;if("message"in n)N=n.message,U=n.signature;else{const{chain:B,wallet:X,statement:J,options:M}=n;let C;if(ht())if(typeof X=="object")C=X;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))C=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof X!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=X}const z=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in C&&C.signIn){const K=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),J?{statement:J}:null));let Q;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")Q=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)Q=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)N=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),U=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${z.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...J?["",J,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(d=(l=M?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((h=M?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((v=M?.signInWithSolana)===null||v===void 0)&&v.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((p=M?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((b=(_=M?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||b===void 0)&&b.length?["Resources",...M.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const K=await C.signMessage(new TextEncoder().encode(N),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=K}}try{const{data:B,error:X}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:En(U)},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Zt});if(X)throw X;if(!B||!B.session||!B.user){const J=new gs;return this._returnResult({data:{user:null,session:null},error:J})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:X})}catch(B){if(re(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async _exchangeCodeForSession(n){const r=await wn(this.storage,`${this.storageKey}-code-verifier`),[l,d]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Py;const{data:h,error:f}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Zt});if(await dt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const v=new gs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:v})}return h.session&&(await this._saveSession(h.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",h.session)},0)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:d??null}),error:f})}catch(h){if(await dt(this.storage,`${this.storageKey}-code-verifier`),re(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:r,provider:l,token:d,access_token:h,nonce:f}=n,v=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:d,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Zt}),{data:g,error:p}=v;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const _=new gs;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,d,h,f;try{if("email"in n){const{email:v,options:g}=n;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await vs(this.storage,this.storageKey));const{error:b}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:_},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:v,options:g}=n,{data:p,error:_}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(d=g?.data)!==null&&d!==void 0?d:{},create_user:(h=g?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:_})}throw new sl("You must provide either an email or phone number.")}catch(v){if(await dt(this.storage,`${this.storageKey}-code-verifier`),re(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async verifyOtp(n){var r,l;try{let d,h;"options"in n&&(d=(r=n.options)===null||r===void 0?void 0:r.redirectTo,h=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:v}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:d,xform:Zt});if(v)throw v;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,p=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(d){if(re(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(n){var r,l,d,h,f;try{let v=null,g=null;this.flowType==="pkce"&&([v,g]=await vs(this.storage,this.storageKey));const p=await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((d=n?.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:v,code_challenge_method:g}),headers:this.headers,xform:S_});return!((h=p.data)===null||h===void 0)&&h.url&&ht()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(v){if(await dt(this.storage,`${this.storageKey}-code-verifier`),re(v))return this._returnResult({data:null,error:v});throw v}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new Ut;const{error:d}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(n){if(re(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:d,options:h}=n,{error:f}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:d,options:h}=n,{data:f,error:v}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:d,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:v})}throw new sl("You must provide either an email or phone number and a type")}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Mc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await wn(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Lc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=y_(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:d,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:en}):await this._useSession(async r=>{var l,d,h;const{data:f,error:v}=r;if(v)throw v;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0,xform:en})})}catch(r){if(re(r))return Iy(r)&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:d,error:h}=l;if(h)throw h;if(!d.session)throw new Ut;const f=d.session;let v=null,g=null;this.flowType==="pkce"&&n.email!=null&&([v,g]=await vs(this.storage,this.storageKey));const{data:p,error:_}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:v,code_challenge_method:g}),jwt:f.access_token,xform:en});if(_)throw _;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await dt(this.storage,`${this.storageKey}-code-verifier`),re(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Ut;const r=Date.now()/1e3;let l=r,d=!0,h=null;const{payload:f}=Bc(n.access_token);if(f.exp&&(l=f.exp,d=l<=r),d){const{data:v,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!v)return{data:{user:null,session:null},error:null};h=v}else{const{data:v,error:g}=await this._getUser(n.access_token);if(g)throw g;h={access_token:n.access_token,refresh_token:n.refresh_token,user:v.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(r){if(re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:f,error:v}=r;if(v)throw v;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Ut;const{data:d,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(re(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ht())throw new il("No browser detected.");if(n.error||n.error_description||n.error_code)throw new il(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new il("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new jm("No code detected.");const{data:J,error:M}=await this._exchangeCodeForSession(n.code);if(M)throw M;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:J.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:d,access_token:h,refresh_token:f,expires_in:v,expires_at:g,token_type:p}=n;if(!h||!v||!f||!p)throw new il("No session defined in URL");const _=Math.round(Date.now()/1e3),b=parseInt(v);let x=_+b;g&&(x=parseInt(g));const j=x-_;j*1e3<=ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${b}s`);const N=x-b;_-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,x,_):_-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,x,_);const{data:U,error:B}=await this._getUser(h);if(B)throw B;const X={provider_token:l,provider_refresh_token:d,access_token:h,expires_in:b,expires_at:x,refresh_token:f,token_type:p,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:X,redirectType:n.type},error:null})}catch(l){if(re(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await wn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:d,error:h}=r;if(h)return this._returnResult({error:h});const f=(l=d.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:v}=await this.admin.signOut(f,n);if(v&&!(Jy(v)&&(v.status===404||v.status===401||v.status===403)))return this._returnResult({error:v})}return n!=="others"&&(await this._removeSession(),await dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=s_(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,d;try{const{data:{session:h},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((d=this.stateChangeEmitters.get(n))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,r={}){let l=null,d=null;this.flowType==="pkce"&&([l,d]=await vs(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:d,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(await dt(this.storage,`${this.storageKey}-code-verifier`),re(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:d}=await this._useSession(async h=>{var f,v,g,p,_;const{data:b,error:x}=h;if(x)throw x;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(v=n.options)===null||v===void 0?void 0:v.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",j,{headers:this.headers,jwt:(_=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:void 0})});if(d)throw d;return ht()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(re(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:d,data:{session:h}}=r;if(d)throw d;const{options:f,provider:v,token:g,access_token:p,nonce:_}=n,b=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=h?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:v,id_token:g,access_token:p,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Zt}),{data:x,error:j}=b;return j?this._returnResult({data:{user:null,session:null},error:j}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new gs}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:j}))}catch(d){if(await dt(this.storage,`${this.storageKey}-code-verifier`),re(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,d;const{data:h,error:f}=r;if(f)throw f;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(d=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await o_(async d=>(d>0&&await l_(200*Math.pow(2,d-1)),this._debug(r,"refreshing attempt",d),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Zt})),(d,h)=>{const f=200*Math.pow(2,d);return h&&qc(h)&&Date.now()+f-l<ws})}catch(l){if(this._debug(r,"error",l),re(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),ht()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const d=await wn(this.storage,this.storageKey);if(d&&this.userStorage){let f=await wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:d.user},await Ss(this.userStorage,this.storageKey+"-user",f)),d.user=(n=f?.user)!==null&&n!==void 0?n:Lc()}else if(d&&!d.user&&!d.user){const f=await wn(this.storage,this.storageKey+"-user");f&&f?.user?(d.user=f.user,await dt(this.storage,this.storageKey+"-user"),await Ss(this.storage,this.storageKey,d)):d.user=Lc()}if(this._debug(l,"session from storage",d),!this._isValidSession(d)){this._debug(l,"session is not valid"),d!==null&&await this._removeSession();return}const h=((r=d.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Mc;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${Mc}s`),h){if(this.autoRefreshToken&&d.refresh_token){const{error:f}=await this._callRefreshToken(d.refresh_token);f&&(console.error(f),qc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:v}=await this._getUser(d.access_token);!v&&f?.user?(d.user=f.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(l,"error",d),console.error(d);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new dl;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new Ut;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const v={data:h.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(h){if(this._debug(d,"error",h),re(h)){const f={data:null,error:h};return qc(h)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(n,r,l=!0){const d=`#_notifyAllSubscribers(${n})`;this._debug(d,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(n,r)}catch(g){h.push(g)}});if(await Promise.all(f),h.length>0){for(let v=0;v<h.length;v+=1)console.error(h[v]);throw h[0]}}finally{this._debug(d,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await dt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await Ss(this.userStorage,this.storageKey+"-user",{user:r.user});const d=Object.assign({},r);delete d.user;const h=Om(d);await Ss(this.storage,this.storageKey,h)}else{const d=Om(r);await Ss(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await dt(this.storage,this.storageKey),await dt(this.storage,this.storageKey+"-code-verifier"),await dt(this.storage,this.storageKey+"-user"),this.userStorage&&await dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),ws);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((l.expires_at*1e3-n)/ws);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${ws}ms, refresh threshold is ${Ic} ticks`),d<=Ic&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof Wm)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const d=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&d.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&d.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,f]=await vs(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});d.push(v.toString())}if(l?.queryParams){const h=new URLSearchParams(l.queryParams);d.push(h.toString())}return l?.skipBrowserRedirect&&d.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${d.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:d,error:h}=r;return h?this._returnResult({data:null,error:h}):await ce(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,d;const{data:h,error:f}=r;if(f)return this._returnResult({data:null,error:f});const v=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:p}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(l=h?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&g.type==="totp"&&(!((d=g?.totp)===null||d===void 0)&&d.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:d,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?B_(n.webauthn.credential_response):L_(n.webauthn.credential_response)})}:{code:n.code}),{data:v,error:g}=await ce(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+v.expires_in},v)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",v),this._returnResult({data:v,error:g}))})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:d,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=await ce(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=d?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:v}=f;if(v.type!=="webauthn")return{data:v,error:null};switch(v.webauthn.type){case"create":return{data:Object.assign(Object.assign({},v),{webauthn:Object.assign(Object.assign({},v.webauthn),{credential_options:Object.assign(Object.assign({},v.webauthn.credential_options),{publicKey:M_(v.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},v),{webauthn:Object.assign(Object.assign({},v.webauthn),{credential_options:Object.assign(Object.assign({},v.webauthn.credential_options),{publicKey:q_(v.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const d={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=r?.factors)!==null&&n!==void 0?n:[])d.all.push(h),h.status==="verified"&&d[h.factor_type].push(h);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:l},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Bc(l.access_token);let f=null;h.aal&&(f=h.aal);let v=f;((r=(n=l.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(v="aal2");const p=h.amr||[];return{data:{currentLevel:f,nextLevel:v,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:d}=r;return d?this._returnResult({data:null,error:d}):l?await ce(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:d},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Ut});const f=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:v=>({data:v,error:null})});return f.data&&f.data.redirect_url&&ht()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:d},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!d)return this._returnResult({data:null,error:new Ut});const f=await ce(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:v=>({data:v,error:null})});return f.data&&f.data.redirect_url&&ht()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await ce(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Ut})})}catch(n){if(re(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:d}=r;return d?this._returnResult({data:null,error:d}):l?(await ce(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ut})})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(v=>v.kid===n);if(l)return l;const d=Date.now();if(l=this.jwks.keys.find(v=>v.kid===n),l&&this.jwks_cached_at+Qy>d)return l;const{data:h,error:f}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=d,l=h.keys.find(v=>v.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:j,error:N}=await this.getSession();if(N||!j.session)return this._returnResult({data:null,error:N});l=j.session.access_token}const{header:d,payload:h,signature:f,raw:{header:v,payload:g}}=Bc(l);r?.allowExpired||g_(h.exp);const p=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:j}=await this.getUser(l);if(j)throw j;return{data:{claims:h,header:d,signature:f},error:null}}const _=v_(d.alg),b=await crypto.subtle.importKey("jwk",p,_,!0,["verify"]);if(!await crypto.subtle.verify(_,b,f,a_(`${v}.${g}`)))throw new Fc("Invalid JWT signature");return{data:{claims:h,header:d,signature:f},error:null}}catch(l){if(re(l))return this._returnResult({data:null,error:l});throw l}}}Di.nextInstanceID={};const J_=Di,I_="2.91.0";let Ei="";typeof Deno<"u"?Ei="deno":typeof document<"u"?Ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ei="react-native":Ei="node";const Z_={"X-Client-Info":`supabase-js-${Ei}/${I_}`},P_={headers:Z_},F_={schema:"public"},W_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},e0={};function Ui(i){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ui(i)}function t0(i,n){if(Ui(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,n);if(Ui(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function a0(i){var n=t0(i,"string");return Ui(n)=="symbol"?n:n+""}function n0(i,n,r){return(n=a0(n))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function Mm(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),r.push.apply(r,l)}return r}function Qe(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Mm(Object(r),!0).forEach(function(l){n0(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Mm(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const s0=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),i0=()=>Headers,r0=(i,n,r)=>{const l=s0(r),d=i0();return async(h,f)=>{var v;const g=(v=await n())!==null&&v!==void 0?v:i;let p=new d(f?.headers);return p.has("apikey")||p.set("apikey",i),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),l(h,Qe(Qe({},f),{},{headers:p}))}};function l0(i){return i.endsWith("/")?i:i+"/"}function o0(i,n){var r,l;const{db:d,auth:h,realtime:f,global:v}=i,{db:g,auth:p,realtime:_,global:b}=n,x={db:Qe(Qe({},g),d),auth:Qe(Qe({},p),h),realtime:Qe(Qe({},_),f),storage:{},global:Qe(Qe(Qe({},b),v),{},{headers:Qe(Qe({},(r=b?.headers)!==null&&r!==void 0?r:{}),(l=v?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?x.accessToken=i.accessToken:delete x.accessToken,x}function c0(i){const n=i?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(l0(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var u0=class extends J_{constructor(i){super(i)}},d0=class{constructor(i,n,r){var l,d;this.supabaseUrl=i,this.supabaseKey=n;const h=c0(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,v={db:F_,realtime:e0,auth:Qe(Qe({},W_),{},{storageKey:f}),global:P_},g=o0(r??{},v);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(d=g.global.headers)!==null&&d!==void 0?d:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(_,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=r0(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new Yp(new URL("rest/v1",h).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new $y(this.storageUrl.href,this.headers,this.fetch,r?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Lp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,r)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,n,r;if(i.accessToken)return await i.accessToken();const{data:l}=await i.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:d,storageKey:h,flowType:f,lock:v,debug:g,throwOnError:p},_,b){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new u0({url:this.authUrl.href,headers:Qe(Qe({},x),_),storageKey:h,autoRefreshToken:i,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:d,flowType:f,lock:v,debug:g,throwOnError:p,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new ly(this.realtimeUrl.href,Qe(Qe({},i),{},{params:Qe(Qe({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n?.access_token)})}_handleTokenChanged(i,n,r){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const h0=(i,n,r)=>new d0(i,n,r);function f0(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const n=i.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}f0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const m0="https://kwqjtdsqkkbebfiaxubb.supabase.co",g0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3cWp0ZHNxa2tiZWJmaWF4dWJiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY4NzM2NzUsImV4cCI6MjA4MjQ0OTY3NX0.bXz6Mxkjo34sVNno259o5RQzq4E8zrNy3Omz7nMhOk0",de=h0(m0,g0,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),Ee=async()=>{const{data:{user:i}}=await de.auth.getUser();if(!i)throw new Error("Usurio no autenticado");return i.id},ag=async()=>{const{data:{user:i}}=await de.auth.getUser();return i},v0=async(i,n)=>{const{data:r,error:l}=await de.auth.signInWithPassword({email:i,password:n});if(l)throw l;return r},p0=async(i,n)=>{const{data:r,error:l}=await de.auth.signUp({email:i,password:n});if(l)throw l;return r},y0=async()=>{const{error:i}=await de.auth.signOut();if(i)throw i},_0=i=>de.auth.onAuthStateChange(i),b0=async i=>{const{data:n,error:r}=await de.auth.updateUser({password:i});if(r)throw r;return n};function ye({children:i,variant:n="primary",size:r="md",onClick:l,disabled:d=!1,type:h="button",className:f=""}){return u.jsx("button",{type:h,className:`btn btn-${n} btn-${r} ${f}`,onClick:l,disabled:d,children:i})}function w0({onAuthSuccess:i}){const[n,r]=$.useState(!0),[l,d]=$.useState(""),[h,f]=$.useState(""),[v,g]=$.useState(!1),[p,_]=$.useState(null),[b,x]=$.useState(null),j=async N=>{N.preventDefault(),g(!0),_(null),x(null);try{n?(await v0(l,h),i&&i()):(await p0(l,h),x("Conta criada! Verifique seu email para confirmar o cadastro."),r(!0))}catch(U){console.error(U);let B="Ocorreu um erro.";U.message.includes("Invalid login credentials")?B="Email ou senha incorretos.":U.message.includes("User already registered")?B="Usurio j cadastrado.":U.message.includes("Password should be at least")&&(B="A senha deve ter pelo menos 6 caracteres."),_(B)}finally{g(!1)}};return u.jsx("div",{className:"auth-container",children:u.jsxs("div",{className:"auth-card glass-card",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("div",{className:"logo-container",children:u.jsx("img",{src:"/logo-new.svg",alt:"Meus Remdios",className:"auth-logo"})}),u.jsx("h1",{children:n?"Bem-vindo de volta":"Crie sua conta"}),u.jsx("p",{className:"auth-subtitle",children:n?"Acesse sua agenda de medicamentos":"Comece a gerenciar sua sade hoje"})]}),u.jsxs("form",{onSubmit:j,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsx("input",{id:"email",type:"email",value:l,onChange:N=>d(N.target.value),placeholder:"seu@email.com",required:!0,className:"auth-input"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Senha"}),u.jsx("input",{id:"password",type:"password",value:h,onChange:N=>f(N.target.value),placeholder:"",required:!0,minLength:6,className:"auth-input"})]}),p&&u.jsx("div",{className:"auth-error",children:p}),b&&u.jsx("div",{className:"auth-message",children:b}),u.jsx(ye,{type:"submit",className:"auth-submit-btn",disabled:v,children:v?"Carregando...":n?"Entrar":"Cadastrar"})]}),u.jsx("div",{className:"auth-footer",children:u.jsxs("p",{children:[n?"No tem uma conta?":"J tem uma conta?",u.jsx("button",{className:"toggle-auth-btn",onClick:()=>{r(!n),_(null),x(null)},children:n?"Cadastre-se":"Entrar"})]})})]})})}const Tn={async getAll(){const{data:i,error:n}=await de.from("medicines").select(`
        *,
        stock(*)
      `).eq("user_id",await Ee()).order("created_at",{ascending:!1});if(n)throw n;return i.map(r=>{const l=(r.stock||[]).filter(v=>v.quantity>0),d=l.reduce((v,g)=>v+g.quantity,0),h=l.reduce((v,g)=>v+(g.unit_price||0)*g.quantity,0),f=d>0?h/d:null;return{...r,avg_price:f}})},async getById(i){const{data:n,error:r}=await de.from("medicines").select(`
        *,
        stock(*)
      `).eq("id",i).eq("user_id",await Ee()).single();if(r)throw r;const l=(n.stock||[]).filter(v=>v.quantity>0),d=l.reduce((v,g)=>v+g.quantity,0),h=l.reduce((v,g)=>v+(g.unit_price||0)*g.quantity,0),f=d>0?h/d:null;return{...n,avg_price:f}},async create(i){const{data:n,error:r}=await de.from("medicines").insert([{...i,user_id:await Ee()}]).select().single();if(r)throw r;return n},async update(i,n){const{data:r,error:l}=await de.from("medicines").update(n).eq("id",i).eq("user_id",await Ee()).select().single();if(l)throw l;return r},async delete(i){const{error:n}=await de.from("medicines").delete().eq("id",i).eq("user_id",await Ee());if(n)throw n}},ja={async getAll(){const{data:i,error:n}=await de.from("protocols").select(`
        *,
        medicine:medicines(*)
      `).eq("user_id",await Ee()).order("created_at",{ascending:!1});if(n)throw n;return i},async getActive(){const{data:i,error:n}=await de.from("protocols").select(`
        *,
        medicine:medicines(*)
      `).eq("user_id",await Ee()).eq("active",!0).order("created_at",{ascending:!1});if(n)throw n;return i},async getById(i){const{data:n,error:r}=await de.from("protocols").select(`
        *,
        medicine:medicines(*)
      `).eq("id",i).eq("user_id",await Ee()).single();if(r)throw r;return n},async create(i){const{data:n,error:r}=await de.from("protocols").insert([{...i,user_id:await Ee(),titration_schedule:i.titration_schedule||[],current_stage_index:i.current_stage_index||0,stage_started_at:i.titration_schedule?.length>0?new Date().toISOString():null}]).select(`
        *,
        medicine:medicines(*),
        treatment_plan:treatment_plans(*)
      `).single();if(r)throw r;return n},async update(i,n){const{data:r,error:l}=await de.from("protocols").update(n).eq("id",i).eq("user_id",await Ee()).select(`
        *,
        medicine:medicines(*),
        treatment_plan:treatment_plans(*)
      `).single();if(l)throw l;return r},async delete(i){const{error:n}=await de.from("protocols").delete().eq("id",i).eq("user_id",await Ee());if(n)throw n},async getByMedicineId(i){const{data:n,error:r}=await de.from("protocols").select("*").eq("medicine_id",i).eq("user_id",await Ee());if(r)throw r;return n},async advanceTitrationStage(i,n=!1){const r=await this.getById(i);if(!r.titration_schedule||r.titration_schedule.length===0)throw new Error("Este protocolo no possui regime de titulao");const d=(r.current_stage_index||0)+1;if(d>=r.titration_schedule.length){const{data:p,error:_}=await de.from("protocols").update({titration_status:"alvo_atingido",current_stage_index:r.titration_schedule.length-1,stage_started_at:new Date().toISOString()}).eq("id",i).eq("user_id",await Ee()).select(`
          *,
          medicine:medicines(*),
          treatment_plan:treatment_plans(*)
        `).single();if(_)throw _;return p}const h=r.titration_schedule[d],f={current_stage_index:d,stage_started_at:new Date().toISOString(),dosage_per_intake:h.dosage,titration_status:n?"alvo_atingido":"titulando"},{data:v,error:g}=await de.from("protocols").update(f).eq("id",i).eq("user_id",await Ee()).select(`
        *,
        medicine:medicines(*),
        treatment_plan:treatment_plans(*)
      `).single();if(g)throw g;return v}},Ti={async getAll(){const{data:i,error:n}=await de.from("treatment_plans").select(`
        *,
        protocols:protocols(
          *,
          medicine:medicines(*)
        )
      `).eq("user_id",await Ee()).order("created_at",{ascending:!1});if(n)throw n;return i},async create(i){const{data:n,error:r}=await de.from("treatment_plans").insert([{...i,user_id:await Ee()}]).select().single();if(r)throw r;return n},async update(i,n){const{data:r,error:l}=await de.from("treatment_plans").update(n).eq("id",i).eq("user_id",await Ee()).select().single();if(l)throw l;return r},async delete(i){const{error:n}=await de.from("treatment_plans").delete().eq("id",i).eq("user_id",await Ee());if(n)throw n}},Ea={async getByMedicine(i){const{data:n,error:r}=await de.from("stock").select("*").eq("medicine_id",i).eq("user_id",await Ee()).order("created_at",{ascending:!1});if(r)throw r;return n},async getTotalQuantity(i){const{data:n,error:r}=await de.from("stock").select("quantity").eq("medicine_id",i).eq("user_id",await Ee());if(r)throw r;return n.reduce((l,d)=>l+d.quantity,0)},async add(i){if(!i.medicine_id)throw new Error("ID do medicamento  obrigatrio");if(i.quantity===void 0||i.quantity===null||i.quantity<=0)throw new Error("Quantidade deve ser maior que zero");try{const{data:n,error:r}=await de.from("stock").insert([{...i,user_id:await Ee()}]).select().single();if(r){const l=r.message||r.details||"Erro desconhecido ao adicionar estoque";throw new Error(l)}return n}catch(n){throw new Error(n.message||"Falha ao conectar com o servidor")}},async decrease(i,n){const{data:r,error:l}=await de.from("stock").select("*").eq("medicine_id",i).eq("user_id",await Ee()).gt("quantity",0).order("purchase_date",{ascending:!0});if(l)throw l;let d=n;for(const h of r){if(d<=0)break;const f=Math.min(h.quantity,d),v=h.quantity-f,{error:g}=await de.from("stock").update({quantity:v}).eq("id",h.id);if(g)throw g;d-=f}if(d>0)throw new Error("Estoque insuficiente")},async increase(i,n,r="Estorno de dose"){const{data:l,error:d}=await de.from("stock").insert([{medicine_id:i,quantity:n,purchase_date:new Date().toISOString().split("T")[0],unit_price:0,user_id:await Ee(),notes:r}]).select().single();if(d)throw d;return l},async delete(i){const{error:n}=await de.from("stock").delete().eq("id",i).eq("user_id",await Ee());if(n)throw n}},Ta={async getAll(i=50){const{data:n,error:r}=await de.from("medicine_logs").select(`
        *,
        protocol:protocols(*),
        medicine:medicines(*)
      `).eq("user_id",await Ee()).order("taken_at",{ascending:!1}).limit(i);if(r)throw r;return n},async getByProtocol(i,n=50){const{data:r,error:l}=await de.from("medicine_logs").select(`
        *,
        protocol:protocols(*),
        medicine:medicines(*)
      `).eq("protocol_id",i).eq("user_id",await Ee()).order("taken_at",{ascending:!1}).limit(n);if(l)throw l;return r},async create(i){const{data:n,error:r}=await de.from("medicine_logs").insert([{...i,user_id:await Ee()}]).select(`
        *,
        protocol:protocols(*),
        medicine:medicines(*)
      `).single();if(r)throw r;try{await Ea.decrease(i.medicine_id,i.quantity_taken)}catch(l){throw console.error("Erro ao decrementar estoque:",l),new Error("Remdio registrado, mas erro ao atualizar estoque: "+l.message)}return n},async createBulk(i){const n=await Ee(),r=i.map(f=>({...f,user_id:n})),{data:l,error:d}=await de.from("medicine_logs").insert(r).select(`
        *,
        protocol:protocols(*),
        medicine:medicines(*)
      `);if(d)throw d;const h=[];for(const f of i)try{await Ea.decrease(f.medicine_id,f.quantity_taken)}catch(v){h.push(`${f.medicine_id}: ${v.message}`)}return h.length>0&&console.error("Erros ao decrementar estoque no lote:",h),l},async update(i,n){const{data:r,error:l}=await de.from("medicine_logs").select("*").eq("id",i).single();if(l)throw l;if(n.quantity_taken!==void 0&&n.quantity_taken!==r.quantity_taken){const f=n.quantity_taken-r.quantity_taken;try{f>0?await Ea.decrease(r.medicine_id,f):f<0&&await Ea.increase(r.medicine_id,Math.abs(f),`Ajuste de dose (ID: ${i})`)}catch(v){throw console.error("Erro ao ajustar estoque no update:",v),new Error("No foi possvel atualizar o estoque: "+v.message)}}const{data:d,error:h}=await de.from("medicine_logs").update(n).eq("id",i).eq("user_id",await Ee()).select(`
        *,
        protocol:protocols(*),
        medicine:medicines(*)
      `).single();if(h)throw h;return d},async delete(i){const{data:n,error:r}=await de.from("medicine_logs").select("*").eq("id",i).single();if(r)throw r;try{await Ea.increase(n.medicine_id,n.quantity_taken,`Dose excluda (ID: ${i})`)}catch(d){throw console.error("Erro ao restaurar estoque na excluso:",d),new Error("No foi possvel devolver o remdio ao estoque: "+d.message)}const{error:l}=await de.from("medicine_logs").delete().eq("id",i).eq("user_id",await Ee());if(l)throw l},getAllPaginated:async(i=50,n=0)=>{const{data:r,error:l,count:d}=await de.from("medicine_logs").select(`
        *,
        protocol:protocols(*),
        medicine:medicines(*)
      `,{count:"exact"}).eq("user_id",await Ee()).order("taken_at",{ascending:!1}).range(n,n+i-1);if(l)throw l;return{data:r||[],total:d||0,hasMore:n+i<(d||0)}},getByDateRange:async(i,n,r=50,l=0)=>{const{data:d,error:h,count:f}=await de.from("medicine_logs").select(`
        *,
        protocol:protocols(*),
        medicine:medicines(*)
      `,{count:"exact"}).eq("user_id",await Ee()).gte("taken_at",`${i}T00:00:00`).lte("taken_at",`${n}T23:59:59`).order("taken_at",{ascending:!1}).range(l,l+r-1);if(h)throw h;return{data:d||[],total:f||0,hasMore:l+r<(f||0)}},getByMonth:async(i,n)=>{const r=new Date(i,n,1).toISOString().split("T")[0],l=new Date(i,n+1,0).toISOString().split("T")[0],{data:d,error:h,count:f}=await de.from("medicine_logs").select(`
        *,
        protocol:protocols(*),
        medicine:medicines(*)
      `,{count:"exact"}).eq("user_id",await Ee()).gte("taken_at",`${r}T00:00:00`).lte("taken_at",`${l}T23:59:59`).order("taken_at",{ascending:!1});if(h)throw h;return{data:d||[],total:f||0}}};function Nn({size:i="md",text:n="Carregando..."}){return u.jsxs("div",{className:"loading-container",children:[u.jsxs("div",{className:`loading-spinner loading-${i}`,children:[u.jsx("div",{className:"spinner-ring"}),u.jsx("div",{className:"spinner-ring"}),u.jsx("div",{className:"spinner-ring"})]}),n&&u.jsx("p",{className:"loading-text",children:n})]})}function Es({isOpen:i,onClose:n,children:r,title:l}){return $.useEffect(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]),$.useEffect(()=>{const d=h=>{h.key==="Escape"&&i&&n()};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[i,n]),i?u.jsx("div",{className:"modal-overlay",onClick:n,children:u.jsxs("div",{className:"modal-content",onClick:d=>d.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[l&&u.jsx("h2",{children:l}),u.jsx("button",{className:"modal-close",onClick:n,"aria-label":"Fechar",children:""})]}),u.jsx("div",{className:"modal-body",children:r})]})}):null}function S0({medicine:i,onSave:n,onCancel:r}){const[l,d]=$.useState({name:i?.name||"",laboratory:i?.laboratory||"",active_ingredient:i?.active_ingredient||"",dosage_per_pill:i?.dosage_per_pill||"",type:i?.type||"medicine",dosage_unit:i?.dosage_unit||"mg"}),[h,f]=$.useState({}),[v,g]=$.useState(!1),p=x=>{const{name:j,value:N}=x.target;d(U=>({...U,[j]:N})),h[j]&&f(U=>({...U,[j]:""}))},_=()=>{const x={};return l.name.trim()||(x.name="Nome  obrigatrio"),l.dosage_per_pill&&isNaN(l.dosage_per_pill)?x.dosage_per_pill="Deve ser um nmero":l.type==="medicine"&&l.dosage_per_pill,f(x),Object.keys(x).length===0},b=async x=>{if(x.preventDefault(),!!_()){g(!0);try{const j={name:l.name.trim(),laboratory:l.laboratory.trim()||null,active_ingredient:l.active_ingredient.trim()||null,dosage_per_pill:l.dosage_per_pill?parseFloat(l.dosage_per_pill):null,type:l.type,dosage_unit:l.dosage_unit};await n(j)}catch(j){console.error("Erro ao salvar medicamento:",j);const N=j?.message||"Erro desconhecido ao salvar medicamento";f({submit:N})}finally{g(!1)}}};return u.jsxs("form",{className:"medicine-form",onSubmit:b,children:[u.jsx("h3",{children:i?"Editar Medicamento":"Novo Medicamento"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"type",children:"Tipo"}),u.jsxs("select",{id:"type",name:"type",value:l.type,onChange:p,children:[u.jsx("option",{value:"medicine",children:"Medicamento"}),u.jsx("option",{value:"supplement",children:"Suplemento"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"name",children:["Nome ",l.type==="supplement"?"(Comercial)":"do Remdio"," ",u.jsx("span",{className:"required",children:"*"})]}),u.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:p,className:h.name?"error":"",placeholder:"Ex: Paracetamol",autoFocus:!0}),h.name&&u.jsx("span",{className:"error-message",children:h.name})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"active_ingredient",children:"Princpio Ativo"}),u.jsx("input",{type:"text",id:"active_ingredient",name:"active_ingredient",value:l.active_ingredient,onChange:p,placeholder:"Ex: Paracetamol"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"laboratory",children:"Marca / Laboratrio"}),u.jsx("input",{type:"text",id:"laboratory",name:"laboratory",value:l.laboratory,onChange:p,placeholder:"Ex: EMS, Medley, etc."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"dosage_per_pill",children:"Dosagem"}),u.jsxs("div",{className:"dosage-input-group",style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"8px"},children:[u.jsx("input",{type:"number",id:"dosage_per_pill",name:"dosage_per_pill",value:l.dosage_per_pill,onChange:p,className:h.dosage_per_pill?"error":"",placeholder:l.type==="supplement"?"Opcional":"500",step:"0.01"}),u.jsxs("select",{name:"dosage_unit",value:l.dosage_unit,onChange:p,children:[u.jsx("option",{value:"mg",children:"mg"}),u.jsx("option",{value:"mcg",children:"mcg"}),u.jsx("option",{value:"g",children:"g"}),u.jsx("option",{value:"ml",children:"ml"}),u.jsx("option",{value:"ui",children:"UI"}),u.jsx("option",{value:"cp",children:"cp/cap"}),u.jsx("option",{value:"gotas",children:"gotas"})]})]}),h.dosage_per_pill&&u.jsx("span",{className:"error-message",children:h.dosage_per_pill})]}),h.submit&&u.jsxs("div",{className:"error-banner",children:[" ",h.submit]}),u.jsxs("div",{className:"form-actions",children:[u.jsx(ye,{type:"button",variant:"ghost",onClick:r,disabled:v,children:"Cancelar"}),u.jsx(ye,{type:"submit",variant:"primary",disabled:v,children:v?"Salvando...":i?"Atualizar":"Cadastrar"})]})]})}function Mi({children:i,className:n="",onClick:r,hover:l=!0}){return u.jsx("div",{className:`card ${l?"card-hover":""} ${n}`,onClick:r,children:i})}function x0({medicine:i,onEdit:n,onDelete:r,hasDependencies:l}){return u.jsxs(Mi,{className:"medicine-card",children:[u.jsxs("div",{className:"medicine-header",children:[u.jsx("h4",{className:"medicine-name",children:i.name}),l&&u.jsx("span",{className:"dependency-indicator",title:"Este medicamento possui protocolos e/ou estoque associados.",children:""}),i.active_ingredient&&u.jsx("span",{className:"medicine-ingredient",children:i.active_ingredient})]}),u.jsxs("div",{className:"medicine-details",children:[i.laboratory&&u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{className:"detail-label",children:" Laboratrio:"}),u.jsx("span",{className:"detail-value",children:i.laboratory})]}),i.dosage_per_pill&&u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{className:"detail-label",children:" Dosagem:"}),u.jsxs("span",{className:"detail-value",children:[i.dosage_per_pill," ",i.dosage_unit||"mg"]})]}),i.type==="supplement"&&u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{className:"detail-label",children:" Tipo:"}),u.jsx("span",{className:"detail-value",children:"Suplemento"})]}),i.avg_price!==void 0&&i.avg_price!==null&&u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{className:"detail-label",children:" Custo Mdio:"}),u.jsxs("span",{className:"detail-value",children:["R$ ",parseFloat(i.avg_price).toFixed(2)]})]})]}),u.jsxs("div",{className:"medicine-actions",children:[u.jsx(ye,{variant:"outline",size:"sm",onClick:()=>n(i),children:" Editar"}),u.jsx(ye,{variant:"danger",size:"sm",onClick:()=>r(i),children:" Excluir"})]})]})}function j0({onNavigateToProtocol:i}){const[n,r]=$.useState([]),[l,d]=$.useState(!0),[h,f]=$.useState(null),[v,g]=$.useState(!1),[p,_]=$.useState(null),[b,x]=$.useState(""),[j,N]=$.useState("all"),[U,B]=$.useState({}),X=async()=>{try{d(!0),f(null);const V=await Tn.getAll();r(V),await J(V)}catch(V){f("Erro ao carregar medicamentos: "+V.message),console.error(V)}finally{d(!1)}},J=async V=>{const ae={};for(const _e of V){const[Xe,ze]=await Promise.all([ja.getByMedicineId(_e.id),Ea.getByMedicine(_e.id)]);ae[_e.id]={hasProtocols:Xe.length>0,hasStock:ze.length>0}}B(ae)};$.useEffect(()=>{X()},[]);const M=()=>{_(null),g(!0)},C=V=>{_(V),g(!0)},z=async V=>{try{if(p)await Tn.update(p.id,V),Q("Medicamento atualizado com sucesso!");else{const ae=await Tn.create(V);if(Q("Medicamento cadastrado com sucesso!"),window.confirm(" Medicamento criado! Deseja criar um protocolo de uso para ele agora?")&&i){i(ae.id);return}}g(!1),_(null),await X()}catch(ae){throw new Error("Erro ao salvar medicamento: "+ae.message)}},K=async V=>{if(!((U[V.id]?.hasProtocols||U[V.id]?.hasStock)&&!window.confirm(`Este medicamento possui${U[V.id].hasProtocols?"protocolos e":""} ${U[V.id].hasStock?"estoque":""} associado(s).
Tem certeza que deseja exclu-lo?`))&&window.confirm(`Tem certeza que deseja excluir "${V.name}"?`))try{await Tn.delete(V.id),Q("Medicamento excludo com sucesso!"),await X()}catch(_e){f("Erro ao excluir medicamento: "+_e.message),console.error(_e)}},Q=V=>{x(V),setTimeout(()=>x(""),3e3)};return l?u.jsx("div",{className:"medicines-view",children:u.jsx(Nn,{text:"Carregando medicamentos..."})}):u.jsxs("div",{className:"medicines-view",children:[u.jsxs("div",{className:"medicines-header",children:[u.jsxs("div",{children:[u.jsx("h2",{children:" Medicamentos e Suplementos"}),u.jsx("p",{className:"medicines-subtitle",children:"Gerencie seus medicamentos cadastrados"})]}),u.jsx(ye,{variant:"primary",onClick:M,children:" Adicionar"})]}),u.jsxs("div",{className:"filter-tabs",style:{marginBottom:"20px",display:"flex",gap:"10px"},children:[u.jsx(ye,{variant:j==="all"?"primary":"outline",onClick:()=>N("all"),size:"sm",children:"Todos"}),u.jsx(ye,{variant:j==="medicine"?"primary":"outline",onClick:()=>N("medicine"),size:"sm",children:"Medicamentos"}),u.jsx(ye,{variant:j==="supplement"?"primary":"outline",onClick:()=>N("supplement"),size:"sm",children:"Suplementos"})]}),b&&u.jsxs("div",{className:"success-banner fade-in",children:[" ",b]}),h&&u.jsxs("div",{className:"error-banner fade-in",children:[" ",h]}),n.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h3",{children:"Nenhum medicamento cadastrado"}),u.jsx("p",{children:"Comece adicionando seu primeiro medicamento"}),u.jsx(ye,{variant:"primary",onClick:M,children:" Adicionar Primeiro Medicamento"})]}):u.jsx("div",{className:"medicines-grid",children:n.filter(V=>j==="all"||V.type===j).map(V=>{const ae=U[V.id]?.hasProtocols||U[V.id]?.hasStock;return u.jsx(x0,{medicine:V,onEdit:C,onDelete:K,hasDependencies:ae},V.id)})}),u.jsx(Es,{isOpen:v,onClose:()=>{g(!1),_(null)},children:u.jsx(S0,{medicine:p,onSave:z,onCancel:()=>{g(!1),_(null)}})})]})}function E0({medicines:i,initialValues:n,onSave:r,onCancel:l}){const[d,h]=$.useState({medicine_id:n?.medicine_id||"",quantity:"",unit_price:"",purchase_date:new Date().toISOString().split("T")[0],expiration_date:""}),[f,v]=$.useState({}),[g,p]=$.useState(!1),_=j=>{const{name:N,value:U}=j.target;h(B=>({...B,[N]:U})),f[N]&&v(B=>({...B,[N]:""}))},b=()=>{const j={};return d.medicine_id||(j.medicine_id="Selecione um medicamento"),(!d.quantity||d.quantity<=0)&&(j.quantity="Quantidade deve ser maior que zero"),d.unit_price&&isNaN(d.unit_price)&&(j.unit_price="Deve ser um nmero"),d.expiration_date&&d.expiration_date<d.purchase_date&&(j.expiration_date="Data de validade no pode ser anterior  compra"),v(j),Object.keys(j).length===0},x=async j=>{if(j.preventDefault(),!!b()){p(!0);try{const N={medicine_id:d.medicine_id,quantity:parseFloat(d.quantity),unit_price:d.unit_price?parseFloat(d.unit_price):0,purchase_date:d.purchase_date||null,expiration_date:d.expiration_date||null};await r(N)}catch(N){console.error("Erro ao salvar:",N),v({submit:N.message})}finally{p(!1)}}};return u.jsxs("form",{className:"stock-form",onSubmit:x,children:[u.jsx("h3",{children:"Adicionar Estoque"}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"medicine_id",children:["Medicamento ",u.jsx("span",{className:"required",children:"*"})]}),u.jsxs("select",{id:"medicine_id",name:"medicine_id",value:d.medicine_id,onChange:_,className:f.medicine_id?"error":"",children:[u.jsx("option",{value:"",children:"Selecione um medicamento"}),i.map(j=>u.jsxs("option",{value:j.id,children:[j.name," ",j.dosage_per_pill?`(${j.dosage_per_pill}${j.dosage_unit||"mg"})`:""]},j.id))]}),f.medicine_id&&u.jsx("span",{className:"error-message",children:f.medicine_id})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"quantity",children:["Quantidade ",u.jsx("span",{className:"required",children:"*"})]}),u.jsx("input",{type:"number",id:"quantity",name:"quantity",value:d.quantity,onChange:_,className:f.quantity?"error":"",placeholder:"30",min:"0.1",step:"0.1"}),f.quantity&&u.jsx("span",{className:"error-message",children:f.quantity})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"unit_price",children:"Preo Unitrio (R$)"}),u.jsx("input",{type:"number",id:"unit_price",name:"unit_price",value:d.unit_price,onChange:_,className:f.unit_price?"error":"",placeholder:"0.50",step:"0.001",min:"0"}),f.unit_price&&u.jsx("span",{className:"error-message",children:f.unit_price})]})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"purchase_date",children:"Data da Compra"}),u.jsx("input",{type:"date",id:"purchase_date",name:"purchase_date",value:d.purchase_date,onChange:_})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"expiration_date",children:"Data de Validade"}),u.jsx("input",{type:"date",id:"expiration_date",name:"expiration_date",value:d.expiration_date,onChange:_,className:f.expiration_date?"error":""}),f.expiration_date&&u.jsx("span",{className:"error-message",children:f.expiration_date})]})]}),f.submit&&u.jsxs("div",{className:"error-banner",children:[" ",f.submit]}),u.jsxs("div",{className:"form-actions",children:[u.jsx(ye,{type:"button",variant:"ghost",onClick:l,disabled:g,children:"Cancelar"}),u.jsx(ye,{type:"submit",variant:"primary",disabled:g,children:g?"Salvando...":"Adicionar Estoque"})]})]})}function T0({quantity:i,lowThreshold:n=10,isLow:r}){const l=()=>i===0?"var(--accent-error)":r!==void 0?r?"var(--accent-warning)":"var(--accent-success)":i<=n?"var(--accent-warning)":"var(--accent-success)",d=()=>i===0?"Sem estoque":r!==void 0?r?"Acaba em breve":"Estoque OK":i<=n?"Estoque baixo":"Estoque OK",h=()=>{const f=n*3;return Math.min(i/f*100,100)};return u.jsxs("div",{className:"stock-indicator",children:[u.jsxs("div",{className:"stock-header",children:[u.jsxs("span",{className:"stock-quantity",children:[i," comprimidos"]}),u.jsx("span",{className:"stock-status",style:{color:l()},children:d()})]}),u.jsx("div",{className:"stock-bar",children:u.jsx("div",{className:"stock-fill",style:{width:`${h()}%`,background:l()}})})]})}function $c({medicine:i,stockEntries:n,totalQuantity:r,daysRemaining:l,isLow:d,dailyIntake:h,onClick:f}){const v=r===0,g=b=>b?new Date(b).toLocaleDateString("pt-BR"):"-",p=b=>{if(!b)return!1;const x=new Date,j=new Date(b),N=Math.ceil((j-x)/(1e3*60*60*24));return N<=30&&N>0},_=b=>{if(!b)return!1;const x=new Date;return new Date(b)<x};return u.jsxs(Mi,{className:`stock-card-detail ${d?"low-stock-card":""} ${v?"out-of-stock-card":""} ${f?"clickable":""}`,onClick:f,children:[u.jsxs("div",{className:"stock-card-header",children:[u.jsxs("div",{className:"medicine-info-top",children:[u.jsx("h4",{className:"medicine-name",children:i.name}),i.dosage_per_pill&&u.jsxs("span",{className:"medicine-dosage",children:[i.dosage_per_pill,i.dosage_unit||"mg"]})]}),u.jsx("div",{className:"stock-days-badge",children:h>0?u.jsxs("span",{className:`days-count ${d?"danger":""}`,children:[Math.floor(l)," dias"]}):u.jsx("span",{className:"days-count neutral",children:"Inativo"})})]}),u.jsx(T0,{quantity:r,isLow:d}),n.length>0&&u.jsxs("div",{className:"stock-entries",children:[u.jsx("h5",{children:"Histrico de Compras"}),u.jsx("div",{className:"entries-list",children:n.map(b=>u.jsxs("div",{className:"entry-item",children:[u.jsxs("div",{className:"entry-info",children:[u.jsxs("span",{className:"entry-quantity",children:[b.quantity," un."]}),u.jsx("span",{className:"entry-price",children:b.unit_price>0?`(R$ ${parseFloat(b.unit_price).toFixed(2)}/un)`:""}),u.jsxs("span",{className:"entry-date",children:["Compra: ",g(b.purchase_date)]})]}),b.unit_price>0&&u.jsxs("div",{className:"entry-total",children:["Custo lote: R$ ",(b.unit_price*b.quantity).toFixed(2)]}),b.expiration_date&&u.jsx("div",{className:"entry-expiration",children:u.jsx("span",{className:`expiration-badge ${_(b.expiration_date)?"expired":p(b.expiration_date)?"expiring-soon":""}`,children:_(b.expiration_date)?" Vencido":p(b.expiration_date)?" Vence em breve":`Validade: ${g(b.expiration_date)}`})})]},b.id))})]})]})}function N0({initialParams:i,onClearParams:n}){const[r,l]=$.useState([]),[d,h]=$.useState({}),[f,v]=$.useState(!0),[g,p]=$.useState(null),[_,b]=$.useState(!1),[x,j]=$.useState(null),[N,U]=$.useState(""),B=async()=>{try{v(!0),p(null);const[V,ae]=await Promise.all([Tn.getAll(),ja.getActive()]),_e={},Xe=new Set(ae.map(F=>F.medicine_id));ae.forEach(F=>{if(F.active){const k=(F.dosage_per_intake||0)*(F.time_schedule?.length||0);_e[F.medicine_id]=(_e[F.medicine_id]||0)+k}}),l(V);const ze=V.map(async F=>{const k=await Ea.getByMedicine(F.id),I=k.reduce((S,L)=>S+L.quantity,0),ne=_e[F.id]||0,pe=ne>0?I/ne:1/0,Z=ne>0&&pe<4;return{medicineId:F.id,hasActiveProtocol:Xe.has(F.id),entries:k,total:I,dailyIntake:ne,daysRemaining:pe,isLow:Z}}),it=await Promise.all(ze),ie={};it.forEach(F=>{ie[F.medicineId]={hasActiveProtocol:F.hasActiveProtocol,entries:F.entries,total:F.total,dailyIntake:F.dailyIntake,daysRemaining:F.daysRemaining,isLow:F.isLow}}),h(ie)}catch(V){p("Erro ao carregar dados: "+V.message),console.error(V)}finally{v(!1)}};$.useEffect(()=>{B()},[]),$.useEffect(()=>{i?.medicineId&&r.length>0&&b(!0)},[i,r]);const X=(V=null)=>{if(r.length===0){p("Cadastre um medicamento antes de adicionar estoque");return}j(typeof V=="string"?V:null),b(!0)},J=async V=>{try{await Ea.add(V),M("Estoque adicionado com sucesso!"),b(!1),j(null),n&&n(),await B()}catch(ae){const _e=ae?.message||"Erro desconhecido ao adicionar estoque";throw console.error("Stock add error:",ae),new Error(_e)}},M=V=>{U(V),setTimeout(()=>U(""),3e3)},C=r.map(V=>({medicine:V,stock:d[V.id]||{entries:[],total:0,daysRemaining:1/0,isLow:!1,dailyIntake:0,hasActiveProtocol:!1}})),z=C.filter(V=>V.stock.total===0&&V.stock.hasActiveProtocol),K=C.filter(V=>V.stock.total>0&&V.stock.isLow).sort((V,ae)=>V.stock.daysRemaining-ae.stock.daysRemaining),Q=C.filter(V=>V.stock.total>0&&!V.stock.isLow).sort((V,ae)=>V.stock.daysRemaining-ae.stock.daysRemaining);return f?u.jsx("div",{className:"stock-view",children:u.jsx(Nn,{text:"Carregando estoque..."})}):u.jsxs("div",{className:"stock-view",children:[u.jsxs("div",{className:"stock-header",children:[u.jsxs("div",{children:[u.jsx("h2",{children:" Estoque"}),u.jsxs("p",{className:"stock-subtitle",children:[u.jsx("span",{className:"live-indicator"}),"Sincronizado com protocolos ativos"]})]}),u.jsx(ye,{variant:"primary",onClick:X,children:" Adicionar Estoque"})]}),N&&u.jsxs("div",{className:"success-banner fade-in",children:[" ",N]}),g&&u.jsxs("div",{className:"error-banner fade-in",children:[" ",g]}),r.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h3",{children:"Nenhum medicamento cadastrado"}),u.jsx("p",{children:"Cadastre medicamentos primeiro para gerenciar o estoque"})]}):u.jsxs("div",{className:"stock-content",children:[z.length>0&&u.jsxs("div",{className:"stock-section fade-in",children:[u.jsxs("h3",{className:"section-title error",children:[" Sem Estoque (",z.length,")",u.jsx("span",{className:"section-subtitle",children:"Reposio imediata necessria"})]}),u.jsx("div",{className:"stock-grid",children:z.map(({medicine:V,stock:ae})=>u.jsx($c,{medicine:V,stockEntries:ae.entries,totalQuantity:ae.total,daysRemaining:ae.daysRemaining,isLow:!0,onClick:()=>X(V.id)},V.id))})]}),K.length>0&&u.jsxs("div",{className:"stock-section fade-in",children:[u.jsxs("h3",{className:"section-title warning",children:[" Acaba em breve (",K.length,")",u.jsx("span",{className:"section-subtitle",children:"Menos de 4 dias de cobertura"})]}),u.jsx("div",{className:"stock-grid",children:K.map(({medicine:V,stock:ae})=>u.jsx($c,{medicine:V,stockEntries:ae.entries,totalQuantity:ae.total,daysRemaining:ae.daysRemaining,isLow:!0,dailyIntake:ae.dailyIntake,onClick:()=>X(V.id)},V.id))})]}),Q.length>0&&u.jsxs("div",{className:"stock-section fade-in",children:[u.jsxs("h3",{className:"section-title success",children:[" Estoque OK (",Q.length,")",u.jsx("span",{className:"section-subtitle",children:"Mais de 4 dias garantidos"})]}),u.jsx("div",{className:"stock-grid",children:Q.map(({medicine:V,stock:ae})=>u.jsx($c,{medicine:V,stockEntries:ae.entries,totalQuantity:ae.total,daysRemaining:ae.daysRemaining,isLow:!1,dailyIntake:ae.dailyIntake},V.id))})]})]}),u.jsx(Es,{isOpen:_,onClose:()=>{b(!1),n&&n()},children:u.jsx(E0,{medicines:r,initialValues:x?{medicine_id:x}:i?{medicine_id:i.medicineId}:null,onSave:J,onCancel:()=>{b(!1),j(null),n&&n()}})})]})}function A0({schedule:i=[],onChange:n}){const[r,l]=$.useState(i),[d,h]=$.useState({days:7,dosage:1,note:""});$.useEffect(()=>{l(i)},[i]);const f=()=>{const _=[...r,{...d}];l(_),n(_),h(b=>({...b,note:""}))},v=_=>{const b=r.filter((x,j)=>j!==_);l(b),n(b)},g=(_,b,x)=>{const j=[...r];j[_]={...j[_],[b]:x},l(j),n(j)},p=r.reduce((_,b)=>_+parseInt(b.days||0),0);return u.jsxs("div",{className:"titration-wizard",children:[u.jsxs("div",{className:"wizard-header",children:[u.jsx("h4",{children:" Regime de Titulao"}),u.jsx("p",{className:"wizard-subtitle",children:"Defina a evoluo da dose ao longo do tempo."})]}),u.jsx("div",{className:"stages-list",children:r.map((_,b)=>u.jsxs("div",{className:"titration-stage-card",children:[u.jsxs("div",{className:"stage-number",children:["Etapa ",b+1]}),u.jsxs("div",{className:"stage-grid",children:[u.jsxs("div",{className:"form-group-mini",children:[u.jsx("label",{children:"Durao (dias)"}),u.jsx("input",{type:"number",min:"1",value:_.days,onChange:x=>g(b,"days",parseInt(x.target.value))})]}),u.jsxs("div",{className:"form-group-mini",children:[u.jsx("label",{children:"Dose (comps)"}),u.jsx("input",{type:"number",min:"0.1",step:"0.1",value:_.dosage,onChange:x=>g(b,"dosage",parseFloat(x.target.value))})]}),u.jsxs("div",{className:"form-group-mini full-width",children:[u.jsx("label",{children:"Nota / Objetivo"}),u.jsx("input",{type:"text",placeholder:"Ex: Introduo, Aumento de dose...",value:_.note,onChange:x=>g(b,"note",x.target.value)})]})]}),u.jsx("button",{type:"button",className:"btn-remove-stage",onClick:()=>v(b),title:"Remover etapa",children:""})]},b))}),u.jsxs("div",{className:"add-stage-form",children:[u.jsx("h5",{children:"Adicionar Nova Etapa"}),u.jsxs("div",{className:"stage-input-row",children:[u.jsxs("div",{className:"input-group",children:[u.jsx("label",{children:"Durao"}),u.jsxs("div",{className:"input-with-suffix",children:[u.jsx("input",{type:"number",min:"1",value:d.days,onChange:_=>h(b=>({...b,days:parseInt(_.target.value)}))}),u.jsx("span",{children:"dias"})]})]}),u.jsxs("div",{className:"input-group",children:[u.jsx("label",{children:"Dose"}),u.jsxs("div",{className:"input-with-suffix",children:[u.jsx("input",{type:"number",min:"0.1",step:"0.1",value:d.dosage,onChange:_=>h(b=>({...b,dosage:parseFloat(_.target.value)}))}),u.jsx("span",{children:"comp."})]})]})]}),u.jsx("div",{className:"input-group",children:u.jsx("input",{type:"text",placeholder:"Nota (opcional)",value:d.note,onChange:_=>h(b=>({...b,note:_.target.value})),className:"input-note"})}),u.jsx(ye,{type:"button",variant:"outline",onClick:f,className:"btn-add-stage",children:" Adicionar Etapa"})]}),r.length>0&&u.jsx("div",{className:"titration-summary",children:u.jsxs("span",{children:[" Tempo total previsto: ",u.jsxs("strong",{children:[p," dias"]})," at a manuteno."]})})]})}function O0({medicines:i,treatmentPlans:n=[],protocol:r,initialValues:l,onSave:d,onCancel:h}){const[f,v]=$.useState({medicine_id:r?.medicine_id||l?.medicine_id||"",treatment_plan_id:r?.treatment_plan_id||"",name:r?.name||"",frequency:r?.frequency||"",time_schedule:r?.time_schedule||[],dosage_per_intake:r?.dosage_per_intake||"",target_dosage:r?.target_dosage||"",titration_status:r?.titration_status||"estvel",titration_schedule:r?.titration_schedule||[],notes:r?.notes||"",active:r?.active!==void 0?r.active:!0}),[g,p]=$.useState(r?.titration_schedule?.length>0||r?.titration_status==="titulando"),[_,b]=$.useState(""),[x,j]=$.useState({}),[N,U]=$.useState(!1);$.useEffect(()=>{if(!r&&g&&f.titration_schedule?.length>0){const z=f.titration_schedule[0];z.dosage&&!f.dosage_per_intake&&v(K=>({...K,dosage_per_intake:z.dosage}))}},[g,f.titration_schedule,r,f.dosage_per_intake]);const B=z=>{const{name:K,value:Q,type:V,checked:ae}=z.target;v(_e=>({..._e,[K]:V==="checkbox"?ae:Q})),x[K]&&j(_e=>({..._e,[K]:""}))},X=()=>{if(_){if(f.time_schedule.includes(_)){j({time_schedule:"Horrio j adicionado"});return}v(z=>({...z,time_schedule:[...z.time_schedule,_].sort()})),b(""),j(z=>({...z,time_schedule:""}))}},J=z=>{v(K=>({...K,time_schedule:K.time_schedule.filter(Q=>Q!==z)}))},M=()=>{const z={};return f.medicine_id||(z.medicine_id="Selecione um medicamento"),f.name.trim()||(z.name="Nome do protocolo  obrigatrio"),f.frequency.trim()||(z.frequency="Frequncia  obrigatria"),f.time_schedule.length===0&&(z.time_schedule="Adicione pelo menos um horrio"),(!f.dosage_per_intake||f.dosage_per_intake<=0)&&(z.dosage_per_intake="Dosagem deve ser maior que zero"),f.target_dosage&&isNaN(f.target_dosage)&&(z.target_dosage="Deve ser um nmero"),j(z),Object.keys(z).length===0},C=async z=>{if(z.preventDefault(),!!M()){U(!0);try{const K=g&&f.titration_schedule.length>0,Q={medicine_id:f.medicine_id,treatment_plan_id:f.treatment_plan_id||null,name:f.name.trim(),frequency:f.frequency.trim(),time_schedule:f.time_schedule,dosage_per_intake:parseFloat(f.dosage_per_intake),target_dosage:f.target_dosage?parseFloat(f.target_dosage):null,titration_status:K?"titulando":f.titration_status,titration_schedule:K?f.titration_schedule:[],notes:f.notes.trim()||null,active:f.active};await d(Q)}catch(K){console.error("Erro ao salvar protocolo:",K);const Q=K?.message||"Erro desconhecido ao salvar protocolo";j({submit:Q})}finally{U(!1)}}};return u.jsxs("form",{className:"protocol-form",onSubmit:C,style:{paddingBottom:"80px"},children:[u.jsx("h3",{children:r?"Editar Protocolo":"Novo Protocolo"}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"medicine_id",children:["Medicamento ",u.jsx("span",{className:"required",children:"*"})]}),u.jsxs("select",{id:"medicine_id",name:"medicine_id",value:f.medicine_id,onChange:B,className:x.medicine_id?"error":"",disabled:!!r,children:[u.jsx("option",{value:"",children:"Selecione um medicamento"}),i.map(z=>u.jsxs("option",{value:z.id,children:[z.name," ",z.dosage_per_pill?`(${z.dosage_per_pill}${z.dosage_unit||"mg"})`:`(${z.type==="supplement"?"Sup.":"N/A"})`]},z.id))]}),x.medicine_id&&u.jsx("span",{className:"error-message",children:x.medicine_id})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"treatment_plan_id",children:"Plano de Tratamento (Opcional)"}),u.jsxs("select",{id:"treatment_plan_id",name:"treatment_plan_id",value:f.treatment_plan_id,onChange:B,children:[u.jsx("option",{value:"",children:"Nenhum (Protocolo isolado)"}),n.map(z=>u.jsx("option",{value:z.id,children:z.name},z.id))]}),u.jsx("small",{style:{color:"var(--text-tertiary)",fontSize:"11px"},children:"Agrupe este remdio em um plano maior (ex: Quarteto Fantstico)."})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"name",children:["Nome do Protocolo ",u.jsx("span",{className:"required",children:"*"})]}),u.jsx("input",{type:"text",id:"name",name:"name",value:f.name,onChange:B,className:x.name?"error":"",placeholder:"Ex: Paracetamol para dor",autoFocus:!r}),x.name&&u.jsx("span",{className:"error-message",children:x.name})]}),u.jsxs("div",{className:"form-row",children:[u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"frequency",children:["Frequncia ",u.jsx("span",{className:"required",children:"*"})]}),u.jsx("input",{type:"text",id:"frequency",name:"frequency",value:f.frequency,onChange:B,className:x.frequency?"error":"",placeholder:"Ex: 2x ao dia, a cada 8 horas"}),x.frequency&&u.jsx("span",{className:"error-message",children:x.frequency})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"dosage_per_intake",children:["Dose por Horrio (qtd) ",u.jsx("span",{className:"required",children:"*"})]}),u.jsx("input",{type:"number",id:"dosage_per_intake",name:"dosage_per_intake",value:f.dosage_per_intake,onChange:B,className:x.dosage_per_intake?"error":"",placeholder:"1",min:"0.1",step:"0.1"}),x.dosage_per_intake&&u.jsx("span",{className:"error-message",children:x.dosage_per_intake})]})]}),u.jsxs("div",{className:"form-row",style:{flexDirection:"column",gap:"var(--space-2)",border:"1px solid var(--border-color)",padding:"var(--space-3)",borderRadius:"var(--radius-md)",background:"var(--bg-tertiary)",marginBottom:"var(--space-4)"},children:[u.jsx("div",{className:"form-group checkbox-group",style:{marginBottom:0},children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",checked:g,onChange:z=>{p(z.target.checked),z.target.checked?v(K=>({...K,titration_status:"titulando"})):v(K=>({...K,titration_status:"estvel"}))}}),u.jsx("span",{children:" Regime de Titulao Inteligente"})]})}),g?u.jsx(A0,{schedule:f.titration_schedule,onChange:z=>v(K=>({...K,titration_schedule:z}))}):u.jsxs("div",{className:"form-row",style:{marginTop:"var(--space-2)"},children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"target_dosage",children:"Dose Alvo (mg)"}),u.jsx("input",{type:"number",id:"target_dosage",name:"target_dosage",value:f.target_dosage,onChange:B,placeholder:"Ex: 50",step:"0.1",min:"0"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"titration_status",children:"Status Manual"}),u.jsxs("select",{id:"titration_status",name:"titration_status",value:f.titration_status,onChange:B,children:[u.jsx("option",{value:"estvel",children:" Estvel"}),u.jsx("option",{value:"titulando",children:" Titulando"}),u.jsx("option",{value:"alvo_atingido",children:" Alvo Atingido"})]})]})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"time_input",children:["Horrios ",u.jsx("span",{className:"required",children:"*"})]}),u.jsxs("div",{className:"time-input-group",children:[u.jsx("input",{type:"time",id:"time_input",value:_,onChange:z=>b(z.target.value),className:x.time_schedule?"error":""}),u.jsx(ye,{type:"button",variant:"outline",size:"sm",onClick:X,children:" Adicionar"})]}),x.time_schedule&&u.jsx("span",{className:"error-message",children:x.time_schedule}),f.time_schedule.length>0&&u.jsx("div",{className:"time-schedule-list",children:f.time_schedule.map(z=>u.jsxs("div",{className:"time-chip",children:[u.jsx("span",{children:z}),u.jsx("button",{type:"button",onClick:()=>J(z),className:"remove-time",children:""})]},z))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"notes",children:"Observaes"}),u.jsx("textarea",{id:"notes",name:"notes",value:f.notes,onChange:B,placeholder:"Informaes adicionais sobre o protocolo...",rows:"3"})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{className:"checkbox-label",children:[u.jsx("input",{type:"checkbox",name:"active",checked:f.active,onChange:B}),u.jsx("span",{children:"Protocolo ativo"})]})}),x.submit&&u.jsxs("div",{className:"error-banner",children:[" ",x.submit]}),u.jsxs("div",{className:"form-actions",children:[u.jsx(ye,{type:"button",variant:"ghost",onClick:h,disabled:N,children:"Cancelar"}),u.jsx(ye,{type:"submit",variant:"primary",disabled:N,children:N?"Salvando...":r?"Atualizar":"Criar Protocolo"})]})]})}function qm({protocol:i,onEdit:n,onToggleActive:r,onDelete:l}){const d=h=>h;return u.jsxs(Mi,{className:`protocol-card ${i.active?"":"inactive"}`,children:[u.jsxs("div",{className:"protocol-header",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"protocol-name",children:i.name}),u.jsxs("span",{className:"protocol-medicine",children:[i.medicine?.name,i.medicine?.dosage_per_pill?` (${i.medicine.dosage_per_pill}${i.medicine.dosage_unit||"mg"})`:""]})]}),u.jsx("div",{className:`protocol-status ${i.active?"active":"inactive"}`,children:i.active?" Ativo":" Pausado"})]}),u.jsxs("div",{className:"protocol-details",children:[u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{className:"detail-label",children:" Frequncia:"}),u.jsx("span",{className:"detail-value",children:i.frequency})]}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{className:"detail-label",children:" Dosagem:"}),u.jsxs("span",{className:"detail-value",children:[i.dosage_per_intake," ",i.medicine?.dosage_unit==="ml"?"ml":i.dosage_per_intake===1?"unidade":"unidades",i.target_dosage&&u.jsxs("span",{className:"titration-progress",children:[" (Alvo: ",i.target_dosage,i.medicine?.dosage_unit||"mg",")"]})]})]}),i.titration_status&&i.titration_status!=="estvel"&&u.jsxs("div",{className:"detail-item titration",children:[u.jsx("span",{className:`titration-badge ${i.titration_status}`,children:i.titration_status==="titulando"?" Titulando":" Alvo Atingido"}),i.titration_scheduler_data&&u.jsxs("div",{className:"titration-card-progress",children:[u.jsxs("div",{className:"titration-progress-stats",children:[u.jsxs("span",{children:["Etapa ",i.titration_scheduler_data.currentStep,"/",i.titration_scheduler_data.totalSteps]}),u.jsxs("span",{children:["Dia ",i.titration_scheduler_data.day,"/",i.titration_scheduler_data.totalDays]})]}),u.jsx("div",{className:"titration-progress-bar",children:u.jsx("div",{className:"progress-fill",style:{width:`${i.titration_scheduler_data.progressPercent}%`}})}),i.titration_scheduler_data.stageNote&&u.jsxs("p",{className:"stage-objective",children:["Objetivo: ",i.titration_scheduler_data.stageNote]})]}),i.titration_schedule?.length>0&&u.jsxs("div",{className:"titration-schedule-preview",children:[u.jsx("h5",{children:"Cronograma Planejado:"}),u.jsx("div",{className:"stages-timeline",children:i.titration_schedule.map((h,f)=>u.jsxs("div",{className:`timeline-stage ${f===i.current_stage_index?"current":f<(i.current_stage_index||0)?"past":"future"}`,children:[u.jsxs("span",{className:"stage-dose-mini",children:[h.dosage," comp."]}),u.jsxs("span",{className:"stage-days-mini",children:[h.days,"d"]})]},f))})]})]}),i.time_schedule&&i.time_schedule.length>0&&u.jsxs("div",{className:"detail-item schedule",children:[u.jsx("span",{className:"detail-label",children:" Horrios:"}),u.jsx("div",{className:"schedule-times",children:i.time_schedule.map(h=>u.jsx("span",{className:"time-badge",children:d(h)},h))})]}),i.notes&&u.jsxs("div",{className:"detail-item notes",children:[u.jsx("span",{className:"detail-label",children:" Observaes:"}),u.jsx("p",{className:"detail-value",children:i.notes})]})]}),u.jsxs("div",{className:"protocol-actions",children:[u.jsx(ye,{variant:"outline",size:"sm",onClick:()=>n(i),children:" Editar"}),u.jsx(ye,{variant:i.active?"ghost":"secondary",size:"sm",onClick:()=>r(i),children:i.active?" Pausar":" Ativar"}),u.jsx(ye,{variant:"danger",size:"sm",onClick:()=>l(i),children:" Excluir"})]})]})}function R0({plan:i,onSave:n,onCancel:r}){const[l,d]=$.useState({name:i?.name||"",description:i?.description||"",objective:i?.objective||""}),[h,f]=$.useState({}),[v,g]=$.useState(!1),p=x=>{const{name:j,value:N}=x.target;d(U=>({...U,[j]:N})),h[j]&&f(U=>({...U,[j]:""}))},_=()=>{const x={};return l.name.trim()||(x.name="Nome do plano  obrigatrio"),f(x),Object.keys(x).length===0},b=async x=>{if(x.preventDefault(),!!_()){g(!0);try{await n({...l,name:l.name.trim(),description:l.description.trim()||null,objective:l.objective.trim()||null})}catch(j){console.error("Erro ao salvar plano de tratamento:",j);const N=j?.message||"Erro desconhecido ao salvar plano";f({submit:N})}finally{g(!1)}}};return u.jsxs("form",{className:"treatment-plan-form",onSubmit:b,children:[u.jsx("h3",{children:i?"Editar Plano de Tratamento":"Novo Plano de Tratamento"}),u.jsx("p",{className:"form-help",children:"Use planos para agrupar medicamentos de um mesmo tratamento (ex: Insuficincia Cardaca)."}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"name",children:["Nome do Plano ",u.jsx("span",{className:"required",children:"*"})]}),u.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:p,className:h.name?"error":"",placeholder:"Ex: Quarteto Fantstico (IC)",autoFocus:!0}),h.name&&u.jsx("span",{className:"error-message",children:h.name})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"description",children:"Descrio"}),u.jsx("textarea",{id:"description",name:"description",value:l.description,onChange:p,placeholder:"Ex: Protocolo para controle de insuficincia cardaca conforme prescrio do Dr. Silva.",rows:"3"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"objective",children:"Objetivo do Tratamento"}),u.jsx("input",{type:"text",id:"objective",name:"objective",value:l.objective,onChange:p,placeholder:"Ex: Titular Beta-bloqueador at 100mg"})]}),h.submit&&u.jsxs("div",{className:"error-banner",children:[" ",h.submit]}),u.jsxs("div",{className:"form-actions",children:[u.jsx(ye,{type:"button",variant:"ghost",onClick:r,disabled:v,children:"Cancelar"}),u.jsx(ye,{type:"submit",variant:"primary",disabled:v,children:v?"Salvando...":i?"Atualizar Plano":"Criar Plano"})]})]})}function ng(i){if(!i.titration_schedule||i.titration_schedule.length===0||!i.stage_started_at)return null;const n=i.current_stage_index||0,r=i.titration_schedule;if(n>=r.length)return null;const l=r[n],d=new Date(i.stage_started_at),f=Math.abs(new Date-d),v=Math.ceil(f/(1e3*60*60*24)),g=Math.max(1,v),p=l.days,_=Math.min(100,g/p*100),b=g>p;return{currentStep:n+1,totalSteps:r.length,day:Math.min(g,p),realDay:g,totalDays:p,progressPercent:_,isTransitionDue:b,stageNote:l.note,daysRemaining:p-g}}function C0({initialParams:i,onClearParams:n,onNavigateToStock:r}){const[l,d]=$.useState([]),[h,f]=$.useState([]),[v,g]=$.useState([]),[p,_]=$.useState(!0),[b,x]=$.useState(null),[j,N]=$.useState(!1),[U,B]=$.useState(!1),[X,J]=$.useState(null),[M,C]=$.useState(null),[z,K]=$.useState(""),Q=$.useCallback(async()=>{try{_(!0),x(null);const[Z,S,L]=await Promise.all([Tn.getAll(),ja.getAll(),Ti.getAll()]),P=S.map(W=>({...W,titration_scheduler_data:ng(W)}));d(Z),f(P),g(L)}catch(Z){x("Erro ao carregar dados: "+Z.message),console.error(Z)}finally{_(!1)}},[]);$.useEffect(()=>{Q()},[Q]),$.useEffect(()=>{i?.medicineId&&l.length>0&&(N(!0),J(null))},[i,l]);const V=()=>{if(l.length===0){x("Cadastre um medicamento antes de criar protocolos");return}J(null),N(!0)},ae=()=>{C(null),B(!0)},_e=Z=>{J(Z),N(!0)},Xe=Z=>{C(Z),B(!0)},ze=async Z=>{try{X?(await ja.update(X.id,Z),I("Protocolo atualizado com sucesso!")):(await ja.create(Z),I("Protocolo criado com sucesso!"),window.confirm("Protocolo criado! Deseja adicionar o estoque inicial deste medicamento agora?")&&r(Z.medicine_id)),N(!1),J(null),n&&n(),await Q()}catch(S){throw new Error("Erro ao salvar protocolo: "+S.message)}},it=async Z=>{try{M?(await Ti.update(M.id,Z),I("Plano de tratamento atualizado!")):(await Ti.create(Z),I("Plano de tratamento criado!")),B(!1),C(null),await Q()}catch(S){throw new Error("Erro ao salvar plano: "+S.message)}},ie=async Z=>{try{await ja.update(Z.id,{active:!Z.active}),I(`Protocolo ${Z.active?"pausado":"ativado"} com sucesso!`),await Q()}catch(S){x("Erro ao atualizar protocolo: "+S.message),console.error(S)}},F=async Z=>{if(window.confirm(`Tem certeza que deseja excluir o protocolo "${Z.name}"?`))try{await ja.delete(Z.id),I("Protocolo excludo com sucesso!"),await Q()}catch(S){x("Erro ao excluir protocolo: "+S.message),console.error(S)}},k=async Z=>{if(window.confirm(`Tem certeza que deseja excluir o plano "${Z.name}" e desvincular seus remdios?`))try{await Ti.delete(Z.id),I("Plano excludo com sucesso!"),await Q()}catch(S){x("Erro ao excluir plano: "+S.message),console.error(S)}},I=Z=>{K(Z),setTimeout(()=>K(""),3e3)},ne=h.filter(Z=>Z.active),pe=h.filter(Z=>!Z.active);return p?u.jsx("div",{className:"protocols-view",children:u.jsx(Nn,{text:"Carregando protocolos..."})}):u.jsxs("div",{className:"protocols-view",children:[u.jsxs("div",{className:"protocols-header",children:[u.jsxs("div",{children:[u.jsx("h2",{children:" Protocolos"}),u.jsx("p",{className:"protocols-subtitle",children:"Gerencie seus protocolos e planos de tratamento agrupados"})]}),u.jsxs("div",{style:{display:"flex",gap:"var(--space-2)"},children:[u.jsx(ye,{variant:"outline",onClick:ae,children:" Novo Plano (Grupo)"}),u.jsx(ye,{variant:"primary",onClick:V,children:" Criar Protocolo"})]})]}),z&&u.jsxs("div",{className:"success-banner fade-in",children:[" ",z]}),b&&u.jsxs("div",{className:"error-banner fade-in",children:[" ",b]}),l.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h3",{children:"Nenhum medicamento cadastrado"}),u.jsx("p",{children:"Cadastre medicamentos primeiro para criar protocolos"})]}):u.jsxs("div",{className:"protocols-content",children:[v.length>0&&u.jsxs("div",{className:"treatment-plans-section",children:[u.jsx("h3",{className:"section-title plans",children:" Planos de Tratamento"}),u.jsx("div",{className:"plans-grid",children:v.map(Z=>u.jsxs(Mi,{className:"treatment-plan-card",children:[u.jsxs("div",{className:"plan-header",children:[u.jsxs("div",{children:[u.jsx("h4",{children:Z.name}),u.jsx("p",{className:"plan-objective",children:Z.objective})]}),u.jsxs("div",{className:"plan-actions",children:[u.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>Xe(Z),children:""}),u.jsx(ye,{variant:"ghost",size:"sm",onClick:()=>k(Z),children:""})]})]}),Z.description&&u.jsx("p",{className:"plan-desc",children:Z.description}),u.jsx("div",{className:"plan-protocols-list",children:Z.protocols&&Z.protocols.length>0?Z.protocols.map(S=>u.jsxs("div",{className:"plan-protocol-row",children:[u.jsxs("span",{children:[" ",S.name]}),u.jsx("span",{className:`titration-status-mini ${S.titration_status}`,children:S.titration_status==="titulando"?" Titulando":""})]},S.id)):u.jsx("p",{className:"empty-plan",children:"Nenhum remdio vinculado ainda."})})]},Z.id))})]}),ne.length>0&&u.jsxs("div",{className:"protocols-section",children:[u.jsxs("h3",{className:"section-title active",children:[v.length>0?" Todos os Protocolos Ativos":" Protocolos Ativos"," (",ne.length,")"]}),u.jsx("div",{className:"protocols-grid",children:ne.map(Z=>u.jsx(qm,{protocol:Z,onEdit:_e,onToggleActive:ie,onDelete:F},Z.id))})]}),pe.length>0&&u.jsxs("div",{className:"protocols-section",children:[u.jsxs("h3",{className:"section-title inactive",children:[" Protocolos Pausados (",pe.length,")"]}),u.jsx("div",{className:"protocols-grid",children:pe.map(Z=>u.jsx(qm,{protocol:Z,onEdit:_e,onToggleActive:ie,onDelete:F},Z.id))})]})]}),u.jsx(Es,{isOpen:j,onClose:()=>{N(!1),J(null),n&&n()},children:u.jsx(O0,{medicines:l,treatmentPlans:v,protocol:X,initialValues:i?{medicine_id:i.medicineId}:null,onSave:ze,onCancel:()=>{N(!1),J(null),n&&n()}})}),u.jsx(Es,{isOpen:U,onClose:()=>{B(!1),C(null)},children:u.jsx(R0,{plan:M,onSave:it,onCancel:()=>{B(!1),C(null)}})})]})}function sg({protocol:i,isSelected:n,onToggle:r}){const d=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return u.jsxs("div",{className:`protocol-checklist-item ${n?"selected":""}`,onClick:()=>r(i.id),children:[u.jsxs("div",{className:"checklist-left",children:[u.jsx("div",{className:`custom-checkbox ${n?"checked":""}`,children:n&&""}),u.jsxs("div",{className:"checklist-info",children:[u.jsxs("span",{className:"checklist-name",children:[" ",i.name]}),u.jsxs("div",{className:"checklist-meta",children:[i.titration_scheduler_data?u.jsxs("div",{className:"titration-mini-status",children:[u.jsxs("span",{className:"titration-step-badge",children:["Etapa ",i.titration_scheduler_data.currentStep,"/",i.titration_scheduler_data.totalSteps]}),u.jsxs("span",{className:"titration-days-text",children:["Dia ",i.titration_scheduler_data.day,"/",i.titration_scheduler_data.totalDays]})]}):u.jsx("span",{className:`titration-badge ${i.titration_status}`,children:i.titration_status==="titulando"?" Titulando":"Estvel"}),u.jsxs("span",{className:"dosage-badge",children:[i.dosage_per_intake," ",i.dosage_per_intake===1?"comp.":"comps."]})]}),i.titration_scheduler_data&&u.jsx("div",{className:"titration-progress-bar-container",children:u.jsx("div",{className:"titration-progress-bar-fill",style:{width:`${i.titration_scheduler_data.progressPercent}%`}})})]})]}),u.jsx("div",{className:"checklist-right",children:u.jsx("div",{className:"time-pills",children:i.time_schedule?.map(h=>u.jsx("span",{className:`time-pill ${h<=d?"past":""}`,children:h},h))})})]})}function ig({protocols:i,treatmentPlans:n=[],initialValues:r,onSave:l,onCancel:d}){const h=C=>{const z=C?new Date(C):new Date,K=z.getTimezoneOffset()*6e4;return new Date(z.getTime()-K).toISOString().slice(0,16)},[f,v]=$.useState({type:r?.protocol_id?"protocol":r?.treatment_plan_id?"plan":"protocol",id:r?.id||null,protocol_id:r?.protocol_id||"",treatment_plan_id:r?.treatment_plan_id||"",taken_at:h(r?.taken_at),quantity_taken:r?.quantity_taken||"",notes:r?.notes||""}),[g,p]=$.useState([]),[_,b]=$.useState({}),[x,j]=$.useState(!1),N=i.find(C=>C.id===f.protocol_id),U=n.find(C=>C.id===f.treatment_plan_id);$.useEffect(()=>{if(f.type==="plan"&&f.treatment_plan_id){const C=n.find(z=>z.id===f.treatment_plan_id);if(C){const z=C.protocols?.filter(K=>K.active).map(K=>K.id)||[];p(z)}}else p([])},[f.treatment_plan_id,f.type,n]);const B=C=>{const{name:z,value:K}=C.target;v(Q=>({...Q,[z]:K})),_[z]&&b(Q=>({...Q,[z]:""}))},X=C=>{p(z=>z.includes(C)?z.filter(K=>K!==C):[...z,C]),_.submit&&g.length===0&&b(z=>({...z,submit:""}))},J=()=>{const C={};return f.type==="protocol"&&!f.protocol_id&&(C.protocol_id="Selecione um protocolo"),f.type==="plan"&&(f.treatment_plan_id?g.length===0&&(C.submit="Selecione pelo menos um medicamento para registrar"):C.treatment_plan_id="Selecione um plano"),b(C),Object.keys(C).length===0},M=async C=>{if(C.preventDefault(),!!J()){j(!0);try{if(f.type==="protocol"){const z=i.find(Q=>Q.id===f.protocol_id);if(!z)throw new Error("Protocolo no encontrado");const K={protocol_id:f.protocol_id,medicine_id:z.medicine_id,quantity_taken:f.quantity_taken?parseFloat(f.quantity_taken):z.dosage_per_intake,taken_at:new Date(f.taken_at).toISOString(),notes:f.notes.trim()||null};f.id?await l({...K,id:f.id}):await l(K)}else{const z=n.find(V=>V.id===f.treatment_plan_id);if(!z)throw new Error("Plano no encontrado");const K=z.protocols?.filter(V=>V.active&&g.includes(V.id))||[];if(K.length===0)throw new Error("Nenhum protocolo selecionado");const Q=K.map(V=>({protocol_id:V.id,medicine_id:V.medicine_id,quantity_taken:V.dosage_per_intake,taken_at:new Date(f.taken_at).toISOString(),notes:`[Plan: ${z.name}] ${f.notes.trim()}`.trim()}));await l(Q)}}catch(z){console.error("Erro ao registrar medicamento:",z);const K=z?.message||"Erro desconhecido ao registrar medicamento";b({submit:K})}finally{j(!1)}}};return u.jsxs("form",{className:"log-form",onSubmit:M,children:[u.jsx("h3",{children:"Registrar Medicamento Tomado"}),u.jsxs("div",{className:"log-type-toggle",children:[u.jsx("button",{type:"button",className:f.type==="protocol"?"active":"",onClick:()=>v(C=>({...C,type:"protocol"})),children:" nico Remdio"}),u.jsx("button",{type:"button",className:f.type==="plan"?"active":"",onClick:()=>v(C=>({...C,type:"plan"})),disabled:n.length===0||f.id,children:" Plano Completo"})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"taken_at",children:["Data e Hora do Registro ",u.jsx("span",{className:"required",children:"*"})]}),u.jsx("input",{type:"datetime-local",id:"taken_at",name:"taken_at",value:f.taken_at,onChange:B,required:!0})]}),f.type==="protocol"?u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"protocol_id",children:["Protocolo ",u.jsx("span",{className:"required",children:"*"})]}),u.jsxs("select",{id:"protocol_id",name:"protocol_id",value:f.protocol_id,onChange:B,className:_.protocol_id?"error":"",children:[u.jsx("option",{value:"",children:"Selecione um protocolo"}),i.map(C=>u.jsxs("option",{value:C.id,children:[C.name," - ",C.medicine?.name]},C.id))]}),_.protocol_id&&u.jsx("span",{className:"error-message",children:_.protocol_id})]}):u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{htmlFor:"treatment_plan_id",children:["Plano de Tratamento ",u.jsx("span",{className:"required",children:"*"})]}),u.jsxs("select",{id:"treatment_plan_id",name:"treatment_plan_id",value:f.treatment_plan_id,onChange:B,className:_.treatment_plan_id?"error":"",children:[u.jsx("option",{value:"",children:"Selecione um plano"}),n.map(C=>u.jsxs("option",{value:C.id,children:[C.name," (",C.protocols?.filter(z=>z.active).length||0," remdios)"]},C.id))]}),_.treatment_plan_id&&u.jsx("span",{className:"error-message",children:_.treatment_plan_id})]}),N&&f.type==="protocol"&&u.jsxs("div",{className:"protocol-info",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"quantity_taken",children:"Quantidade Tomada"}),u.jsx("input",{type:"number",id:"quantity_taken",name:"quantity_taken",value:f.quantity_taken||(N?N.dosage_per_intake:""),onChange:B,step:"0.1",min:"0.1",required:!0})]}),u.jsxs("div",{className:"info-item",style:{marginTop:"var(--space-2)"},children:[u.jsx("span",{className:"info-label",children:" Medicamento:"}),u.jsx("span",{className:"info-value",children:N.medicine?.name})]})]}),U&&f.type==="plan"&&u.jsxs("div",{className:"protocol-info",children:[u.jsx("p",{className:"plan-summary-title",children:"Selecione os medicamentos tomados:"}),u.jsx("div",{className:"plan-medicines-list",children:U.protocols?.filter(C=>C.active).map(C=>u.jsx(sg,{protocol:C,isSelected:g.includes(C.id),onToggle:X},C.id))}),u.jsxs("div",{style:{marginTop:"8px",fontSize:"11px",color:"var(--text-tertiary)",textAlign:"right"},children:[g.length," selecionados"]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"notes",children:"Observaes (opcional)"}),u.jsx("textarea",{id:"notes",name:"notes",value:f.notes,onChange:B,placeholder:"Ex: Tomei com gua, aps caf da manh...",rows:"3"})]}),_.submit&&u.jsxs("div",{className:"error-banner",children:[" ",_.submit]}),u.jsxs("div",{className:"form-actions",children:[u.jsx(ye,{type:"button",variant:"ghost",onClick:d,disabled:x,children:"Cancelar"}),u.jsx(ye,{type:"submit",variant:"primary",disabled:x||(f.type==="protocol"?!f.protocol_id:!f.treatment_plan_id||g.length===0),children:x?"Salvando...":f.id?" Atualizar Registro":f.type==="plan"&&g.length>0?` Registrar (${g.length})`:" Registrar Dose"})]})]})}function rg({onLoadMonth:i,markedDates:n=[],selectedDate:r,onDayClick:l}){const[d,h]=$.useState(new Date),[f,v]=$.useState(!1),g=$.useCallback(async(C,z)=>{try{return v(!0),await i(C,z)}catch(K){return console.error("Error in onLoadMonth:",K),null}finally{v(!1)}},[i]);$.useEffect(()=>{const C=d.getFullYear(),z=d.getMonth();g(C,z)},[d,g]);const p=$.useCallback(()=>{const C=new Date(d);C.setMonth(C.getMonth()-1),h(C)},[d]),_=$.useCallback(()=>{const C=new Date(d);C.setMonth(C.getMonth()+1),h(C)},[d]),b=(C,z)=>new Date(C,z+1,0).getDate(),x=(C,z)=>new Date(C,z,1).getDay(),j=d.getFullYear(),N=d.getMonth(),U=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],B=[],X=b(j,N),J=x(j,N);for(let C=0;C<J;C++)B.push(u.jsx("div",{className:"calendar-day empty"},`empty-${C}`));const M=new Date;M.setHours(0,0,0,0);for(let C=1;C<=X;C++){const z=new Date(j,N,C);z.setHours(0,0,0,0);const K=z.getTime()===M.getTime(),Q=r&&z.getFullYear()===r.getFullYear()&&z.getMonth()===r.getMonth()&&z.getDate()===r.getDate(),V=n.some(ae=>{const _e=new Date(ae);return _e.setHours(0,0,0,0),_e.getTime()===z.getTime()});B.push(u.jsxs("div",{className:`calendar-day ${K?"today":""} ${Q?"selected":""} ${V?"has-log":""}`,onClick:()=>l&&l(z),children:[u.jsx("span",{className:"day-number",children:C}),V&&u.jsx("div",{className:"log-dot"})]},C))}return u.jsxs("div",{className:"calendar-widget",children:[u.jsxs("div",{className:"calendar-controls",children:[u.jsx("button",{onClick:p,disabled:f,children:"<"}),u.jsxs("div",{className:"current-month",children:[U[N]," ",j]}),u.jsx("button",{onClick:_,disabled:f,children:">"})]}),u.jsxs("div",{className:"calendar-weekdays",children:[u.jsx("div",{children:"Dom"}),u.jsx("div",{children:"Seg"}),u.jsx("div",{children:"Ter"}),u.jsx("div",{children:"Qua"}),u.jsx("div",{children:"Qui"}),u.jsx("div",{children:"Sex"}),u.jsx("div",{children:"Sb"})]}),u.jsx("div",{className:"calendar-grid",children:B})]})}function k0({onNavigate:i}){const[n,r]=$.useState(""),[l,d]=$.useState([]),[h,f]=$.useState([]),[v,g]=$.useState([]),[p,_]=$.useState(null),[b,x]=$.useState(null),[j,N]=$.useState(null),[U,B]=$.useState([]),[X,J]=$.useState(!0),[M,C]=$.useState(null),[z,K]=$.useState(!1),Q=$.useCallback(async()=>{try{J(!0);const[Y,ee,he,Oe,ge]=await Promise.all([ag(),ja.getActive(),Ti.getAll(),Tn.getAll(),Ta.getAllPaginated(100,0)]);if(Y){const $e=Y.user_metadata?.full_name||Y.email.split("@")[0];r($e.charAt(0).toUpperCase()+$e.slice(1))}const Be=ge.data||[],vt=ee.map($e=>({...$e,titration_scheduler_data:ng($e)}));d(vt),f(he),Be.length>0&&N($e=>$e||new Date(Be[0].taken_at));const sa={};vt.forEach($e=>{if($e.active){const Wt=($e.dosage_per_intake||0)*($e.time_schedule?.length||0);sa[$e.medicine_id]=(sa[$e.medicine_id]||0)+Wt}});const An=Oe.map(async $e=>{const Wt=await Ea.getByMedicine($e.id),On=Wt.reduce((hl,Bi)=>hl+Bi.quantity,0),As=Wt.length>0?Wt[0].price:0,Os=Wt.length>0?Wt[0].batch_number:"",Rs=sa[$e.id]||0,qi=Rs>0?On/Rs:1/0,mt=Rs>0&&qi<7;return{medicine:$e,total:On,price:As,lot:Os,isLow:mt,daysRemaining:qi}}),Ts=(await Promise.all(An)).filter($e=>$e.isLow||$e.total>0);g(Ts),V(vt);const Ns=vt.find($e=>$e.titration_scheduler_data?.hasTitration);x(Ns)}catch(Y){console.error(Y),C("Erro ao carregar dados.")}finally{J(!1)}},[]);$.useEffect(()=>{Q()},[Q]);const V=Y=>{const ee=new Date,he=ee.getHours()*60+ee.getMinutes();let Oe=null,ge=1/0;Y.forEach(Be=>{Be.time_schedule&&Be.time_schedule.forEach(vt=>{const[sa,An]=vt.split(":").map(Number);let jt=sa*60+An-he;jt<=0&&(jt+=1440),jt<ge&&(ge=jt,Oe={time:vt,medicine:Be.medicine?.name,dosage:`${Be.dosage_per_intake} ${Be.dosage_unit||"cp"}`})})}),_(Oe)},ae=async()=>{K(!0)},_e=async Y=>{try{Array.isArray(Y)?(await Ta.createBulk(Y),I("Lote registrado com sucesso!")):(await Ta.create(Y),I("Dose registrada com sucesso!")),K(!1),Q()}catch(ee){console.error(ee),alert("Erro ao registrar dose")}},[Xe,ze]=$.useState({}),[it,ie]=$.useState({}),[F,k]=$.useState(""),I=Y=>{k(Y),setTimeout(()=>k(""),3e3)},ne=Y=>{ze(ee=>({...ee,[Y]:!ee[Y]}))},pe=(Y,ee)=>{ie(he=>{const Oe=he[Y]||[],Be=Oe.includes(ee)?Oe.filter(vt=>vt!==ee):[...Oe,ee];return{...he,[Y]:Be}})},Z=async(Y,ee)=>{Y.stopPropagation();const he=it[ee.id]||[],Oe=ee.protocols?.filter(Be=>Be.active&&he.includes(Be.id))||[];if(Oe.length===0)return;const ge=Oe.map(Be=>({protocol_id:Be.id,medicine_id:Be.medicine_id,quantity_taken:Be.dosage_per_intake,notes:`[Ao Rpida: ${ee.name}]`}));await _e(ge)},S=()=>{const Y=new Date().getHours();return Y>=0&&Y<6?"BOA MADRUGADA,":Y>=6&&Y<12?"BOM DIA,":Y>=12&&Y<18?"BOA TARDE,":"BOA NOITE,"},L=$.useCallback(async(Y,ee)=>{const he=await Ta.getByMonth(Y,ee);return Y===new Date().getFullYear()&&ee===new Date().getMonth()&&B(he.data||[]),he},[]),P=j||new Date,W=U.filter(Y=>{const ee=new Date(Y.taken_at);return ee.getFullYear()===P.getFullYear()&&ee.getMonth()===P.getMonth()&&ee.getDate()===P.getDate()});return X?u.jsx(Nn,{text:"Carregando..."}):u.jsxs("div",{className:"dashboard-container-v2",children:[u.jsxs("header",{className:"dash-header",children:[u.jsxs("div",{children:[u.jsx("span",{className:"greeting-label",children:S()}),u.jsxs("h1",{className:"user-name",children:[n," ",u.jsx("span",{className:"dot",children:"."})]})]}),u.jsx("div",{className:"profile-indicator",onClick:()=>i("settings"),style:{cursor:"pointer"},children:u.jsx("img",{src:"/logo-new.svg",className:"avatar-logo",alt:"Logo"})})]}),M&&u.jsx("div",{style:{color:"var(--accent-error)",marginBottom:"16px",padding:"12px",background:"rgba(255,0,0,0.1)",borderRadius:"8px"},children:M}),u.jsxs("div",{className:"top-cards-grid",children:[u.jsxs("div",{className:"info-card next-dose-card",children:[u.jsx("span",{className:"card-label",children:"PRXIMA DOSE"}),u.jsxs("div",{className:"card-value-group",children:[u.jsx("span",{className:"highlight-value white",children:p?p.time:"--:--"}),u.jsx("span",{className:"sub-value",children:p?p.medicine:"Nenhuma dose prevista"})]})]}),u.jsxs("div",{className:"info-card critical-stock-card",children:[u.jsx("span",{className:"card-label",children:"ESTOQUE CRTICO"}),u.jsxs("div",{className:"card-value-group",children:[u.jsx("span",{className:"highlight-value magenta",children:v.filter(Y=>Y.isLow).length.toString().padStart(2,"0")}),u.jsx("span",{className:"sub-value",children:"Medicamentos baixo"})]})]})]}),b&&u.jsxs("div",{className:"titration-card",children:[u.jsxs("div",{className:"titration-header",children:[u.jsxs("div",{children:[u.jsxs("h3",{children:["Protocolo: ",b.name||"Titulao"]}),u.jsxs("span",{className:"titration-phase",children:["Fase ",b.current_stage_index+1," de ",b.titration_scheduler_data?.totalSteps,"  Estabilizao"]})]}),u.jsx("div",{className:"progress-container",children:u.jsx("div",{className:"progress-bar",style:{width:`${(b.current_stage_index+1)/b.titration_scheduler_data?.totalSteps*100}%`}})})]}),u.jsx("div",{className:"titration-details",children:u.jsxs("div",{className:"current-dose-info",children:[u.jsx("div",{className:"icon-circle",children:""}),u.jsxs("div",{children:[u.jsxs("strong",{children:["Dose Atual: ",b.dosage_per_intake," ",b.dosage_unit||"cp"]}),u.jsxs("p",{children:["Prximo ajuste em ",b.titration_scheduler_data?.daysRemaining," dias"]})]})]})}),u.jsx(ye,{className:"action-button-full",onClick:ae,children:"REGISTRAR DOSE AGORA"})]}),!b&&u.jsx("div",{className:"cta-container",children:u.jsx(ye,{className:"action-button-full",onClick:ae,children:"REGISTRAR DOSE AGORA"})}),F&&u.jsxs("div",{className:"success-banner fade-in",style:{background:"rgba(0, 255, 136, 0.15)",border:"1px solid var(--neon-green)",color:"#fff",padding:"12px",borderRadius:"12px",marginBottom:"24px",textAlign:"center",fontWeight:600},children:[" ",F]}),h.length>0&&u.jsxs("div",{className:"treatment-plans-section",children:[u.jsx("h3",{className:"section-title",children:"SEUS TRATAMENTOS"}),u.jsx("div",{className:"treatment-plans-list-interactive",children:h.map(Y=>{const ee=Xe[Y.id],he=it[Y.id]??Y.protocols?.filter(ge=>ge.active).map(ge=>ge.id)??[],Oe=he.length>0;return u.jsxs("div",{className:`treatment-plan-card ${ee?"expanded":""}`,children:[u.jsxs("div",{className:"plan-card-header",onClick:()=>ne(Y.id),children:[u.jsxs("div",{className:"plan-info-group",children:[u.jsx("span",{className:"plan-icon-large",children:""}),u.jsxs("div",{children:[u.jsx("h4",{className:"plan-title",children:Y.name}),u.jsx("span",{className:"plan-subtitle",children:Y.objective||"Em tratamento"})]})]}),u.jsxs("div",{className:"plan-actions-group",children:[u.jsx(ye,{variant:"primary",className:"btn-take-bundle",disabled:!Oe,onClick:ge=>Z(ge,Y),children:Oe?`TOMAR (${he.length})`:"TOMAR"}),u.jsx("button",{className:`expand-btn ${ee?"rotated":""}`,children:""})]})]}),ee&&u.jsx("div",{className:"plan-checklist-container fade-in",children:Y.protocols?.filter(ge=>ge.active).map(ge=>u.jsx(sg,{protocol:ge,isSelected:he.includes(ge.id),onToggle:Be=>pe(Y.id,Be)},ge.id))})]},Y.id)})})]}),u.jsxs("div",{className:"inventory-section",children:[u.jsx("h3",{className:"section-title",children:"ALERTAS DE INVENTRIO"}),u.jsx("div",{className:"inventory-list",children:v.filter(Y=>Y.isLow).length===0?u.jsx("div",{className:"empty-inventory",children:"Tudo certo com seu estoque!"}):v.filter(Y=>Y.isLow).map((Y,ee)=>u.jsxs("div",{className:"inventory-item",children:[u.jsx("div",{className:"item-status-indicator"}),u.jsxs("div",{className:"item-details",children:[u.jsxs("span",{className:"item-name",children:[Y.medicine.name," ",Y.medicine.dosage_per_pill]}),u.jsxs("span",{className:"item-meta",children:[Y.lot&&`Lote #${Y.lot}  `,Y.price>0&&`R$ ${Y.price}/un`]})]}),u.jsxs("div",{className:"item-qty",children:[Y.total," uni."]})]},ee))})]}),u.jsxs("div",{className:"history-section",children:[u.jsx("h3",{className:"section-title",children:"HISTRICO DE DOSES"}),u.jsxs("div",{className:"calendar-card",children:[u.jsx(rg,{onLoadMonth:L,markedDates:U.map(Y=>Y.taken_at),selectedDate:j,onDayClick:Y=>N(Y)}),u.jsxs("div",{className:"calendar-logs-list",children:[u.jsx("h4",{className:"date-header",children:P.toLocaleDateString("pt-BR")}),W.length===0?u.jsx("p",{className:"no-logs",children:"Nenhum registro"}):W.map(Y=>u.jsxs("div",{className:"log-mini-item",children:[u.jsx("span",{children:Y.medicine?.name}),u.jsx("span",{className:"log-time",children:new Date(Y.taken_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]},Y.id))]})]})]}),u.jsx(Es,{isOpen:z,onClose:()=>K(!1),children:u.jsx(ig,{protocols:l,treatmentPlans:h,onSave:_e,onCancel:()=>K(!1)})})]})}function D0({log:i,onEdit:n,onDelete:r}){const l=f=>{const v=new Date(f);return{date:v.toLocaleDateString("pt-BR"),time:v.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}},{date:d,time:h}=l(i.taken_at);return u.jsxs("div",{className:"log-entry",children:[u.jsxs("div",{className:"log-header",children:[u.jsxs("div",{className:"log-time",children:[u.jsx("span",{className:"log-date",children:d}),u.jsx("span",{className:"log-hour",children:h})]}),u.jsxs("div",{className:"actions-header",children:[n&&u.jsx("button",{className:"btn-edit-log",onClick:()=>n(i),children:" Editar"}),r&&i.id&&u.jsx("button",{className:"btn-delete-log",onClick:()=>{window.confirm("Excluir este registro de dose? O estoque ser devolvido.")&&r(i.id)},children:""}),u.jsx("div",{className:"log-badge",children:" Tomado"})]})]}),u.jsxs("div",{className:"log-content",children:[u.jsxs("div",{className:"log-medicine",children:[u.jsx("h4",{children:i.medicine?.name}),i.protocol&&u.jsx("span",{className:"log-protocol",children:i.protocol.name})]}),u.jsx("div",{className:"log-details",children:u.jsxs("span",{className:"log-quantity",children:[i.quantity_taken," ",i.quantity_taken===1?"comprimido":"comprimidos"]})}),i.notes&&u.jsxs("div",{className:"log-notes",children:[u.jsx("span",{className:"notes-label",children:""}),u.jsx("p",{children:i.notes})]})]})]})}function U0(){const[i,n]=$.useState([]),[r,l]=$.useState(!0),[d,h]=$.useState(null),[f,v]=$.useState(!1),[g,p]=$.useState(null),[_,b]=$.useState(new Date),[x,j]=$.useState(""),[N,U]=$.useState([]),[B,X]=$.useState(0),J=$.useCallback(async()=>{try{l(!0),h(null);const[ie,F]=await Promise.all([ja.getActive(),Ta.getByMonth(new Date().getFullYear(),new Date().getMonth())]);n(ie),U(F.data||[]),X(F.total||0),F.data?.length>0&&b(new Date(F.data[0].taken_at))}catch(ie){h("Erro ao carregar histrico: "+ie.message),console.error(ie)}finally{l(!1)}},[]);$.useEffect(()=>{J()},[J]);const M=$.useCallback(async(ie,F)=>{try{const k=await Ta.getByMonth(ie,F);return U(k.data||[]),X(k.total||0),k.data?.length>0?b(new Date(k.data[0].taken_at)):b(new Date(ie,F,1)),k}catch(k){return console.error("Erro ao carregar ms:",k),{data:[],total:0}}},[]),C=async ie=>{try{ie.id?(await Ta.update(ie.id,ie),V("Registro atualizado com sucesso!")):(await Ta.create(ie),V("Medicamento registrado com sucesso! Estoque atualizado.")),v(!1),p(null),await J()}catch(F){throw new Error(F.message)}},z=async ie=>{try{await Ta.delete(ie),V("Registro removido e estoque restabelecido!"),U(F=>F.filter(k=>k.id!==ie)),X(F=>Math.max(0,F-1))}catch(F){h("Erro ao remover registro: "+F.message)}},K=ie=>{p(ie),v(!0)},Q=()=>{p(null),v(!0)},V=ie=>{j(ie),setTimeout(()=>j(""),3e3)},_e=(ie=>{const F={};return ie.forEach(k=>{const I=new Date(k.taken_at).toLocaleDateString("pt-BR");F[I]||(F[I]=[]),F[I].push(k)}),F})(N),Xe=Object.keys(_e).sort((ie,F)=>{const[k,I,ne]=ie.split("/"),[pe,Z,S]=F.split("/"),L=new Date(ne,I-1,k);return new Date(S,Z-1,pe)-L});if(r)return u.jsx("div",{className:"history-view",children:u.jsx(Nn,{text:"Carregando histrico..."})});const ze=_||new Date,it=N.filter(ie=>{const F=new Date(ie.taken_at);return F.getFullYear()===ze.getFullYear()&&F.getMonth()===ze.getMonth()&&F.getDate()===ze.getDate()});return u.jsxs("div",{className:"history-view",children:[u.jsxs("div",{className:"history-header",children:[u.jsxs("div",{children:[u.jsx("h2",{children:" Histrico"}),u.jsxs("p",{className:"history-subtitle",children:["Registro completo de medicamentos tomados (",B," total)"]})]}),u.jsx(ye,{variant:"primary",onClick:Q,children:" Registrar Dose"})]}),x&&u.jsxs("div",{className:"success-banner fade-in",children:[" ",x]}),d&&u.jsxs("div",{className:"error-banner fade-in",children:[" ",d]}),N.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h3",{children:"Nenhum registro ainda"}),u.jsx("p",{children:"Comece registrando sua primeira dose"}),u.jsx(ye,{variant:"primary",onClick:Q,children:" Registrar Primeira Dose"})]}):u.jsxs("div",{className:"history-content",children:[u.jsxs("div",{className:"history-stats",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-value",children:B}),u.jsx("span",{className:"stat-label",children:"Doses Registradas"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-value",children:Xe.length}),u.jsx("span",{className:"stat-label",children:"Dias com Registro (ms)"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("span",{className:"stat-value",children:N.reduce((ie,F)=>ie+F.quantity_taken,0)}),u.jsx("span",{className:"stat-label",children:"Comprimidos (ms)"})]})]}),u.jsx("div",{className:"history-calendar-section",style:{background:"var(--bg-glass)",borderRadius:"var(--radius-lg)",padding:"var(--space-6)",marginBottom:"var(--space-8)",border:"1px solid var(--border-color)"},children:u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"var(--space-8)",alignItems:"start"},children:[u.jsx(rg,{onLoadMonth:M,markedDates:N.map(ie=>ie.taken_at),selectedDate:_,onDayClick:ie=>b(ie)}),u.jsxs("div",{className:"day-details",children:[u.jsxs("h4",{style:{marginBottom:"var(--space-4)",fontSize:"13px",color:"var(--text-tertiary)",textTransform:"uppercase"},children:["Doses de ",ze.toLocaleDateString("pt-BR")]}),it.length===0?u.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-tertiary)",fontStyle:"italic"},children:"Nenhum registro selecionado"}):u.jsx("div",{className:"day-logs-mini",children:it.map(ie=>u.jsxs("div",{onClick:()=>K(ie),style:{padding:"var(--space-3)",background:"rgba(255,255,255,0.03)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-2)",borderLeft:"3px solid var(--accent-success)",cursor:"pointer"},children:[u.jsxs("div",{style:{fontWeight:600,fontSize:"13px",display:"flex",justifyContent:"space-between"},children:[u.jsx("span",{children:ie.medicine?.name}),u.jsx("span",{children:""})]}),u.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)"},children:new Date(ie.taken_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]},ie.id))})]})]})}),u.jsx("div",{className:"history-timeline",children:Xe.map(ie=>u.jsxs("div",{className:"timeline-day",children:[u.jsxs("div",{className:"day-header",children:[u.jsx("h3",{children:ie}),u.jsxs("span",{className:"day-count",children:[_e[ie].length," ",_e[ie].length===1?"dose":"doses"]})]}),u.jsx("div",{className:"day-logs",children:_e[ie].map(F=>u.jsx(D0,{log:F,onEdit:K,onDelete:z},F.id))})]},ie))})]}),u.jsx(Es,{isOpen:f,onClose:()=>{v(!1),p(null)},children:u.jsx(ig,{protocols:i,initialValues:g,onSave:C,onCancel:()=>{v(!1),p(null)}})})]})}function z0(){const[i,n]=$.useState(null),[r,l]=$.useState(null),[d,h]=$.useState(!0),[f,v]=$.useState(null),[g,p]=$.useState(""),[_,b]=$.useState(null),[x,j]=$.useState(null);$.useEffect(()=>{N()},[]);const N=async()=>{try{const{data:{user:M}}=await de.auth.getUser();n(M);const{data:C,error:z}=await de.from("user_settings").select("*").eq("user_id",M.id).single();!z&&C?l(C):z&&z.code!=="PGRST116"&&console.error(z)}catch(M){console.error(M)}finally{h(!1)}},U=async()=>{try{await y0()}catch(M){console.error(M)}},B=async M=>{if(M.preventDefault(),g.length<6){j("Senha deve ter no mnimo 6 caracteres");return}try{await b0(g),b("Senha atualizada com sucesso!"),p(""),setTimeout(()=>b(null),3e3)}catch(C){j("Erro ao atualizar senha: "+C.message)}},X=async()=>{const M=Math.random().toString(36).substring(2,8).toUpperCase();try{const{error:C}=await de.from("user_settings").upsert({user_id:i.id,verification_token:M,updated_at:new Date},{onConflict:"user_id"});if(C)throw C;v(M)}catch(C){console.error(C),j("Erro ao gerar token. Tente novamente.")}},J=async()=>{if(window.confirm("Deseja realmente desconectar o Telegram? Voc parar de receber notificaes."))try{const{error:M}=await de.from("user_settings").update({telegram_chat_id:null,verification_token:null,updated_at:new Date}).eq("user_id",i.id);if(M)throw M;l(C=>({...C,telegram_chat_id:null})),v(null),b("Telegram desconectado com sucesso!"),setTimeout(()=>b(null),3e3)}catch(M){console.error(M),j("Erro ao desconectar Telegram.")}};return d?u.jsx(Nn,{}):u.jsxs("div",{className:"settings-container",children:[u.jsx("h2",{className:"page-title",children:"Configuraes"}),u.jsxs("div",{className:"settings-section glass-card",children:[u.jsx("h3",{children:"Minha Conta"}),u.jsxs("div",{className:"profile-info",children:[u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"Email"}),u.jsx("span",{className:"value",children:i?.email})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"ID"}),u.jsxs("span",{className:"value mono",children:[i?.id?.slice(0,8),"..."]})]})]}),u.jsxs("form",{onSubmit:B,className:"password-form",children:[u.jsx("h4",{children:"Alterar Senha"}),u.jsxs("div",{className:"input-group",children:[u.jsx("input",{type:"password",placeholder:"Nova senha",value:g,onChange:M=>p(M.target.value),className:"settings-input"}),u.jsx(ye,{type:"submit",disabled:!g,children:"Atualizar"})]})]})]}),u.jsxs("div",{className:"settings-section glass-card",children:[u.jsx("h3",{children:"Integrao Telegram"}),u.jsx("p",{className:"section-desc",children:"Receba notificaes e gerencie seus remdios pelo Telegram."}),u.jsxs("div",{className:"telegram-status",children:["Status:",u.jsx("span",{className:`status-badge ${r?.telegram_chat_id?"connected":"disconnected"}`,children:r?.telegram_chat_id?"Conectado":"No Conectado"})]}),r?.telegram_chat_id?u.jsxs("div",{className:"connected-actions",children:[u.jsx("p",{className:"section-desc success-text",children:" Bot vinculado com sucesso!"}),u.jsx(ye,{variant:"outline",className:"btn-disconnect",onClick:J,children:"Desconectar Telegram"})]}):u.jsx("div",{className:"connect-telegram",children:f?u.jsxs("div",{className:"token-display",children:[u.jsx("p",{children:"Envie este comando para o bot:"}),u.jsxs("div",{className:"code-box",children:["/start ",f]}),u.jsx("a",{href:`https://t.me/meus_remedios_bot?start=${f}`,target:"_blank",rel:"noreferrer",className:"telegram-link",children:"Abrir Bot no Telegram "}),u.jsx(ye,{variant:"ghost",className:"btn-cancel-token",onClick:()=>v(null),children:"Cancelar"})]}):u.jsx(ye,{onClick:X,children:"Gerar Cdigo de Vnculo"})})]}),_&&u.jsx("div",{className:"settings-message success",children:_}),x&&u.jsx("div",{className:"settings-message error",children:x}),u.jsx("div",{className:"logout-section",children:u.jsx(ye,{variant:"outline",className:"logout-btn",onClick:U,children:"Sair da Conta"})})]})}function M0(){const[i,n]=$.useState("idle"),[r,l]=$.useState(""),d=async()=>{n("loading"),l("Testando conexo...");try{const{data:h,error:f}=await de.from("medicines").select("*").limit(1);if(f)throw f;n("success"),l(` Conexo OK! ${h.length===0?"Banco vazio (normal)":`${h.length} medicamento(s) encontrado(s)`}`)}catch(h){n("error"),l(` Erro: ${h.message}`),console.error("Erro de conexo:",h)}};return u.jsxs(Mi,{children:[u.jsx("h3",{children:" Teste de Conexo Supabase"}),u.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"var(--font-size-sm)",marginBottom:"var(--space-4)"},children:"Clique para verificar se o banco de dados est conectado"}),u.jsx(ye,{variant:"primary",onClick:d,disabled:i==="loading",children:i==="loading"?"Testando...":"Testar Conexo"}),r&&u.jsx("div",{style:{marginTop:"var(--space-4)",padding:"var(--space-4)",borderRadius:"var(--radius-md)",backgroundColor:i==="error"?"rgba(255, 0, 110, 0.1)":"rgba(0, 255, 136, 0.1)",border:`1px solid ${i==="error"?"var(--accent-error)":"var(--accent-success)"}`,color:i==="error"?"var(--accent-error)":"var(--accent-success)"},children:r})]})}function q0({currentView:i,setCurrentView:n}){const r=[{id:"dashboard",label:"Incio",icon:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"},{id:"medicines",label:"Remdios",icon:"M19.428 15.428a2 2 0 00-1.022-.547l-2.384-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"},{id:"protocols",label:"Protocolos",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"},{id:"stock",label:"Estoque",icon:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},{id:"history",label:"Histrico",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}];return u.jsx("div",{className:"bottom-nav-container",children:u.jsx("nav",{className:"bottom-nav",children:r.map(l=>u.jsxs("button",{className:`nav-item ${i===l.id?"active":""}`,onClick:()=>n(l.id),children:[u.jsxs("div",{className:"icon-container",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"nav-icon",children:u.jsx("path",{d:l.icon})}),i===l.id&&u.jsx("div",{className:"active-dot"})]}),u.jsx("span",{className:"nav-label",children:l.label})]},l.id))})})}function Bm({isAuthenticated:i=!1,onOpenAuth:n=()=>{},onContinue:r=()=>{}}){const[l,d]=$.useState(0);$.useEffect(()=>{const f=()=>d(window.scrollY);return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]);const h=({icon:f,text:v,animationDelay:g})=>u.jsxs("div",{className:"floating-card card-1",style:{animationDelay:`${g}s`},children:[u.jsx("div",{className:"card-icon",children:f}),u.jsx("div",{className:"card-text",children:v})]});return u.jsxs("div",{className:"landing-container",children:[u.jsxs("section",{className:"hero-section",style:{transform:`translateY(${l*.5}px)`},children:[u.jsxs("div",{className:"hero-content",children:[u.jsx("div",{className:"hero-badge",children:u.jsx("span",{children:" Gerenciamento de Medicamentos Inteligente"})}),u.jsxs("h1",{className:"hero-title",children:["Nunca Esquea",u.jsx("br",{}),u.jsx("span",{className:"gradient-text",children:"Seus Remdios Novamente"})]}),u.jsx("p",{className:"hero-subtitle",children:"Organize medicamentos, controle estoque e automatize lembretes  tudo em sincronizao perfeita entre seus dispositivos."}),u.jsx("div",{className:"hero-cta",children:i?u.jsxs("button",{className:"btn-primary",onClick:r,children:["Ir para Dashboard",u.jsx("span",{className:"btn-arrow",children:""})]}):u.jsxs(u.Fragment,{children:[u.jsxs("button",{className:"btn-primary",onClick:n,children:["Comear Agora",u.jsx("span",{className:"btn-arrow",children:""})]}),u.jsx("button",{className:"btn-secondary",onClick:n,children:"Fazer Login"})]})}),u.jsxs("div",{className:"hero-stats",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-number",children:"100%"}),u.jsx("span",{className:"stat-label",children:"Sincronizado"})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-number",children:""}),u.jsx("span",{className:"stat-label",children:"Dispositivos"})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-number",children:"24/7"}),u.jsx("span",{className:"stat-label",children:"Disponvel"})]})]})]}),u.jsxs("div",{className:"hero-visual",children:[u.jsx(h,{icon:"",text:"Medicamento",animationDelay:0}),u.jsx(h,{icon:"",text:"Agenda",animationDelay:.5}),u.jsx(h,{icon:"",text:"Histrico",animationDelay:1})]})]}),u.jsxs("section",{className:"features-section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:"Recursos Principais"}),u.jsx("p",{children:"Tudo que voc precisa em um nico lugar"})]}),u.jsxs("div",{className:"features-grid",children:[u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-icon glow-cyan",children:""}),u.jsx("h3",{children:"Doses Precisas"}),u.jsx("p",{children:"Agende medicamentos com horrios especficos e receba lembretes automticos para no esquecer nenhuma dose."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-icon glow-magenta",children:""}),u.jsx("h3",{children:"Controle de Estoque"}),u.jsx("p",{children:"Monitore a quantidade de medicamentos e receba alertas quando estiverem acabando. Reposio facilitada."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-icon glow-cyan",children:""}),u.jsx("h3",{children:"Protocolos Flexveis"}),u.jsx("p",{children:"Configure tratamentos com titulao de dose, mltiplos medicamentos e acompanhe toda evoluo."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-icon glow-magenta",children:""}),u.jsx("h3",{children:"Relatrios Detalhados"}),u.jsx("p",{children:"Acesse histrico completo com grficos, adeso a tratamento e compartilhe com seu mdico."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-icon glow-cyan",children:""}),u.jsx("h3",{children:"Bot Telegram"}),u.jsx("p",{children:"Receba lembretes, verifique status e tome doses direto do Telegram. Automao total opcional."})]}),u.jsxs("div",{className:"feature-card",children:[u.jsx("div",{className:"feature-icon glow-magenta",children:""}),u.jsx("h3",{children:"100% Seguro"}),u.jsx("p",{children:"Dados criptografados, backup automtico e autenticao segura. Sua privacidade  prioridade."})]})]})]}),u.jsxs("section",{className:"benefits-section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:"Por Que Escolher"}),u.jsx("p",{children:"Benefcios reais para sua sade"})]}),u.jsxs("div",{className:"benefits-container",children:[u.jsxs("div",{className:"benefit-item",children:[u.jsx("div",{className:"benefit-number",children:"1"}),u.jsx("h3",{children:"Maior Adeso"}),u.jsx("p",{children:"Lembretes inteligentes garantem que voc nunca perca uma dose. Estudos mostram aumento de 87% na adeso ao tratamento."})]}),u.jsxs("div",{className:"benefit-item",children:[u.jsx("div",{className:"benefit-number",children:"2"}),u.jsx("h3",{children:"Menos Stress"}),u.jsx("p",{children:'Elimine a ansiedade de "ser que tomei o remdio?". Histrico automtico registra tudo para voc.'})]}),u.jsxs("div",{className:"benefit-item",children:[u.jsx("div",{className:"benefit-number",children:"3"}),u.jsx("h3",{children:"Dados para seu Mdico"}),u.jsx("p",{children:"Compartilhe relatrios precisos com seu mdico. Dados reais melhoram diagnsticos e ajustes de tratamento."})]}),u.jsxs("div",{className:"benefit-item",children:[u.jsx("div",{className:"benefit-number",children:"4"}),u.jsx("h3",{children:"Controle Total"}),u.jsx("p",{children:"Monitore estoques, evite desperdcios e planeje reposies com antecedncia. Economize tempo e dinheiro."})]})]})]}),u.jsxs("section",{className:"multidevice-section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:"Acesse em Qualquer Lugar"}),u.jsx("p",{children:"Sincronizao perfeita entre todos os seus dispositivos"})]}),u.jsxs("div",{className:"devices-showcase",children:[u.jsxs("div",{className:"device-card device-phone",children:[u.jsxs("div",{className:"device-frame",children:[u.jsx("div",{className:"device-notch"}),u.jsxs("div",{className:"device-content",children:[u.jsx("div",{className:"device-header",children:"Celular"}),u.jsx("div",{className:"device-item",children:" Tomar agora"}),u.jsx("div",{className:"device-item",children:" Prxima dose"})]})]}),u.jsx("p",{children:"Sempre com voc"})]}),u.jsxs("div",{className:"device-card device-tablet",children:[u.jsx("div",{className:"device-frame",children:u.jsxs("div",{className:"device-content",children:[u.jsx("div",{className:"device-header",children:"Tablet"}),u.jsx("div",{className:"device-item",children:" Dashboard"}),u.jsx("div",{className:"device-item",children:" Protocolos"})]})}),u.jsx("p",{children:"Visualizao ampla"})]}),u.jsxs("div",{className:"device-card device-desktop",children:[u.jsx("div",{className:"device-frame",children:u.jsxs("div",{className:"device-content",children:[u.jsx("div",{className:"device-header",children:"Desktop"}),u.jsx("div",{className:"device-item",children:" Relatrios"}),u.jsx("div",{className:"device-item",children:" Configuraes"})]})}),u.jsx("p",{children:"Gerenciamento completo"})]})]}),u.jsx("p",{className:"sync-info",children:" Login uma vez. Tudo sincronizado automaticamente."})]}),u.jsx("section",{className:"telegram-section",children:u.jsxs("div",{className:"telegram-content",children:[u.jsx("div",{className:"telegram-icon",children:""}),u.jsx("h2",{children:"Telegram Bot Integrado"}),u.jsx("p",{className:"telegram-subtitle",children:"Tenha acesso a tudo no seu Telegram. Sem sair do app de mensagens!"}),u.jsxs("div",{className:"telegram-features",children:[u.jsxs("div",{className:"telegram-feature",children:[u.jsx("span",{className:"feature-tick",children:""}),u.jsx("span",{children:"Receba lembretes de doses"})]}),u.jsxs("div",{className:"telegram-feature",children:[u.jsx("span",{className:"feature-tick",children:""}),u.jsx("span",{children:"Registre medicamentos tomados"})]}),u.jsxs("div",{className:"telegram-feature",children:[u.jsx("span",{className:"feature-tick",children:""}),u.jsx("span",{children:"Verifique status do estoque"})]}),u.jsxs("div",{className:"telegram-feature",children:[u.jsx("span",{className:"feature-tick",children:""}),u.jsx("span",{children:"Compartilhe com cuidadores"})]})]}),u.jsx("p",{className:"telegram-note",children:"Configure em 30 segundos na seo de Configuraes do app."})]})}),u.jsx("section",{className:"final-cta-section",children:u.jsxs("div",{className:"cta-card",children:[u.jsx("h2",{children:"Pronto para simplificar sua vida?"}),u.jsx("p",{children:"Comece gratuitamente. Sem carto de crdito necessrio."}),u.jsx("div",{className:"final-cta-buttons",children:i?u.jsx("button",{className:"btn-large btn-primary",onClick:r,children:"Acessar Dashboard"}):u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-large btn-primary",onClick:n,children:"Criar Conta Agora"}),u.jsx("button",{className:"btn-large btn-secondary",onClick:n,children:"J tenho conta"})]})}),u.jsx("p",{className:"cta-footer",children:"Junte-se a centenas de usurios que j melhoraram sua adeso ao tratamento."})]})}),u.jsxs("footer",{className:"landing-footer",children:[u.jsx("p",{children:" 2025 Meus Remdios. Todos os direitos reservados."}),u.jsx("p",{className:"footer-tagline",children:"Sade em primeiro lugar. Tecnologia a servio do bem."})]})]})}function B0(){const[i,n]=$.useState(null),[r,l]=$.useState(!0),[d,h]=$.useState("dashboard"),[f,v]=$.useState(!1),[g,p]=$.useState(null),[_,b]=$.useState(null),[x,j]=$.useState(!1);$.useEffect(()=>{ag().then(M=>{n(M),l(!1)}).catch(()=>{n(null),l(!1)});const{data:{subscription:J}}=_0((M,C)=>{n(C?.user??null)});return()=>J.unsubscribe()},[]);const N=J=>{p({medicineId:J}),h("protocols")},U=J=>{b({medicineId:J}),h("stock")};if(r)return u.jsx("div",{className:"app-container",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:u.jsx(Nn,{text:"Carregando..."})});const B=!!i,X=()=>{if(!i)return x?u.jsx(w0,{onAuthSuccess:()=>{j(!1),h("landing")}}):u.jsx(Bm,{isAuthenticated:!1,onOpenAuth:()=>j(!0)});switch(d){case"landing":return u.jsx(Bm,{isAuthenticated:B,onOpenAuth:()=>j(!0),onContinue:()=>h("dashboard")});case"medicines":return u.jsx(j0,{onNavigateToProtocol:N});case"stock":return u.jsx(N0,{initialParams:_,onClearParams:()=>b(null)});case"protocols":return u.jsx(C0,{initialParams:g,onClearParams:()=>p(null),onNavigateToStock:U});case"history":return u.jsx(U0,{});case"settings":return u.jsx(z0,{});case"dashboard":default:return u.jsx(k0,{onNavigate:(J,M)=>{J==="stock"&&M?.medicineId?b({medicineId:M.medicineId}):J==="protocols"&&M?.medicineId&&p({medicineId:M.medicineId}),h(J)}})}};return u.jsxs("div",{className:"app-container",children:[u.jsxs("main",{style:{paddingBottom:"80px",minHeight:"100vh",position:"relative"},children:[X(),f&&u.jsx("div",{style:{padding:"0 var(--space-6)",marginBottom:"var(--space-8)"},children:u.jsx(M0,{})}),u.jsx("footer",{style:{textAlign:"center",marginTop:"var(--space-8)",paddingBottom:"var(--space-8)",color:"var(--text-tertiary)",fontSize:"var(--font-size-sm)"},children:"        "})]}),B&&u.jsx(q0,{currentView:d,setCurrentView:h})]})}zp.createRoot(document.getElementById("root")).render(u.jsx($.StrictMode,{children:u.jsx(B0,{})}));

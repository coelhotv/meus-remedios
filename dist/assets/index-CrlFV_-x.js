(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function l(u){if(u.ep)return;u.ep=!0;const h=r(u);fetch(u.href,h)}})();var Ac={exports:{}},ws={};var rm;function jp(){if(rm)return ws;rm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,u,h){var f=null;if(h!==void 0&&(f=""+h),u.key!==void 0&&(f=""+u.key),"key"in u){h={};for(var v in u)v!=="key"&&(h[v]=u[v])}else h=u;return u=h.ref,{$$typeof:s,type:l,key:f,ref:u!==void 0?u:null,props:h}}return ws.Fragment=n,ws.jsx=r,ws.jsxs=r,ws}var lm;function Tp(){return lm||(lm=1,Ac.exports=jp()),Ac.exports}var d=Tp(),Nc={exports:{}},ue={};var om;function Ap(){if(om)return ue;om=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function j(E){return E===null||typeof E!="object"?null:(E=S&&E[S]||E["@@iterator"],typeof E=="function"?E:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,U={};function Y(E,L,W){this.props=E,this.context=L,this.refs=U,this.updater=W||R}Y.prototype.isReactComponent={},Y.prototype.setState=function(E,L){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,L,"setState")},Y.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Z(){}Z.prototype=Y.prototype;function V(E,L,W){this.props=E,this.context=L,this.refs=U,this.updater=W||R}var M=V.prototype=new Z;M.constructor=V,z(M,Y.prototype),M.isPureReactComponent=!0;var k=Array.isArray;function G(){}var K={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function J(E,L,W){var F=W.ref;return{$$typeof:s,type:E,key:L,ref:F!==void 0?F:null,props:W}}function fe(E,L){return J(E.type,L,E.props)}function Ne(E){return typeof E=="object"&&E!==null&&E.$$typeof===s}function Ge(E){var L={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(W){return L[W]})}var jt=/\/+/g;function at(E,L){return typeof E=="object"&&E!==null&&E.key!=null?Ge(""+E.key):L.toString(36)}function ve(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(G,G):(E.status="pending",E.then(function(L){E.status==="pending"&&(E.status="fulfilled",E.value=L)},function(L){E.status==="pending"&&(E.status="rejected",E.reason=L)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function D(E,L,W,F,ce){var de=typeof E;(de==="undefined"||de==="boolean")&&(E=null);var Ee=!1;if(E===null)Ee=!0;else switch(de){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(E.$$typeof){case s:case n:Ee=!0;break;case _:return Ee=E._init,D(Ee(E._payload),L,W,F,ce)}}if(Ee)return ce=ce(E),Ee=F===""?"."+at(E,0):F,k(ce)?(W="",Ee!=null&&(W=Ee.replace(jt,"$&/")+"/"),D(ce,L,W,"",function(Qe){return Qe})):ce!=null&&(Ne(ce)&&(ce=fe(ce,W+(ce.key==null||E&&E.key===ce.key?"":(""+ce.key).replace(jt,"$&/")+"/")+Ee)),L.push(ce)),1;Ee=0;var $=F===""?".":F+":";if(k(E))for(var se=0;se<E.length;se++)F=E[se],de=$+at(F,se),Ee+=D(F,L,W,de,ce);else if(se=j(E),typeof se=="function")for(E=se.call(E),se=0;!(F=E.next()).done;)F=F.value,de=$+at(F,se++),Ee+=D(F,L,W,de,ce);else if(de==="object"){if(typeof E.then=="function")return D(ve(E),L,W,F,ce);throw L=String(E),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Q(E,L,W){if(E==null)return E;var F=[],ce=0;return D(E,F,"","",function(de){return L.call(W,de,ce++)}),F}function ae(E){if(E._status===-1){var L=E._result;L=L(),L.then(function(W){(E._status===0||E._status===-1)&&(E._status=1,E._result=W)},function(W){(E._status===0||E._status===-1)&&(E._status=2,E._result=W)}),E._status===-1&&(E._status=0,E._result=L)}if(E._status===1)return E._result.default;throw E._result}var pe=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},P={map:Q,forEach:function(E,L,W){Q(E,function(){L.apply(this,arguments)},W)},count:function(E){var L=0;return Q(E,function(){L++}),L},toArray:function(E){return Q(E,function(L){return L})||[]},only:function(E){if(!Ne(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return ue.Activity=b,ue.Children=P,ue.Component=Y,ue.Fragment=r,ue.Profiler=u,ue.PureComponent=V,ue.StrictMode=l,ue.Suspense=g,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,ue.__COMPILER_RUNTIME={__proto__:null,c:function(E){return K.H.useMemoCache(E)}},ue.cache=function(E){return function(){return E.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(E,L,W){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var F=z({},E.props),ce=E.key;if(L!=null)for(de in L.key!==void 0&&(ce=""+L.key),L)!I.call(L,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&L.ref===void 0||(F[de]=L[de]);var de=arguments.length-2;if(de===1)F.children=W;else if(1<de){for(var Ee=Array(de),$=0;$<de;$++)Ee[$]=arguments[$+2];F.children=Ee}return J(E.type,ce,F)},ue.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:h,_context:E},E},ue.createElement=function(E,L,W){var F,ce={},de=null;if(L!=null)for(F in L.key!==void 0&&(de=""+L.key),L)I.call(L,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ce[F]=L[F]);var Ee=arguments.length-2;if(Ee===1)ce.children=W;else if(1<Ee){for(var $=Array(Ee),se=0;se<Ee;se++)$[se]=arguments[se+2];ce.children=$}if(E&&E.defaultProps)for(F in Ee=E.defaultProps,Ee)ce[F]===void 0&&(ce[F]=Ee[F]);return J(E,de,ce)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(E){return{$$typeof:v,render:E}},ue.isValidElement=Ne,ue.lazy=function(E){return{$$typeof:_,_payload:{_status:-1,_result:E},_init:ae}},ue.memo=function(E,L){return{$$typeof:p,type:E,compare:L===void 0?null:L}},ue.startTransition=function(E){var L=K.T,W={};K.T=W;try{var F=E(),ce=K.S;ce!==null&&ce(W,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(G,pe)}catch(de){pe(de)}finally{L!==null&&W.types!==null&&(L.types=W.types),K.T=L}},ue.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},ue.use=function(E){return K.H.use(E)},ue.useActionState=function(E,L,W){return K.H.useActionState(E,L,W)},ue.useCallback=function(E,L){return K.H.useCallback(E,L)},ue.useContext=function(E){return K.H.useContext(E)},ue.useDebugValue=function(){},ue.useDeferredValue=function(E,L){return K.H.useDeferredValue(E,L)},ue.useEffect=function(E,L){return K.H.useEffect(E,L)},ue.useEffectEvent=function(E){return K.H.useEffectEvent(E)},ue.useId=function(){return K.H.useId()},ue.useImperativeHandle=function(E,L,W){return K.H.useImperativeHandle(E,L,W)},ue.useInsertionEffect=function(E,L){return K.H.useInsertionEffect(E,L)},ue.useLayoutEffect=function(E,L){return K.H.useLayoutEffect(E,L)},ue.useMemo=function(E,L){return K.H.useMemo(E,L)},ue.useOptimistic=function(E,L){return K.H.useOptimistic(E,L)},ue.useReducer=function(E,L,W){return K.H.useReducer(E,L,W)},ue.useRef=function(E){return K.H.useRef(E)},ue.useState=function(E){return K.H.useState(E)},ue.useSyncExternalStore=function(E,L,W){return K.H.useSyncExternalStore(E,L,W)},ue.useTransition=function(){return K.H.useTransition()},ue.version="19.2.3",ue}var cm;function au(){return cm||(cm=1,Nc.exports=Ap()),Nc.exports}var X=au(),Oc={exports:{}},Ss={},Rc={exports:{}},Cc={};var um;function Np(){return um||(um=1,(function(s){function n(D,Q){var ae=D.length;D.push(Q);e:for(;0<ae;){var pe=ae-1>>>1,P=D[pe];if(0<u(P,Q))D[pe]=Q,D[ae]=P,ae=pe;else break e}}function r(D){return D.length===0?null:D[0]}function l(D){if(D.length===0)return null;var Q=D[0],ae=D.pop();if(ae!==Q){D[0]=ae;e:for(var pe=0,P=D.length,E=P>>>1;pe<E;){var L=2*(pe+1)-1,W=D[L],F=L+1,ce=D[F];if(0>u(W,ae))F<P&&0>u(ce,W)?(D[pe]=ce,D[F]=ae,pe=F):(D[pe]=W,D[L]=ae,pe=L);else if(F<P&&0>u(ce,ae))D[pe]=ce,D[F]=ae,pe=F;else break e}}return Q}function u(D,Q){var ae=D.sortIndex-Q.sortIndex;return ae!==0?ae:D.id-Q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var f=Date,v=f.now();s.unstable_now=function(){return f.now()-v}}var g=[],p=[],_=1,b=null,S=3,j=!1,R=!1,z=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function M(D){for(var Q=r(p);Q!==null;){if(Q.callback===null)l(p);else if(Q.startTime<=D)l(p),Q.sortIndex=Q.expirationTime,n(g,Q);else break;Q=r(p)}}function k(D){if(z=!1,M(D),!R)if(r(g)!==null)R=!0,G||(G=!0,Ge());else{var Q=r(p);Q!==null&&ve(k,Q.startTime-D)}}var G=!1,K=-1,I=5,J=-1;function fe(){return U?!0:!(s.unstable_now()-J<I)}function Ne(){if(U=!1,G){var D=s.unstable_now();J=D;var Q=!0;try{e:{R=!1,z&&(z=!1,Z(K),K=-1),j=!0;var ae=S;try{t:{for(M(D),b=r(g);b!==null&&!(b.expirationTime>D&&fe());){var pe=b.callback;if(typeof pe=="function"){b.callback=null,S=b.priorityLevel;var P=pe(b.expirationTime<=D);if(D=s.unstable_now(),typeof P=="function"){b.callback=P,M(D),Q=!0;break t}b===r(g)&&l(g),M(D)}else l(g);b=r(g)}if(b!==null)Q=!0;else{var E=r(p);E!==null&&ve(k,E.startTime-D),Q=!1}}break e}finally{b=null,S=ae,j=!1}Q=void 0}}finally{Q?Ge():G=!1}}}var Ge;if(typeof V=="function")Ge=function(){V(Ne)};else if(typeof MessageChannel<"u"){var jt=new MessageChannel,at=jt.port2;jt.port1.onmessage=Ne,Ge=function(){at.postMessage(null)}}else Ge=function(){Y(Ne,0)};function ve(D,Q){K=Y(function(){D(s.unstable_now())},Q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(D){D.callback=null},s.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<D?Math.floor(1e3/D):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(D){switch(S){case 1:case 2:case 3:var Q=3;break;default:Q=S}var ae=S;S=Q;try{return D()}finally{S=ae}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(D,Q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var ae=S;S=D;try{return Q()}finally{S=ae}},s.unstable_scheduleCallback=function(D,Q,ae){var pe=s.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?pe+ae:pe):ae=pe,D){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ae+P,D={id:_++,callback:Q,priorityLevel:D,startTime:ae,expirationTime:P,sortIndex:-1},ae>pe?(D.sortIndex=ae,n(p,D),r(g)===null&&D===r(p)&&(z?(Z(K),K=-1):z=!0,ve(k,ae-pe))):(D.sortIndex=P,n(g,D),R||j||(R=!0,G||(G=!0,Ge()))),D},s.unstable_shouldYield=fe,s.unstable_wrapCallback=function(D){var Q=S;return function(){var ae=S;S=Q;try{return D.apply(this,arguments)}finally{S=ae}}}})(Cc)),Cc}var dm;function Op(){return dm||(dm=1,Rc.exports=Np()),Rc.exports}var kc={exports:{}},gt={};var hm;function Rp(){if(hm)return gt;hm=1;var s=au();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(g,p,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:g,containerInfo:p,implementation:_}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,gt.createPortal=function(g,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return h(g,p,null,_)},gt.flushSync=function(g){var p=f.T,_=l.p;try{if(f.T=null,l.p=2,g)return g()}finally{f.T=p,l.p=_,l.d.f()}},gt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},gt.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},gt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var _=p.as,b=v(_,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:j}):_==="script"&&l.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=v(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},gt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,b=v(_,p.crossOrigin);l.d.L(g,_,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gt.preloadModule=function(g,p){if(typeof g=="string")if(p){var _=v(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},gt.requestFormReset=function(g){l.d.r(g)},gt.unstable_batchedUpdates=function(g,p){return g(p)},gt.useFormState=function(g,p,_){return f.H.useFormState(g,p,_)},gt.useFormStatus=function(){return f.H.useHostTransitionStatus()},gt.version="19.2.3",gt}var fm;function Cp(){if(fm)return kc.exports;fm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),kc.exports=Rp(),kc.exports}var mm;function kp(){if(mm)return Ss;mm=1;var s=Op(),n=au(),r=Cp();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,i=t;;){var o=a.return;if(o===null)break;var c=o.alternate;if(c===null){if(i=o.return,i!==null){a=i;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===a)return g(o),e;if(c===i)return g(o),t;c=c.sibling}throw Error(l(188))}if(a.return!==i.return)a=o,i=c;else{for(var m=!1,y=o.child;y;){if(y===a){m=!0,a=o,i=c;break}if(y===i){m=!0,i=o,a=c;break}y=y.sibling}if(!m){for(y=c.child;y;){if(y===a){m=!0,a=c,i=o;break}if(y===i){m=!0,i=c,a=o;break}y=y.sibling}if(!m)throw Error(l(189))}}if(a.alternate!==i)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),V=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),Ne=Symbol.iterator;function Ge(e){return e===null||typeof e!="object"?null:(e=Ne&&e[Ne]||e["@@iterator"],typeof e=="function"?e:null)}var jt=Symbol.for("react.client.reference");function at(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===jt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case Y:return"Profiler";case U:return"StrictMode";case k:return"Suspense";case G:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case V:return e.displayName||"Context";case Z:return(e._context.displayName||"Context")+".Consumer";case M:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return t=e.displayName||null,t!==null?t:at(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return at(e(t))}catch{}}return null}var ve=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},pe=[],P=-1;function E(e){return{current:e}}function L(e){0>P||(e.current=pe[P],pe[P]=null,P--)}function W(e,t){P++,pe[P]=e.current,e.current=t}var F=E(null),ce=E(null),de=E(null),Ee=E(null);function $(e,t){switch(W(de,t),W(ce,e),W(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Of(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Of(t),e=Rf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(F),W(F,e)}function se(){L(F),L(ce),L(de)}function Qe(e){e.memoizedState!==null&&W(Ee,e);var t=F.current,a=Rf(t,e.type);t!==a&&(W(ce,e),W(F,a))}function st(e){ce.current===e&&(L(F),L(ce)),Ee.current===e&&(L(Ee),ps._currentValue=ae)}var ra,pt;function Bt(e){if(ra===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ra=t&&t[1]||"",pt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ra+e+pt}var Rn=!1;function nn(e,t){if(!e||Rn)return"";Rn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(C){var O=C}Reflect.construct(e,[],H)}else{try{H.call()}catch(C){O=C}e.call(H.prototype)}}else{try{throw Error()}catch(C){O=C}(H=e())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(C){if(C&&O&&typeof C.stack=="string")return[C.stack,O.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=i.DetermineComponentFrameRoot(),m=c[0],y=c[1];if(m&&y){var w=m.split(`
`),N=y.split(`
`);for(o=i=0;i<w.length&&!w[i].includes("DetermineComponentFrameRoot");)i++;for(;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;if(i===w.length||o===N.length)for(i=w.length-1,o=N.length-1;1<=i&&0<=o&&w[i]!==N[o];)o--;for(;1<=i&&0<=o;i--,o--)if(w[i]!==N[o]){if(i!==1||o!==1)do if(i--,o--,0>o||w[i]!==N[o]){var q=`
`+w[i].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=i&&0<=o);break}}}finally{Rn=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Bt(a):""}function dl(e,t){switch(e.tag){case 26:case 27:case 5:return Bt(e.type);case 16:return Bt("Lazy");case 13:return e.child!==t&&t!==null?Bt("Suspense Fallback"):Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 15:return nn(e.type,!1);case 11:return nn(e.type.render,!1);case 1:return nn(e.type,!0);case 31:return Bt("Activity");default:return""}}function hl(e){try{var t="",a=null;do t+=dl(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Ni=Object.prototype.hasOwnProperty,Oe=s.unstable_scheduleCallback,rt=s.unstable_cancelCallback,zs=s.unstable_shouldYield,Cn=s.unstable_requestPaint,mt=s.unstable_now,fl=s.unstable_getCurrentPriorityLevel,qs=s.unstable_ImmediatePriority,Ms=s.unstable_UserBlockingPriority,Bs=s.unstable_NormalPriority,rg=s.unstable_LowPriority,ou=s.unstable_IdlePriority,lg=s.log,og=s.unstable_setDisableYieldValue,Oi=null,Tt=null;function Na(e){if(typeof lg=="function"&&og(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(Oi,e)}catch{}}var At=Math.clz32?Math.clz32:dg,cg=Math.log,ug=Math.LN2;function dg(e){return e>>>=0,e===0?32:31-(cg(e)/ug|0)|0}var Ls=256,Hs=262144,$s=4194304;function sn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gs(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var o=0,c=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~c,i!==0?o=sn(i):(m&=y,m!==0?o=sn(m):a||(a=y&~e,a!==0&&(o=sn(a))))):(y=i&~c,y!==0?o=sn(y):m!==0?o=sn(m):a||(a=i&~e,a!==0&&(o=sn(a)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,a=t&-t,c>=a||c===32&&(a&4194048)!==0)?t:o}function Ri(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function hg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cu(){var e=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),e}function ml(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ci(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function fg(e,t,a,i,o,c){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,w=e.expirationTimes,N=e.hiddenUpdates;for(a=m&~a;0<a;){var q=31-At(a),H=1<<q;y[q]=0,w[q]=-1;var O=N[q];if(O!==null)for(N[q]=null,q=0;q<O.length;q++){var C=O[q];C!==null&&(C.lane&=-536870913)}a&=~H}i!==0&&uu(e,i,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(m&~t))}function uu(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-At(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function du(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-At(a),o=1<<i;o&t|e[i]&t&&(e[i]|=t),a&=~o}}function hu(e,t){var a=t&-t;return a=(a&42)!==0?1:gl(a),(a&(e.suspendedLanes|t))!==0?0:a}function gl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function vl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fu(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Ff(e.type))}function mu(e,t){var a=Q.p;try{return Q.p=e,t()}finally{Q.p=a}}var Oa=Math.random().toString(36).slice(2),lt="__reactFiber$"+Oa,yt="__reactProps$"+Oa,kn="__reactContainer$"+Oa,pl="__reactEvents$"+Oa,mg="__reactListeners$"+Oa,gg="__reactHandles$"+Oa,gu="__reactResources$"+Oa,ki="__reactMarker$"+Oa;function yl(e){delete e[lt],delete e[yt],delete e[pl],delete e[mg],delete e[gg]}function Dn(e){var t=e[lt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[kn]||a[lt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Mf(e);e!==null;){if(a=e[lt])return a;e=Mf(e)}return t}e=a,a=e.parentNode}return null}function Un(e){if(e=e[lt]||e[kn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Di(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function zn(e){var t=e[gu];return t||(t=e[gu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[ki]=!0}var vu=new Set,pu={};function rn(e,t){qn(e,t),qn(e+"Capture",t)}function qn(e,t){for(pu[e]=t,e=0;e<t.length;e++)vu.add(t[e])}var vg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yu={},_u={};function pg(e){return Ni.call(_u,e)?!0:Ni.call(yu,e)?!1:vg.test(e)?_u[e]=!0:(yu[e]=!0,!1)}function Vs(e,t,a){if(pg(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ys(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function la(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yg(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _l(e){if(!e._valueTracker){var t=bu(e)?"checked":"value";e._valueTracker=yg(e,t,""+e[t])}}function wu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=bu(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var _g=/[\n"\\]/g;function Ht(e){return e.replace(_g,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function bl(e,t,a,i,o,c,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?wl(e,m,Lt(t)):a!=null?wl(e,m,Lt(a)):i!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Lt(y):e.removeAttribute("name")}function Su(e,t,a,i,o,c,m,y){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||a!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){_l(e);return}a=a!=null?""+Lt(a):"",t=t!=null?""+Lt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),_l(e)}function wl(e,t,a){t==="number"&&Ks(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Mn(e,t,a,i){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Lt(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Eu(e,t,a){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Lt(a):""}function xu(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(l(92));if(ve(i)){if(1<i.length)throw Error(l(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Lt(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),_l(e)}function Bn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var bg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ju(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||bg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Tu(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&a[o]!==i&&ju(e,o,i)}else for(var c in t)t.hasOwnProperty(c)&&ju(e,c,t[c])}function Sl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qs(e){return Sg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function oa(){}var El=null;function xl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ln=null,Hn=null;function Au(e){var t=Un(e);if(t&&(e=t.stateNode)){var a=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(bl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ht(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var o=i[yt]||null;if(!o)throw Error(l(90));bl(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&wu(i)}break e;case"textarea":Eu(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Mn(e,!!a.multiple,t,!1)}}}var jl=!1;function Nu(e,t,a){if(jl)return e(t,a);jl=!0;try{var i=e(t);return i}finally{if(jl=!1,(Ln!==null||Hn!==null)&&(Dr(),Ln&&(t=Ln,e=Hn,Hn=Ln=null,Au(t),e)))for(t=0;t<e.length;t++)Au(e[t])}}function Ui(e,t){var a=e.stateNode;if(a===null)return null;var i=a[yt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tl=!1;if(ca)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{Tl=!1}var Ra=null,Al=null,Xs=null;function Ou(){if(Xs)return Xs;var e,t=Al,a=t.length,i,o="value"in Ra?Ra.value:Ra.textContent,c=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(i=1;i<=m&&t[a-i]===o[c-i];i++);return Xs=o.slice(e,1<i?1-i:void 0)}function Js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zs(){return!0}function Ru(){return!1}function _t(e){function t(a,i,o,c,m){this._reactName=a,this._targetInst=o,this.type=i,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(c):c[y]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Zs:Ru,this.isPropagationStopped=Ru,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),t}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Is=_t(ln),qi=b({},ln,{view:0,detail:0}),Eg=_t(qi),Nl,Ol,Mi,Ps=b({},qi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(Nl=e.screenX-Mi.screenX,Ol=e.screenY-Mi.screenY):Ol=Nl=0,Mi=e),Nl)},movementY:function(e){return"movementY"in e?e.movementY:Ol}}),Cu=_t(Ps),xg=b({},Ps,{dataTransfer:0}),jg=_t(xg),Tg=b({},qi,{relatedTarget:0}),Rl=_t(Tg),Ag=b({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Ng=_t(Ag),Og=b({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rg=_t(Og),Cg=b({},ln,{data:0}),ku=_t(Cg),kg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ug={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ug[e])?!!t[e]:!1}function Cl(){return zg}var qg=b({},qi,{key:function(e){if(e.key){var t=kg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Dg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(e){return e.type==="keypress"?Js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mg=_t(qg),Bg=b({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=_t(Bg),Lg=b({},qi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),Hg=_t(Lg),$g=b({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gg=_t($g),Vg=b({},Ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yg=_t(Vg),Kg=b({},ln,{newState:0,oldState:0}),Qg=_t(Kg),Xg=[9,13,27,32],kl=ca&&"CompositionEvent"in window,Bi=null;ca&&"documentMode"in document&&(Bi=document.documentMode);var Jg=ca&&"TextEvent"in window&&!Bi,Uu=ca&&(!kl||Bi&&8<Bi&&11>=Bi),zu=" ",qu=!1;function Mu(e,t){switch(e){case"keyup":return Xg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function Zg(e,t){switch(e){case"compositionend":return Bu(t);case"keypress":return t.which!==32?null:(qu=!0,zu);case"textInput":return e=t.data,e===zu&&qu?null:e;default:return null}}function Ig(e,t){if($n)return e==="compositionend"||!kl&&Mu(e,t)?(e=Ou(),Xs=Al=Ra=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uu&&t.locale!=="ko"?null:t.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pg[e.type]:t==="textarea"}function Hu(e,t,a,i){Ln?Hn?Hn.push(i):Hn=[i]:Ln=i,t=Hr(t,"onChange"),0<t.length&&(a=new Is("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var Li=null,Hi=null;function Wg(e){Ef(e,0)}function Ws(e){var t=Di(e);if(wu(t))return e}function $u(e,t){if(e==="change")return t}var Gu=!1;if(ca){var Dl;if(ca){var Ul="oninput"in document;if(!Ul){var Vu=document.createElement("div");Vu.setAttribute("oninput","return;"),Ul=typeof Vu.oninput=="function"}Dl=Ul}else Dl=!1;Gu=Dl&&(!document.documentMode||9<document.documentMode)}function Yu(){Li&&(Li.detachEvent("onpropertychange",Ku),Hi=Li=null)}function Ku(e){if(e.propertyName==="value"&&Ws(Hi)){var t=[];Hu(t,Hi,e,xl(e)),Nu(Wg,t)}}function Fg(e,t,a){e==="focusin"?(Yu(),Li=t,Hi=a,Li.attachEvent("onpropertychange",Ku)):e==="focusout"&&Yu()}function ev(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(Hi)}function tv(e,t){if(e==="click")return Ws(t)}function av(e,t){if(e==="input"||e==="change")return Ws(t)}function nv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:nv;function $i(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var o=a[i];if(!Ni.call(t,o)||!Nt(e[o],t[o]))return!1}return!0}function Qu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xu(e,t){var a=Qu(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qu(a)}}function Ju(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ju(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ks(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ks(e.document)}return t}function zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var iv=ca&&"documentMode"in document&&11>=document.documentMode,Gn=null,ql=null,Gi=null,Ml=!1;function Iu(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ml||Gn==null||Gn!==Ks(i)||(i=Gn,"selectionStart"in i&&zl(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gi&&$i(Gi,i)||(Gi=i,i=Hr(ql,"onSelect"),0<i.length&&(t=new Is("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Gn)))}function on(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Vn={animationend:on("Animation","AnimationEnd"),animationiteration:on("Animation","AnimationIteration"),animationstart:on("Animation","AnimationStart"),transitionrun:on("Transition","TransitionRun"),transitionstart:on("Transition","TransitionStart"),transitioncancel:on("Transition","TransitionCancel"),transitionend:on("Transition","TransitionEnd")},Bl={},Pu={};ca&&(Pu=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function cn(e){if(Bl[e])return Bl[e];if(!Vn[e])return e;var t=Vn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Pu)return Bl[e]=t[a];return e}var Wu=cn("animationend"),Fu=cn("animationiteration"),ed=cn("animationstart"),sv=cn("transitionrun"),rv=cn("transitionstart"),lv=cn("transitioncancel"),td=cn("transitionend"),ad=new Map,Ll="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ll.push("scrollEnd");function Zt(e,t){ad.set(e,t),rn(t,[e])}var Fs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},$t=[],Yn=0,Hl=0;function er(){for(var e=Yn,t=Hl=Yn=0;t<e;){var a=$t[t];$t[t++]=null;var i=$t[t];$t[t++]=null;var o=$t[t];$t[t++]=null;var c=$t[t];if($t[t++]=null,i!==null&&o!==null){var m=i.pending;m===null?o.next=o:(o.next=m.next,m.next=o),i.pending=o}c!==0&&nd(a,o,c)}}function tr(e,t,a,i){$t[Yn++]=e,$t[Yn++]=t,$t[Yn++]=a,$t[Yn++]=i,Hl|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function $l(e,t,a,i){return tr(e,t,a,i),ar(e)}function un(e,t){return tr(e,null,null,t),ar(e)}function nd(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var o=!1,c=e.return;c!==null;)c.childLanes|=a,i=c.alternate,i!==null&&(i.childLanes|=a),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-At(a),e=c.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=a|536870912),c):null}function ar(e){if(50<us)throw us=0,Po=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Kn={};function ov(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(e,t,a,i){return new ov(e,t,a,i)}function Gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ua(e,t){var a=e.alternate;return a===null?(a=Ot(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function id(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function nr(e,t,a,i,o,c){var m=0;if(i=e,typeof e=="function")Gl(e)&&(m=1);else if(typeof e=="string")m=fp(e,a,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=Ot(31,a,t,o),e.elementType=J,e.lanes=c,e;case z:return dn(a.children,o,c,t);case U:m=8,o|=24;break;case Y:return e=Ot(12,a,t,o|2),e.elementType=Y,e.lanes=c,e;case k:return e=Ot(13,a,t,o),e.elementType=k,e.lanes=c,e;case G:return e=Ot(19,a,t,o),e.elementType=G,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:m=10;break e;case Z:m=9;break e;case M:m=11;break e;case K:m=14;break e;case I:m=16,i=null;break e}m=29,a=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=Ot(m,a,t,o),t.elementType=e,t.type=i,t.lanes=c,t}function dn(e,t,a,i){return e=Ot(7,e,i,t),e.lanes=a,e}function Vl(e,t,a){return e=Ot(6,e,null,t),e.lanes=a,e}function sd(e){var t=Ot(18,null,null,0);return t.stateNode=e,t}function Yl(e,t,a){return t=Ot(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var rd=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var a=rd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:hl(t)},rd.set(e,t),t)}return{value:e,source:t,stack:hl(t)}}var Qn=[],Xn=0,ir=null,Vi=0,Vt=[],Yt=0,Ca=null,ta=1,aa="";function da(e,t){Qn[Xn++]=Vi,Qn[Xn++]=ir,ir=e,Vi=t}function ld(e,t,a){Vt[Yt++]=ta,Vt[Yt++]=aa,Vt[Yt++]=Ca,Ca=e;var i=ta;e=aa;var o=32-At(i)-1;i&=~(1<<o),a+=1;var c=32-At(t)+o;if(30<c){var m=o-o%5;c=(i&(1<<m)-1).toString(32),i>>=m,o-=m,ta=1<<32-At(t)+o|a<<o|i,aa=c+e}else ta=1<<c|a<<o|i,aa=e}function Kl(e){e.return!==null&&(da(e,1),ld(e,1,0))}function Ql(e){for(;e===ir;)ir=Qn[--Xn],Qn[Xn]=null,Vi=Qn[--Xn],Qn[Xn]=null;for(;e===Ca;)Ca=Vt[--Yt],Vt[Yt]=null,aa=Vt[--Yt],Vt[Yt]=null,ta=Vt[--Yt],Vt[Yt]=null}function od(e,t){Vt[Yt++]=ta,Vt[Yt++]=aa,Vt[Yt++]=Ca,ta=t.id,aa=t.overflow,Ca=e}var ot=null,Be=null,Se=!1,ka=null,Kt=!1,Xl=Error(l(519));function Da(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yi(Gt(t,e)),Xl}function cd(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[lt]=e,t[yt]=i,a){case"dialog":_e("cancel",t),_e("close",t);break;case"iframe":case"object":case"embed":_e("load",t);break;case"video":case"audio":for(a=0;a<hs.length;a++)_e(hs[a],t);break;case"source":_e("error",t);break;case"img":case"image":case"link":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"input":_e("invalid",t),Su(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":_e("invalid",t);break;case"textarea":_e("invalid",t),xu(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||Af(t.textContent,a)?(i.popover!=null&&(_e("beforetoggle",t),_e("toggle",t)),i.onScroll!=null&&_e("scroll",t),i.onScrollEnd!=null&&_e("scrollend",t),i.onClick!=null&&(t.onclick=oa),t=!0):t=!1,t||Da(e,!0)}function ud(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Kt=!1;return;case 27:case 3:Kt=!0;return;default:ot=ot.return}}function Jn(e){if(e!==ot)return!1;if(!Se)return ud(e),Se=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||hc(e.type,e.memoizedProps)),a=!a),a&&Be&&Da(e),ud(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Be=qf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Be=qf(e)}else t===27?(t=Be,Xa(e.type)?(e=pc,pc=null,Be=e):Be=t):Be=ot?Xt(e.stateNode.nextSibling):null;return!0}function hn(){Be=ot=null,Se=!1}function Jl(){var e=ka;return e!==null&&(Et===null?Et=e:Et.push.apply(Et,e),ka=null),e}function Yi(e){ka===null?ka=[e]:ka.push(e)}var Zl=E(null),fn=null,ha=null;function Ua(e,t,a){W(Zl,t._currentValue),t._currentValue=a}function fa(e){e._currentValue=Zl.current,L(Zl)}function Il(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function Pl(e,t,a,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var m=o.child;c=c.firstContext;e:for(;c!==null;){var y=c;c=o;for(var w=0;w<t.length;w++)if(y.context===t[w]){c.lanes|=a,y=c.alternate,y!==null&&(y.lanes|=a),Il(c.return,a,e),i||(m=null);break e}c=y.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(l(341));m.lanes|=a,c=m.alternate,c!==null&&(c.lanes|=a),Il(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Zn(e,t,a,i){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var y=o.type;Nt(o.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(o===Ee.current){if(m=o.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(ps):e=[ps])}o=o.return}e!==null&&Pl(t,e,a,i),t.flags|=262144}function sr(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mn(e){fn=e,ha=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return dd(fn,e)}function rr(e,t){return fn===null&&mn(e),dd(e,t)}function dd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ha===null){if(e===null)throw Error(l(308));ha=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ha=ha.next=t;return a}var cv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},uv=s.unstable_scheduleCallback,dv=s.unstable_NormalPriority,Ze={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wl(){return{controller:new cv,data:new Map,refCount:0}}function Ki(e){e.refCount--,e.refCount===0&&uv(dv,function(){e.controller.abort()})}var Qi=null,Fl=0,In=0,Pn=null;function hv(e,t){if(Qi===null){var a=Qi=[];Fl=0,In=nc(),Pn={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Fl++,t.then(hd,hd),t}function hd(){if(--Fl===0&&Qi!==null){Pn!==null&&(Pn.status="fulfilled");var e=Qi;Qi=null,In=0,Pn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function fv(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),i}var fd=D.S;D.S=function(e,t){Ih=mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&hv(e,t),fd!==null&&fd(e,t)};var gn=E(null);function eo(){var e=gn.current;return e!==null?e:qe.pooledCache}function lr(e,t){t===null?W(gn,gn.current):W(gn,t.pool)}function md(){var e=eo();return e===null?null:{parent:Ze._currentValue,pool:e}}var Wn=Error(l(460)),to=Error(l(474)),or=Error(l(542)),cr={then:function(){}};function gd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(oa,oa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yd(e),e;default:if(typeof t.status=="string")t.then(oa,oa);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yd(e),e}throw pn=t,Wn}}function vn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(pn=a,Wn):a}}var pn=null;function pd(){if(pn===null)throw Error(l(459));var e=pn;return pn=null,e}function yd(e){if(e===Wn||e===or)throw Error(l(483))}var Fn=null,Xi=0;function ur(e){var t=Xi;return Xi+=1,Fn===null&&(Fn=[]),vd(Fn,e,t)}function Ji(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function dr(e,t){throw t.$$typeof===S?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function _d(e){function t(T,x){if(e){var A=T.deletions;A===null?(T.deletions=[x],T.flags|=16):A.push(x)}}function a(T,x){if(!e)return null;for(;x!==null;)t(T,x),x=x.sibling;return null}function i(T){for(var x=new Map;T!==null;)T.key!==null?x.set(T.key,T):x.set(T.index,T),T=T.sibling;return x}function o(T,x){return T=ua(T,x),T.index=0,T.sibling=null,T}function c(T,x,A){return T.index=A,e?(A=T.alternate,A!==null?(A=A.index,A<x?(T.flags|=67108866,x):A):(T.flags|=67108866,x)):(T.flags|=1048576,x)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function y(T,x,A,B){return x===null||x.tag!==6?(x=Vl(A,T.mode,B),x.return=T,x):(x=o(x,A),x.return=T,x)}function w(T,x,A,B){var ie=A.type;return ie===z?q(T,x,A.props.children,B,A.key):x!==null&&(x.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===I&&vn(ie)===x.type)?(x=o(x,A.props),Ji(x,A),x.return=T,x):(x=nr(A.type,A.key,A.props,null,T.mode,B),Ji(x,A),x.return=T,x)}function N(T,x,A,B){return x===null||x.tag!==4||x.stateNode.containerInfo!==A.containerInfo||x.stateNode.implementation!==A.implementation?(x=Yl(A,T.mode,B),x.return=T,x):(x=o(x,A.children||[]),x.return=T,x)}function q(T,x,A,B,ie){return x===null||x.tag!==7?(x=dn(A,T.mode,B,ie),x.return=T,x):(x=o(x,A),x.return=T,x)}function H(T,x,A){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Vl(""+x,T.mode,A),x.return=T,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case j:return A=nr(x.type,x.key,x.props,null,T.mode,A),Ji(A,x),A.return=T,A;case R:return x=Yl(x,T.mode,A),x.return=T,x;case I:return x=vn(x),H(T,x,A)}if(ve(x)||Ge(x))return x=dn(x,T.mode,A,null),x.return=T,x;if(typeof x.then=="function")return H(T,ur(x),A);if(x.$$typeof===V)return H(T,rr(T,x),A);dr(T,x)}return null}function O(T,x,A,B){var ie=x!==null?x.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ie!==null?null:y(T,x,""+A,B);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case j:return A.key===ie?w(T,x,A,B):null;case R:return A.key===ie?N(T,x,A,B):null;case I:return A=vn(A),O(T,x,A,B)}if(ve(A)||Ge(A))return ie!==null?null:q(T,x,A,B,null);if(typeof A.then=="function")return O(T,x,ur(A),B);if(A.$$typeof===V)return O(T,x,rr(T,A),B);dr(T,A)}return null}function C(T,x,A,B,ie){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return T=T.get(A)||null,y(x,T,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return T=T.get(B.key===null?A:B.key)||null,w(x,T,B,ie);case R:return T=T.get(B.key===null?A:B.key)||null,N(x,T,B,ie);case I:return B=vn(B),C(T,x,A,B,ie)}if(ve(B)||Ge(B))return T=T.get(A)||null,q(x,T,B,ie,null);if(typeof B.then=="function")return C(T,x,A,ur(B),ie);if(B.$$typeof===V)return C(T,x,A,rr(x,B),ie);dr(x,B)}return null}function ee(T,x,A,B){for(var ie=null,je=null,te=x,ge=x=0,we=null;te!==null&&ge<A.length;ge++){te.index>ge?(we=te,te=null):we=te.sibling;var Te=O(T,te,A[ge],B);if(Te===null){te===null&&(te=we);break}e&&te&&Te.alternate===null&&t(T,te),x=c(Te,x,ge),je===null?ie=Te:je.sibling=Te,je=Te,te=we}if(ge===A.length)return a(T,te),Se&&da(T,ge),ie;if(te===null){for(;ge<A.length;ge++)te=H(T,A[ge],B),te!==null&&(x=c(te,x,ge),je===null?ie=te:je.sibling=te,je=te);return Se&&da(T,ge),ie}for(te=i(te);ge<A.length;ge++)we=C(te,T,ge,A[ge],B),we!==null&&(e&&we.alternate!==null&&te.delete(we.key===null?ge:we.key),x=c(we,x,ge),je===null?ie=we:je.sibling=we,je=we);return e&&te.forEach(function(Wa){return t(T,Wa)}),Se&&da(T,ge),ie}function re(T,x,A,B){if(A==null)throw Error(l(151));for(var ie=null,je=null,te=x,ge=x=0,we=null,Te=A.next();te!==null&&!Te.done;ge++,Te=A.next()){te.index>ge?(we=te,te=null):we=te.sibling;var Wa=O(T,te,Te.value,B);if(Wa===null){te===null&&(te=we);break}e&&te&&Wa.alternate===null&&t(T,te),x=c(Wa,x,ge),je===null?ie=Wa:je.sibling=Wa,je=Wa,te=we}if(Te.done)return a(T,te),Se&&da(T,ge),ie;if(te===null){for(;!Te.done;ge++,Te=A.next())Te=H(T,Te.value,B),Te!==null&&(x=c(Te,x,ge),je===null?ie=Te:je.sibling=Te,je=Te);return Se&&da(T,ge),ie}for(te=i(te);!Te.done;ge++,Te=A.next())Te=C(te,T,ge,Te.value,B),Te!==null&&(e&&Te.alternate!==null&&te.delete(Te.key===null?ge:Te.key),x=c(Te,x,ge),je===null?ie=Te:je.sibling=Te,je=Te);return e&&te.forEach(function(xp){return t(T,xp)}),Se&&da(T,ge),ie}function ze(T,x,A,B){if(typeof A=="object"&&A!==null&&A.type===z&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case j:e:{for(var ie=A.key;x!==null;){if(x.key===ie){if(ie=A.type,ie===z){if(x.tag===7){a(T,x.sibling),B=o(x,A.props.children),B.return=T,T=B;break e}}else if(x.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===I&&vn(ie)===x.type){a(T,x.sibling),B=o(x,A.props),Ji(B,A),B.return=T,T=B;break e}a(T,x);break}else t(T,x);x=x.sibling}A.type===z?(B=dn(A.props.children,T.mode,B,A.key),B.return=T,T=B):(B=nr(A.type,A.key,A.props,null,T.mode,B),Ji(B,A),B.return=T,T=B)}return m(T);case R:e:{for(ie=A.key;x!==null;){if(x.key===ie)if(x.tag===4&&x.stateNode.containerInfo===A.containerInfo&&x.stateNode.implementation===A.implementation){a(T,x.sibling),B=o(x,A.children||[]),B.return=T,T=B;break e}else{a(T,x);break}else t(T,x);x=x.sibling}B=Yl(A,T.mode,B),B.return=T,T=B}return m(T);case I:return A=vn(A),ze(T,x,A,B)}if(ve(A))return ee(T,x,A,B);if(Ge(A)){if(ie=Ge(A),typeof ie!="function")throw Error(l(150));return A=ie.call(A),re(T,x,A,B)}if(typeof A.then=="function")return ze(T,x,ur(A),B);if(A.$$typeof===V)return ze(T,x,rr(T,A),B);dr(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,x!==null&&x.tag===6?(a(T,x.sibling),B=o(x,A),B.return=T,T=B):(a(T,x),B=Vl(A,T.mode,B),B.return=T,T=B),m(T)):a(T,x)}return function(T,x,A,B){try{Xi=0;var ie=ze(T,x,A,B);return Fn=null,ie}catch(te){if(te===Wn||te===or)throw te;var je=Ot(29,te,null,T.mode);return je.lanes=B,je.return=T,je}}}var yn=_d(!0),bd=_d(!1),za=!1;function ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function no(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ae&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=ar(e),nd(e,null,a),t}return tr(e,i,t,a),ar(e)}function Zi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,du(e,a)}}function io(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var o=null,c=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};c===null?o=c=m:c=c.next=m,a=a.next}while(a!==null);c===null?o=c=t:c=c.next=t}else o=c=t;a={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var so=!1;function Ii(){if(so){var e=Pn;if(e!==null)throw e}}function Pi(e,t,a,i){so=!1;var o=e.updateQueue;za=!1;var c=o.firstBaseUpdate,m=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var w=y,N=w.next;w.next=null,m===null?c=N:m.next=N,m=w;var q=e.alternate;q!==null&&(q=q.updateQueue,y=q.lastBaseUpdate,y!==m&&(y===null?q.firstBaseUpdate=N:y.next=N,q.lastBaseUpdate=w))}if(c!==null){var H=o.baseState;m=0,q=N=w=null,y=c;do{var O=y.lane&-536870913,C=O!==y.lane;if(C?(be&O)===O:(i&O)===O){O!==0&&O===In&&(so=!0),q!==null&&(q=q.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ee=e,re=y;O=t;var ze=a;switch(re.tag){case 1:if(ee=re.payload,typeof ee=="function"){H=ee.call(ze,H,O);break e}H=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=re.payload,O=typeof ee=="function"?ee.call(ze,H,O):ee,O==null)break e;H=b({},H,O);break e;case 2:za=!0}}O=y.callback,O!==null&&(e.flags|=64,C&&(e.flags|=8192),C=o.callbacks,C===null?o.callbacks=[O]:C.push(O))}else C={lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},q===null?(N=q=C,w=H):q=q.next=C,m|=O;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;C=y,y=C.next,C.next=null,o.lastBaseUpdate=C,o.shared.pending=null}}while(!0);q===null&&(w=H),o.baseState=w,o.firstBaseUpdate=N,o.lastBaseUpdate=q,c===null&&(o.shared.lanes=0),Ga|=m,e.lanes=m,e.memoizedState=H}}function wd(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Sd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)wd(a[e],t)}var ei=E(null),hr=E(0);function Ed(e,t){e=Sa,W(hr,e),W(ei,t),Sa=e|t.baseLanes}function ro(){W(hr,Sa),W(ei,ei.current)}function lo(){Sa=hr.current,L(ei),L(hr)}var Rt=E(null),Qt=null;function Ba(e){var t=e.alternate;W(Xe,Xe.current&1),W(Rt,e),Qt===null&&(t===null||ei.current!==null||t.memoizedState!==null)&&(Qt=e)}function oo(e){W(Xe,Xe.current),W(Rt,e),Qt===null&&(Qt=e)}function xd(e){e.tag===22?(W(Xe,Xe.current),W(Rt,e),Qt===null&&(Qt=e)):La()}function La(){W(Xe,Xe.current),W(Rt,Rt.current)}function Ct(e){L(Rt),Qt===e&&(Qt=null),L(Xe)}var Xe=E(0);function fr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||gc(a)||vc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ma=0,me=null,De=null,Ie=null,mr=!1,ti=!1,_n=!1,gr=0,Wi=0,ai=null,mv=0;function Ve(){throw Error(l(321))}function co(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Nt(e[a],t[a]))return!1;return!0}function uo(e,t,a,i,o,c){return ma=c,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?lh:To,_n=!1,c=a(i,o),_n=!1,ti&&(c=Td(t,a,i,o)),jd(e),c}function jd(e){D.H=ts;var t=De!==null&&De.next!==null;if(ma=0,Ie=De=me=null,mr=!1,Wi=0,ai=null,t)throw Error(l(300));e===null||Pe||(e=e.dependencies,e!==null&&sr(e)&&(Pe=!0))}function Td(e,t,a,i){me=e;var o=0;do{if(ti&&(ai=null),Wi=0,ti=!1,25<=o)throw Error(l(301));if(o+=1,Ie=De=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}D.H=oh,c=t(a,i)}while(ti);return c}function gv(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Fi(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(me.flags|=1024),t}function ho(){var e=gr!==0;return gr=0,e}function fo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function mo(e){if(mr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}mr=!1}ma=0,Ie=De=me=null,ti=!1,Wi=gr=0,ai=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?me.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Je(){if(De===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Ie===null?me.memoizedState:Ie.next;if(t!==null)Ie=t,De=e;else{if(e===null)throw me.alternate===null?Error(l(467)):Error(l(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ie===null?me.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function vr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fi(e){var t=Wi;return Wi+=1,ai===null&&(ai=[]),e=vd(ai,e,t),t=me,(Ie===null?t.memoizedState:Ie.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?lh:To),e}function pr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fi(e);if(e.$$typeof===V)return ct(e)}throw Error(l(438,String(e)))}function go(e){var t=null,a=me.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=me.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=vr(),me.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=fe;return t.index++,a}function ga(e,t){return typeof t=="function"?t(e):t}function yr(e){var t=Je();return vo(t,De,e)}function vo(e,t,a){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=a;var o=e.baseQueue,c=i.pending;if(c!==null){if(o!==null){var m=o.next;o.next=c.next,c.next=m}t.baseQueue=o=c,i.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var y=m=null,w=null,N=t,q=!1;do{var H=N.lane&-536870913;if(H!==N.lane?(be&H)===H:(ma&H)===H){var O=N.revertLane;if(O===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),H===In&&(q=!0);else if((ma&O)===O){N=N.next,O===In&&(q=!0);continue}else H={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(y=w=H,m=c):w=w.next=H,me.lanes|=O,Ga|=O;H=N.action,_n&&a(c,H),c=N.hasEagerState?N.eagerState:a(c,H)}else O={lane:H,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},w===null?(y=w=O,m=c):w=w.next=O,me.lanes|=H,Ga|=H;N=N.next}while(N!==null&&N!==t);if(w===null?m=c:w.next=y,!Nt(c,e.memoizedState)&&(Pe=!0,q&&(a=Pn,a!==null)))throw a;e.memoizedState=c,e.baseState=m,e.baseQueue=w,i.lastRenderedState=c}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function po(e){var t=Je(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var i=a.dispatch,o=a.pending,c=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do c=e(c,m.action),m=m.next;while(m!==o);Nt(c,t.memoizedState)||(Pe=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),a.lastRenderedState=c}return[c,i]}function Ad(e,t,a){var i=me,o=Je(),c=Se;if(c){if(a===void 0)throw Error(l(407));a=a()}else a=t();var m=!Nt((De||o).memoizedState,a);if(m&&(o.memoizedState=a,Pe=!0),o=o.queue,bo(Rd.bind(null,i,o,e),[e]),o.getSnapshot!==t||m||Ie!==null&&Ie.memoizedState.tag&1){if(i.flags|=2048,ni(9,{destroy:void 0},Od.bind(null,i,o,a,t),null),qe===null)throw Error(l(349));c||(ma&127)!==0||Nd(i,t,a)}return a}function Nd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=me.updateQueue,t===null?(t=vr(),me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Od(e,t,a,i){t.value=a,t.getSnapshot=i,Cd(t)&&kd(e)}function Rd(e,t,a){return a(function(){Cd(t)&&kd(e)})}function Cd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Nt(e,a)}catch{return!0}}function kd(e){var t=un(e,2);t!==null&&xt(t,e,2)}function yo(e){var t=vt();if(typeof e=="function"){var a=e;if(e=a(),_n){Na(!0);try{a()}finally{Na(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t}function Dd(e,t,a,i){return e.baseState=a,vo(e,De,typeof i=="function"?i:ga)}function vv(e,t,a,i,o){if(wr(e))throw Error(l(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};D.T!==null?a(!0):c.isTransition=!1,i(c),a=t.pending,a===null?(c.next=t.pending=c,Ud(t,c)):(c.next=a.next,t.pending=a.next=c)}}function Ud(e,t){var a=t.action,i=t.payload,o=e.state;if(t.isTransition){var c=D.T,m={};D.T=m;try{var y=a(o,i),w=D.S;w!==null&&w(m,y),zd(e,t,y)}catch(N){_o(e,t,N)}finally{c!==null&&m.types!==null&&(c.types=m.types),D.T=c}}else try{c=a(o,i),zd(e,t,c)}catch(N){_o(e,t,N)}}function zd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){qd(e,t,i)},function(i){return _o(e,t,i)}):qd(e,t,a)}function qd(e,t,a){t.status="fulfilled",t.value=a,Md(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Ud(e,a)))}function _o(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Md(t),t=t.next;while(t!==i)}e.action=null}function Md(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bd(e,t){return t}function Ld(e,t){if(Se){var a=qe.formState;if(a!==null){e:{var i=me;if(Se){if(Be){t:{for(var o=Be,c=Kt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Xt(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){Be=Xt(o.nextSibling),i=o.data==="F!";break e}}Da(i)}i=!1}i&&(t=a[0])}}return a=vt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:t},a.queue=i,a=ih.bind(null,me,i),i.dispatch=a,i=yo(!1),c=jo.bind(null,me,!1,i.queue),i=vt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,a=vv.bind(null,me,o,c,a),o.dispatch=a,i.memoizedState=e,[t,a,!1]}function Hd(e){var t=Je();return $d(t,De,e)}function $d(e,t,a){if(t=vo(e,t,Bd)[0],e=yr(ga)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Fi(t)}catch(m){throw m===Wn?or:m}else i=t;t=Je();var o=t.queue,c=o.dispatch;return a!==t.memoizedState&&(me.flags|=2048,ni(9,{destroy:void 0},pv.bind(null,o,a),null)),[i,c,e]}function pv(e,t){e.action=t}function Gd(e){var t=Je(),a=De;if(a!==null)return $d(t,a,e);Je(),t=t.memoizedState,a=Je();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function ni(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=me.updateQueue,t===null&&(t=vr(),me.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Vd(){return Je().memoizedState}function _r(e,t,a,i){var o=vt();me.flags|=e,o.memoizedState=ni(1|t,{destroy:void 0},a,i===void 0?null:i)}function br(e,t,a,i){var o=Je();i=i===void 0?null:i;var c=o.memoizedState.inst;De!==null&&i!==null&&co(i,De.memoizedState.deps)?o.memoizedState=ni(t,c,a,i):(me.flags|=e,o.memoizedState=ni(1|t,c,a,i))}function Yd(e,t){_r(8390656,8,e,t)}function bo(e,t){br(2048,8,e,t)}function yv(e){me.flags|=4;var t=me.updateQueue;if(t===null)t=vr(),me.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Kd(e){var t=Je().memoizedState;return yv({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Qd(e,t){return br(4,2,e,t)}function Xd(e,t){return br(4,4,e,t)}function Jd(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zd(e,t,a){a=a!=null?a.concat([e]):null,br(4,4,Jd.bind(null,t,e),a)}function wo(){}function Id(e,t){var a=Je();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&co(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Pd(e,t){var a=Je();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&co(t,i[1]))return i[0];if(i=e(),_n){Na(!0);try{e()}finally{Na(!1)}}return a.memoizedState=[i,t],i}function So(e,t,a){return a===void 0||(ma&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Wh(),me.lanes|=e,Ga|=e,a)}function Wd(e,t,a,i){return Nt(a,t)?a:ei.current!==null?(e=So(e,a,i),Nt(e,t)||(Pe=!0),e):(ma&42)===0||(ma&1073741824)!==0&&(be&261930)===0?(Pe=!0,e.memoizedState=a):(e=Wh(),me.lanes|=e,Ga|=e,t)}function Fd(e,t,a,i,o){var c=Q.p;Q.p=c!==0&&8>c?c:8;var m=D.T,y={};D.T=y,jo(e,!1,t,a);try{var w=o(),N=D.S;if(N!==null&&N(y,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var q=fv(w,i);es(e,t,q,Ut(e))}else es(e,t,i,Ut(e))}catch(H){es(e,t,{then:function(){},status:"rejected",reason:H},Ut())}finally{Q.p=c,m!==null&&y.types!==null&&(m.types=y.types),D.T=m}}function _v(){}function Eo(e,t,a,i){if(e.tag!==5)throw Error(l(476));var o=eh(e).queue;Fd(e,o,t,ae,a===null?_v:function(){return th(e),a(i)})}function eh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function th(e){var t=eh(e);t.next===null&&(t=e.alternate.memoizedState),es(e,t.next.queue,{},Ut())}function xo(){return ct(ps)}function ah(){return Je().memoizedState}function nh(){return Je().memoizedState}function bv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ut();e=qa(a);var i=Ma(t,e,a);i!==null&&(xt(i,t,a),Zi(i,t,a)),t={cache:Wl()},e.payload=t;return}t=t.return}}function wv(e,t,a){var i=Ut();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wr(e)?sh(t,a):(a=$l(e,t,a,i),a!==null&&(xt(a,e,i),rh(a,t,i)))}function ih(e,t,a){var i=Ut();es(e,t,a,i)}function es(e,t,a,i){var o={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wr(e))sh(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,y=c(m,a);if(o.hasEagerState=!0,o.eagerState=y,Nt(y,m))return tr(e,t,o,0),qe===null&&er(),!1}catch{}if(a=$l(e,t,o,i),a!==null)return xt(a,e,i),rh(a,t,i),!0}return!1}function jo(e,t,a,i){if(i={lane:2,revertLane:nc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},wr(e)){if(t)throw Error(l(479))}else t=$l(e,a,i,2),t!==null&&xt(t,e,2)}function wr(e){var t=e.alternate;return e===me||t!==null&&t===me}function sh(e,t){ti=mr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function rh(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,du(e,a)}}var ts={readContext:ct,use:pr,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};ts.useEffectEvent=Ve;var lh={readContext:ct,use:pr,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:Yd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,_r(4194308,4,Jd.bind(null,t,e),a)},useLayoutEffect:function(e,t){return _r(4194308,4,e,t)},useInsertionEffect:function(e,t){_r(4,2,e,t)},useMemo:function(e,t){var a=vt();t=t===void 0?null:t;var i=e();if(_n){Na(!0);try{e()}finally{Na(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=vt();if(a!==void 0){var o=a(t);if(_n){Na(!0);try{a(t)}finally{Na(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=wv.bind(null,me,e),[i.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:function(e){e=yo(e);var t=e.queue,a=ih.bind(null,me,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:wo,useDeferredValue:function(e,t){var a=vt();return So(a,e,t)},useTransition:function(){var e=yo(!1);return e=Fd.bind(null,me,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=me,o=vt();if(Se){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),qe===null)throw Error(l(349));(be&127)!==0||Nd(i,t,a)}o.memoizedState=a;var c={value:a,getSnapshot:t};return o.queue=c,Yd(Rd.bind(null,i,c,e),[e]),i.flags|=2048,ni(9,{destroy:void 0},Od.bind(null,i,c,a,t),null),a},useId:function(){var e=vt(),t=qe.identifierPrefix;if(Se){var a=aa,i=ta;a=(i&~(1<<32-At(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=gr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=mv++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xo,useFormState:Ld,useActionState:Ld,useOptimistic:function(e){var t=vt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=jo.bind(null,me,!0,a),a.dispatch=t,[e,t]},useMemoCache:go,useCacheRefresh:function(){return vt().memoizedState=bv.bind(null,me)},useEffectEvent:function(e){var t=vt(),a={impl:e};return t.memoizedState=a,function(){if((Ae&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},To={readContext:ct,use:pr,useCallback:Id,useContext:ct,useEffect:bo,useImperativeHandle:Zd,useInsertionEffect:Qd,useLayoutEffect:Xd,useMemo:Pd,useReducer:yr,useRef:Vd,useState:function(){return yr(ga)},useDebugValue:wo,useDeferredValue:function(e,t){var a=Je();return Wd(a,De.memoizedState,e,t)},useTransition:function(){var e=yr(ga)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Fi(e),t]},useSyncExternalStore:Ad,useId:ah,useHostTransitionStatus:xo,useFormState:Hd,useActionState:Hd,useOptimistic:function(e,t){var a=Je();return Dd(a,De,e,t)},useMemoCache:go,useCacheRefresh:nh};To.useEffectEvent=Kd;var oh={readContext:ct,use:pr,useCallback:Id,useContext:ct,useEffect:bo,useImperativeHandle:Zd,useInsertionEffect:Qd,useLayoutEffect:Xd,useMemo:Pd,useReducer:po,useRef:Vd,useState:function(){return po(ga)},useDebugValue:wo,useDeferredValue:function(e,t){var a=Je();return De===null?So(a,e,t):Wd(a,De.memoizedState,e,t)},useTransition:function(){var e=po(ga)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Fi(e),t]},useSyncExternalStore:Ad,useId:ah,useHostTransitionStatus:xo,useFormState:Gd,useActionState:Gd,useOptimistic:function(e,t){var a=Je();return De!==null?Dd(a,De,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:go,useCacheRefresh:nh};oh.useEffectEvent=Kd;function Ao(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var No={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Ut(),o=qa(i);o.payload=t,a!=null&&(o.callback=a),t=Ma(e,o,i),t!==null&&(xt(t,e,i),Zi(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Ut(),o=qa(i);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Ma(e,o,i),t!==null&&(xt(t,e,i),Zi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ut(),i=qa(a);i.tag=2,t!=null&&(i.callback=t),t=Ma(e,i,a),t!==null&&(xt(t,e,a),Zi(t,e,a))}};function ch(e,t,a,i,o,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,m):t.prototype&&t.prototype.isPureReactComponent?!$i(a,i)||!$i(o,c):!0}function uh(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function bn(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function dh(e){Fs(e)}function hh(e){console.error(e)}function fh(e){Fs(e)}function Sr(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function mh(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Oo(e,t,a){return a=qa(a),a.tag=3,a.payload={element:null},a.callback=function(){Sr(e,t)},a}function gh(e){return e=qa(e),e.tag=3,e}function vh(e,t,a,i){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var c=i.value;e.payload=function(){return o(c)},e.callback=function(){mh(t,a,i)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){mh(t,a,i),typeof o!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function Sv(e,t,a,i,o){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&Zn(t,a,o,!0),a=Rt.current,a!==null){switch(a.tag){case 31:case 13:return Qt===null?Ur():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=o,i===cr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),ec(e,i,o)),!1;case 22:return a.flags|=65536,i===cr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),ec(e,i,o)),!1}throw Error(l(435,a.tag))}return ec(e,i,o),Ur(),!1}if(Se)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==Xl&&(e=Error(l(422),{cause:i}),Yi(Gt(e,a)))):(i!==Xl&&(t=Error(l(423),{cause:i}),Yi(Gt(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Gt(i,a),o=Oo(e.stateNode,i,o),io(e,o),Ye!==4&&(Ye=2)),!1;var c=Error(l(520),{cause:i});if(c=Gt(c,a),cs===null?cs=[c]:cs.push(c),Ye!==4&&(Ye=2),t===null)return!0;i=Gt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Oo(a.stateNode,i,e),io(a,e),!1;case 1:if(t=a.type,c=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Va===null||!Va.has(c))))return a.flags|=65536,o&=-o,a.lanes|=o,o=gh(o),vh(o,e,a,i),io(a,o),!1}a=a.return}while(a!==null);return!1}var Ro=Error(l(461)),Pe=!1;function ut(e,t,a,i){t.child=e===null?bd(t,null,a,i):yn(t,e.child,a,i)}function ph(e,t,a,i,o){a=a.render;var c=t.ref;if("ref"in i){var m={};for(var y in i)y!=="ref"&&(m[y]=i[y])}else m=i;return mn(t),i=uo(e,t,a,m,c,o),y=ho(),e!==null&&!Pe?(fo(e,t,o),va(e,t,o)):(Se&&y&&Kl(t),t.flags|=1,ut(e,t,i,o),t.child)}function yh(e,t,a,i,o){if(e===null){var c=a.type;return typeof c=="function"&&!Gl(c)&&c.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=c,_h(e,t,c,i,o)):(e=nr(a.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Bo(e,o)){var m=c.memoizedProps;if(a=a.compare,a=a!==null?a:$i,a(m,i)&&e.ref===t.ref)return va(e,t,o)}return t.flags|=1,e=ua(c,i),e.ref=t.ref,e.return=t,t.child=e}function _h(e,t,a,i,o){if(e!==null){var c=e.memoizedProps;if($i(c,i)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=i=c,Bo(e,o))(e.flags&131072)!==0&&(Pe=!0);else return t.lanes=e.lanes,va(e,t,o)}return Co(e,t,a,i,o)}function bh(e,t,a,i){var o=i.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|a:a,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~c}else i=0,t.child=null;return wh(e,t,c,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&lr(t,c!==null?c.cachePool:null),c!==null?Ed(t,c):ro(),xd(t);else return i=t.lanes=536870912,wh(e,t,c!==null?c.baseLanes|a:a,a,i)}else c!==null?(lr(t,c.cachePool),Ed(t,c),La(),t.memoizedState=null):(e!==null&&lr(t,null),ro(),La());return ut(e,t,o,a),t.child}function as(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function wh(e,t,a,i,o){var c=eo();return c=c===null?null:{parent:Ze._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&lr(t,null),ro(),xd(t),e!==null&&Zn(e,t,i,!0),t.childLanes=o,null}function Er(e,t){return t=jr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Sh(e,t,a){return yn(t,e.child,null,a),e=Er(t,t.pendingProps),e.flags|=2,Ct(t),t.memoizedState=null,e}function Ev(e,t,a){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Se){if(i.mode==="hidden")return e=Er(t,i),t.lanes=536870912,as(null,e);if(oo(t),(e=Be)?(e=zf(e,Kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:ta,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},a=sd(e),a.return=t,t.child=a,ot=t,Be=null)):e=null,e===null)throw Da(t);return t.lanes=536870912,null}return Er(t,i)}var c=e.memoizedState;if(c!==null){var m=c.dehydrated;if(oo(t),o)if(t.flags&256)t.flags&=-257,t=Sh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Pe||Zn(e,t,a,!1),o=(a&e.childLanes)!==0,Pe||o){if(i=qe,i!==null&&(m=hu(i,a),m!==0&&m!==c.retryLane))throw c.retryLane=m,un(e,m),xt(i,e,m),Ro;Ur(),t=Sh(e,t,a)}else e=c.treeContext,Be=Xt(m.nextSibling),ot=t,Se=!0,ka=null,Kt=!1,e!==null&&od(t,e),t=Er(t,i),t.flags|=4096;return t}return e=ua(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function xr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Co(e,t,a,i,o){return mn(t),a=uo(e,t,a,i,void 0,o),i=ho(),e!==null&&!Pe?(fo(e,t,o),va(e,t,o)):(Se&&i&&Kl(t),t.flags|=1,ut(e,t,a,o),t.child)}function Eh(e,t,a,i,o,c){return mn(t),t.updateQueue=null,a=Td(t,i,a,o),jd(e),i=ho(),e!==null&&!Pe?(fo(e,t,c),va(e,t,c)):(Se&&i&&Kl(t),t.flags|=1,ut(e,t,a,c),t.child)}function xh(e,t,a,i,o){if(mn(t),t.stateNode===null){var c=Kn,m=a.contextType;typeof m=="object"&&m!==null&&(c=ct(m)),c=new a(i,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=No,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=i,c.state=t.memoizedState,c.refs={},ao(t),m=a.contextType,c.context=typeof m=="object"&&m!==null?ct(m):Kn,c.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Ao(t,a,m,i),c.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&No.enqueueReplaceState(c,c.state,null),Pi(t,i,c,o),Ii(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){c=t.stateNode;var y=t.memoizedProps,w=bn(a,y);c.props=w;var N=c.context,q=a.contextType;m=Kn,typeof q=="object"&&q!==null&&(m=ct(q));var H=a.getDerivedStateFromProps;q=typeof H=="function"||typeof c.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,q||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(y||N!==m)&&uh(t,c,i,m),za=!1;var O=t.memoizedState;c.state=O,Pi(t,i,c,o),Ii(),N=t.memoizedState,y||O!==N||za?(typeof H=="function"&&(Ao(t,a,H,i),N=t.memoizedState),(w=za||ch(t,a,w,i,O,N,m))?(q||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=N),c.props=i,c.state=N,c.context=m,i=w):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{c=t.stateNode,no(e,t),m=t.memoizedProps,q=bn(a,m),c.props=q,H=t.pendingProps,O=c.context,N=a.contextType,w=Kn,typeof N=="object"&&N!==null&&(w=ct(N)),y=a.getDerivedStateFromProps,(N=typeof y=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==H||O!==w)&&uh(t,c,i,w),za=!1,O=t.memoizedState,c.state=O,Pi(t,i,c,o),Ii();var C=t.memoizedState;m!==H||O!==C||za||e!==null&&e.dependencies!==null&&sr(e.dependencies)?(typeof y=="function"&&(Ao(t,a,y,i),C=t.memoizedState),(q=za||ch(t,a,q,i,O,C,w)||e!==null&&e.dependencies!==null&&sr(e.dependencies))?(N||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(i,C,w),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(i,C,w)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=C),c.props=i,c.state=C,c.context=w,i=q):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&O===e.memoizedState||(t.flags|=1024),i=!1)}return c=i,xr(e,t),i=(t.flags&128)!==0,c||i?(c=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&i?(t.child=yn(t,e.child,null,o),t.child=yn(t,null,a,o)):ut(e,t,a,o),t.memoizedState=c.state,e=t.child):e=va(e,t,o),e}function jh(e,t,a,i){return hn(),t.flags|=256,ut(e,t,a,i),t.child}var ko={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Do(e){return{baseLanes:e,cachePool:md()}}function Uo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Dt),e}function Th(e,t,a){var i=t.pendingProps,o=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(o?Ba(t):La(),(e=Be)?(e=zf(e,Kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:ta,overflow:aa}:null,retryLane:536870912,hydrationErrors:null},a=sd(e),a.return=t,t.child=a,ot=t,Be=null)):e=null,e===null)throw Da(t);return vc(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,o?(La(),o=t.mode,y=jr({mode:"hidden",children:y},o),i=dn(i,o,a,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=Do(a),i.childLanes=Uo(e,m,a),t.memoizedState=ko,as(null,i)):(Ba(t),zo(t,y))}var w=e.memoizedState;if(w!==null&&(y=w.dehydrated,y!==null)){if(c)t.flags&256?(Ba(t),t.flags&=-257,t=qo(e,t,a)):t.memoizedState!==null?(La(),t.child=e.child,t.flags|=128,t=null):(La(),y=i.fallback,o=t.mode,i=jr({mode:"visible",children:i.children},o),y=dn(y,o,a,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,yn(t,e.child,null,a),i=t.child,i.memoizedState=Do(a),i.childLanes=Uo(e,m,a),t.memoizedState=ko,t=as(null,i));else if(Ba(t),vc(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var N=m.dgst;m=N,i=Error(l(419)),i.stack="",i.digest=m,Yi({value:i,source:null,stack:null}),t=qo(e,t,a)}else if(Pe||Zn(e,t,a,!1),m=(a&e.childLanes)!==0,Pe||m){if(m=qe,m!==null&&(i=hu(m,a),i!==0&&i!==w.retryLane))throw w.retryLane=i,un(e,i),xt(m,e,i),Ro;gc(y)||Ur(),t=qo(e,t,a)}else gc(y)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Be=Xt(y.nextSibling),ot=t,Se=!0,ka=null,Kt=!1,e!==null&&od(t,e),t=zo(t,i.children),t.flags|=4096);return t}return o?(La(),y=i.fallback,o=t.mode,w=e.child,N=w.sibling,i=ua(w,{mode:"hidden",children:i.children}),i.subtreeFlags=w.subtreeFlags&65011712,N!==null?y=ua(N,y):(y=dn(y,o,a,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,as(null,i),i=t.child,y=e.child.memoizedState,y===null?y=Do(a):(o=y.cachePool,o!==null?(w=Ze._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=md(),y={baseLanes:y.baseLanes|a,cachePool:o}),i.memoizedState=y,i.childLanes=Uo(e,m,a),t.memoizedState=ko,as(e.child,i)):(Ba(t),a=e.child,e=a.sibling,a=ua(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function zo(e,t){return t=jr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function jr(e,t){return e=Ot(22,e,null,t),e.lanes=0,e}function qo(e,t,a){return yn(t,e.child,null,a),e=zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ah(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Il(e.return,t,a)}function Mo(e,t,a,i,o,c){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:o,treeForkCount:c}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=i,m.tail=a,m.tailMode=o,m.treeForkCount=c)}function Nh(e,t,a){var i=t.pendingProps,o=i.revealOrder,c=i.tail;i=i.children;var m=Xe.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,W(Xe,m),ut(e,t,i,a),i=Se?Vi:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ah(e,a,t);else if(e.tag===19)Ah(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&fr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Mo(t,!1,o,a,c,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&fr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Mo(t,!0,a,null,c,i);break;case"together":Mo(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function va(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ga|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Zn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=ua(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ua(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Bo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&sr(e)))}function xv(e,t,a){switch(t.tag){case 3:$(t,t.stateNode.containerInfo),Ua(t,Ze,e.memoizedState.cache),hn();break;case 27:case 5:Qe(t);break;case 4:$(t,t.stateNode.containerInfo);break;case 10:Ua(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,oo(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ba(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Th(e,t,a):(Ba(t),e=va(e,t,a),e!==null?e.sibling:null);Ba(t);break;case 19:var o=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(Zn(e,t,a,!1),i=(a&t.childLanes)!==0),o){if(i)return Nh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),W(Xe,Xe.current),i)break;return null;case 22:return t.lanes=0,bh(e,t,a,t.pendingProps);case 24:Ua(t,Ze,e.memoizedState.cache)}return va(e,t,a)}function Oh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!Bo(e,a)&&(t.flags&128)===0)return Pe=!1,xv(e,t,a);Pe=(e.flags&131072)!==0}else Pe=!1,Se&&(t.flags&1048576)!==0&&ld(t,Vi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=vn(t.elementType),t.type=e,typeof e=="function")Gl(e)?(i=bn(e,i),t.tag=1,t=xh(null,t,e,i,a)):(t.tag=0,t=Co(null,t,e,i,a));else{if(e!=null){var o=e.$$typeof;if(o===M){t.tag=11,t=ph(null,t,e,i,a);break e}else if(o===K){t.tag=14,t=yh(null,t,e,i,a);break e}}throw t=at(e)||e,Error(l(306,t,""))}}return t;case 0:return Co(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,o=bn(i,t.pendingProps),xh(e,t,i,o,a);case 3:e:{if($(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var c=t.memoizedState;o=c.element,no(e,t),Pi(t,i,null,a);var m=t.memoizedState;if(i=m.cache,Ua(t,Ze,i),i!==c.cache&&Pl(t,[Ze],a,!0),Ii(),i=m.element,c.isDehydrated)if(c={element:i,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=jh(e,t,i,a);break e}else if(i!==o){o=Gt(Error(l(424)),t),Yi(o),t=jh(e,t,i,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Be=Xt(e.firstChild),ot=t,Se=!0,ka=null,Kt=!0,a=bd(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(hn(),i===o){t=va(e,t,a);break e}ut(e,t,i,a)}t=t.child}return t;case 26:return xr(e,t),e===null?(a=$f(t.type,null,t.pendingProps,null))?t.memoizedState=a:Se||(a=t.type,e=t.pendingProps,i=$r(de.current).createElement(a),i[lt]=t,i[yt]=e,dt(i,a,e),nt(i),t.stateNode=i):t.memoizedState=$f(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Qe(t),e===null&&Se&&(i=t.stateNode=Bf(t.type,t.pendingProps,de.current),ot=t,Kt=!0,o=Be,Xa(t.type)?(pc=o,Be=Xt(i.firstChild)):Be=o),ut(e,t,t.pendingProps.children,a),xr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((o=i=Be)&&(i=ep(i,t.type,t.pendingProps,Kt),i!==null?(t.stateNode=i,ot=t,Be=Xt(i.firstChild),Kt=!1,o=!0):o=!1),o||Da(t)),Qe(t),o=t.type,c=t.pendingProps,m=e!==null?e.memoizedProps:null,i=c.children,hc(o,c)?i=null:m!==null&&hc(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=uo(e,t,gv,null,null,a),ps._currentValue=o),xr(e,t),ut(e,t,i,a),t.child;case 6:return e===null&&Se&&((e=a=Be)&&(a=tp(a,t.pendingProps,Kt),a!==null?(t.stateNode=a,ot=t,Be=null,e=!0):e=!1),e||Da(t)),null;case 13:return Th(e,t,a);case 4:return $(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=yn(t,null,i,a):ut(e,t,i,a),t.child;case 11:return ph(e,t,t.type,t.pendingProps,a);case 7:return ut(e,t,t.pendingProps,a),t.child;case 8:return ut(e,t,t.pendingProps.children,a),t.child;case 12:return ut(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Ua(t,t.type,i.value),ut(e,t,i.children,a),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,mn(t),o=ct(o),i=i(o),t.flags|=1,ut(e,t,i,a),t.child;case 14:return yh(e,t,t.type,t.pendingProps,a);case 15:return _h(e,t,t.type,t.pendingProps,a);case 19:return Nh(e,t,a);case 31:return Ev(e,t,a);case 22:return bh(e,t,a,t.pendingProps);case 24:return mn(t),i=ct(Ze),e===null?(o=eo(),o===null&&(o=qe,c=Wl(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=a),o=c),t.memoizedState={parent:i,cache:o},ao(t),Ua(t,Ze,o)):((e.lanes&a)!==0&&(no(e,t),Pi(t,null,null,a),Ii()),o=e.memoizedState,c=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Ua(t,Ze,i)):(i=c.cache,Ua(t,Ze,i),i!==o.cache&&Pl(t,[Ze],a,!0))),ut(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function pa(e){e.flags|=4}function Lo(e,t,a,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(af())e.flags|=8192;else throw pn=cr,to}else e.flags&=-16777217}function Rh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qf(t))if(af())e.flags|=8192;else throw pn=cr,to}function Tr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?cu():536870912,e.lanes|=t,li|=t)}function ns(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function jv(e,t,a){var i=t.pendingProps;switch(Ql(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Le(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),fa(Ze),se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Jn(t)?pa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Jl())),Le(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(pa(t),c!==null?(Le(t),Rh(t,c)):(Le(t),Lo(t,o,null,i,a))):c?c!==e.memoizedState?(pa(t),Le(t),Rh(t,c)):(Le(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&pa(t),Le(t),Lo(t,o,e,i,a)),null;case 27:if(st(t),a=de.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&pa(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Le(t),null}e=F.current,Jn(t)?cd(t):(e=Bf(o,i,a),t.stateNode=e,pa(t))}return Le(t),null;case 5:if(st(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&pa(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return Le(t),null}if(c=F.current,Jn(t))cd(t);else{var m=$r(de.current);switch(c){case 1:c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=m.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof i.is=="string"?m.createElement("select",{is:i.is}):m.createElement("select"),i.multiple?c.multiple=!0:i.size&&(c.size=i.size);break;default:c=typeof i.is=="string"?m.createElement(o,{is:i.is}):m.createElement(o)}}c[lt]=t,c[yt]=i;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)c.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=c;e:switch(dt(c,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&pa(t)}}return Le(t),Lo(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&pa(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=de.current,Jn(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,o=ot,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[lt]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Af(e.nodeValue,a)),e||Da(t,!0)}else e=$r(e).createTextNode(i),e[lt]=t,t.stateNode=e}return Le(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=Jn(t),a!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[lt]=t}else hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),e=!1}else a=Jl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(Ct(t),t):(Ct(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Le(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Jn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[lt]=t}else hn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Le(t),o=!1}else o=Jl(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ct(t),t):(Ct(t),null)}return Ct(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Tr(t,t.updateQueue),Le(t),null);case 4:return se(),e===null&&lc(t.stateNode.containerInfo),Le(t),null;case 10:return fa(t.type),Le(t),null;case 19:if(L(Xe),i=t.memoizedState,i===null)return Le(t),null;if(o=(t.flags&128)!==0,c=i.rendering,c===null)if(o)ns(i,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=fr(e),c!==null){for(t.flags|=128,ns(i,!1),e=c.updateQueue,t.updateQueue=e,Tr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)id(a,e),a=a.sibling;return W(Xe,Xe.current&1|2),Se&&da(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&mt()>Cr&&(t.flags|=128,o=!0,ns(i,!1),t.lanes=4194304)}else{if(!o)if(e=fr(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Tr(t,e),ns(i,!0),i.tail===null&&i.tailMode==="hidden"&&!c.alternate&&!Se)return Le(t),null}else 2*mt()-i.renderingStartTime>Cr&&a!==536870912&&(t.flags|=128,o=!0,ns(i,!1),t.lanes=4194304);i.isBackwards?(c.sibling=t.child,t.child=c):(e=i.last,e!==null?e.sibling=c:t.child=c,i.last=c)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=mt(),e.sibling=null,a=Xe.current,W(Xe,o?a&1|2:a&1),Se&&da(t,i.treeForkCount),e):(Le(t),null);case 22:case 23:return Ct(t),lo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),a=t.updateQueue,a!==null&&Tr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&L(gn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),fa(Ze),Le(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function Tv(e,t){switch(Ql(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fa(Ze),se(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return st(t),null;case 31:if(t.memoizedState!==null){if(Ct(t),t.alternate===null)throw Error(l(340));hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ct(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Xe),null;case 4:return se(),null;case 10:return fa(t.type),null;case 22:case 23:return Ct(t),lo(),e!==null&&L(gn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fa(Ze),null;case 25:return null;default:return null}}function Ch(e,t){switch(Ql(t),t.tag){case 3:fa(Ze),se();break;case 26:case 27:case 5:st(t);break;case 4:se();break;case 31:t.memoizedState!==null&&Ct(t);break;case 13:Ct(t);break;case 19:L(Xe);break;case 10:fa(t.type);break;case 22:case 23:Ct(t),lo(),e!==null&&L(gn);break;case 24:fa(Ze)}}function is(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){i=void 0;var c=a.create,m=a.inst;i=c(),m.destroy=i}a=a.next}while(a!==o)}}catch(y){Ce(t,t.return,y)}}function Ha(e,t,a){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var c=o.next;i=c;do{if((i.tag&e)===e){var m=i.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,o=t;var w=a,N=y;try{N()}catch(q){Ce(o,w,q)}}}i=i.next}while(i!==c)}}catch(q){Ce(t,t.return,q)}}function kh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Sd(t,a)}catch(i){Ce(e,e.return,i)}}}function Dh(e,t,a){a.props=bn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){Ce(e,t,i)}}function ss(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(o){Ce(e,t,o)}}function na(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(o){Ce(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){Ce(e,t,o)}else a.current=null}function Uh(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(o){Ce(e,e.return,o)}}function Ho(e,t,a){try{var i=e.stateNode;Jv(i,e.type,a,t),i[yt]=t}catch(o){Ce(e,e.return,o)}}function zh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Xa(e.type)||e.tag===4}function $o(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Xa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Go(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=oa));else if(i!==4&&(i===27&&Xa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Go(e,t,a),e=e.sibling;e!==null;)Go(e,t,a),e=e.sibling}function Ar(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Xa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ar(e,t,a),e=e.sibling;e!==null;)Ar(e,t,a),e=e.sibling}function qh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);dt(t,i,a),t[lt]=e,t[yt]=a}catch(c){Ce(e,e.return,c)}}var ya=!1,We=!1,Vo=!1,Mh=typeof WeakSet=="function"?WeakSet:Set,it=null;function Av(e,t){if(e=e.containerInfo,uc=Jr,e=Zu(e),zl(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var o=i.anchorOffset,c=i.focusNode;i=i.focusOffset;try{a.nodeType,c.nodeType}catch{a=null;break e}var m=0,y=-1,w=-1,N=0,q=0,H=e,O=null;t:for(;;){for(var C;H!==a||o!==0&&H.nodeType!==3||(y=m+o),H!==c||i!==0&&H.nodeType!==3||(w=m+i),H.nodeType===3&&(m+=H.nodeValue.length),(C=H.firstChild)!==null;)O=H,H=C;for(;;){if(H===e)break t;if(O===a&&++N===o&&(y=m),O===c&&++q===i&&(w=m),(C=H.nextSibling)!==null)break;H=O,O=H.parentNode}H=C}a=y===-1||w===-1?null:{start:y,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(dc={focusedElem:e,selectionRange:a},Jr=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,a=t,o=c.memoizedProps,c=c.memoizedState,i=a.stateNode;try{var ee=bn(a.type,o);e=i.getSnapshotBeforeUpdate(ee,c),i.__reactInternalSnapshotBeforeUpdate=e}catch(re){Ce(a,a.return,re)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)mc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function Bh(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:ba(e,a),i&4&&is(5,a);break;case 1:if(ba(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Ce(a,a.return,m)}else{var o=bn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ce(a,a.return,m)}}i&64&&kh(a),i&512&&ss(a,a.return);break;case 3:if(ba(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Sd(e,t)}catch(m){Ce(a,a.return,m)}}break;case 27:t===null&&i&4&&qh(a);case 26:case 5:ba(e,a),t===null&&i&4&&Uh(a),i&512&&ss(a,a.return);break;case 12:ba(e,a);break;case 31:ba(e,a),i&4&&$h(e,a);break;case 13:ba(e,a),i&4&&Gh(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=qv.bind(null,a),ap(e,a))));break;case 22:if(i=a.memoizedState!==null||ya,!i){t=t!==null&&t.memoizedState!==null||We,o=ya;var c=We;ya=i,(We=t)&&!c?wa(e,a,(a.subtreeFlags&8772)!==0):ba(e,a),ya=o,We=c}break;case 30:break;default:ba(e,a)}}function Lh(e){var t=e.alternate;t!==null&&(e.alternate=null,Lh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&yl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,bt=!1;function _a(e,t,a){for(a=a.child;a!==null;)Hh(e,t,a),a=a.sibling}function Hh(e,t,a){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(Oi,a)}catch{}switch(a.tag){case 26:We||na(a,t),_a(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||na(a,t);var i=He,o=bt;Xa(a.type)&&(He=a.stateNode,bt=!1),_a(e,t,a),ms(a.stateNode),He=i,bt=o;break;case 5:We||na(a,t);case 6:if(i=He,o=bt,He=null,_a(e,t,a),He=i,bt=o,He!==null)if(bt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(c){Ce(a,t,c)}else try{He.removeChild(a.stateNode)}catch(c){Ce(a,t,c)}break;case 18:He!==null&&(bt?(e=He,Df(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),gi(e)):Df(He,a.stateNode));break;case 4:i=He,o=bt,He=a.stateNode.containerInfo,bt=!0,_a(e,t,a),He=i,bt=o;break;case 0:case 11:case 14:case 15:Ha(2,a,t),We||Ha(4,a,t),_a(e,t,a);break;case 1:We||(na(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&Dh(a,t,i)),_a(e,t,a);break;case 21:_a(e,t,a);break;case 22:We=(i=We)||a.memoizedState!==null,_a(e,t,a),We=i;break;default:_a(e,t,a)}}function $h(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{gi(e)}catch(a){Ce(t,t.return,a)}}}function Gh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gi(e)}catch(a){Ce(t,t.return,a)}}function Nv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Mh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Mh),t;default:throw Error(l(435,e.tag))}}function Nr(e,t){var a=Nv(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var o=Mv.bind(null,e,i);i.then(o,o)}})}function wt(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var o=a[i],c=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(Xa(y.type)){He=y.stateNode,bt=!1;break e}break;case 5:He=y.stateNode,bt=!1;break e;case 3:case 4:He=y.stateNode.containerInfo,bt=!0;break e}y=y.return}if(He===null)throw Error(l(160));Hh(c,m,o),He=null,bt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Vh(t,e),t=t.sibling}var It=null;function Vh(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),St(e),i&4&&(Ha(3,e,e.return),is(3,e),Ha(5,e,e.return));break;case 1:wt(t,e),St(e),i&512&&(We||a===null||na(a,a.return)),i&64&&ya&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var o=It;if(wt(t,e),St(e),i&512&&(We||a===null||na(a,a.return)),i&4){var c=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":c=o.getElementsByTagName("title")[0],(!c||c[ki]||c[lt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(i),o.head.insertBefore(c,o.querySelector("head > title"))),dt(c,i,a),c[lt]=e,nt(c),i=c;break e;case"link":var m=Yf("link","href",o).get(i+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(c=m[y],c.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&c.getAttribute("rel")===(a.rel==null?null:a.rel)&&c.getAttribute("title")===(a.title==null?null:a.title)&&c.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}c=o.createElement(i),dt(c,i,a),o.head.appendChild(c);break;case"meta":if(m=Yf("meta","content",o).get(i+(a.content||""))){for(y=0;y<m.length;y++)if(c=m[y],c.getAttribute("content")===(a.content==null?null:""+a.content)&&c.getAttribute("name")===(a.name==null?null:a.name)&&c.getAttribute("property")===(a.property==null?null:a.property)&&c.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&c.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}c=o.createElement(i),dt(c,i,a),o.head.appendChild(c);break;default:throw Error(l(468,i))}c[lt]=e,nt(c),i=c}e.stateNode=i}else Kf(o,e.type,e.stateNode);else e.stateNode=Vf(o,i,e.memoizedProps);else c!==i?(c===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):c.count--,i===null?Kf(o,e.type,e.stateNode):Vf(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Ho(e,e.memoizedProps,a.memoizedProps)}break;case 27:wt(t,e),St(e),i&512&&(We||a===null||na(a,a.return)),a!==null&&i&4&&Ho(e,e.memoizedProps,a.memoizedProps);break;case 5:if(wt(t,e),St(e),i&512&&(We||a===null||na(a,a.return)),e.flags&32){o=e.stateNode;try{Bn(o,"")}catch(ee){Ce(e,e.return,ee)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Ho(e,o,a!==null?a.memoizedProps:o)),i&1024&&(Vo=!0);break;case 6:if(wt(t,e),St(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(ee){Ce(e,e.return,ee)}}break;case 3:if(Yr=null,o=It,It=Gr(t.containerInfo),wt(t,e),It=o,St(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{gi(t.containerInfo)}catch(ee){Ce(e,e.return,ee)}Vo&&(Vo=!1,Yh(e));break;case 4:i=It,It=Gr(e.stateNode.containerInfo),wt(t,e),St(e),It=i;break;case 12:wt(t,e),St(e);break;case 31:wt(t,e),St(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nr(e,i)));break;case 13:wt(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rr=mt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nr(e,i)));break;case 22:o=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,N=ya,q=We;if(ya=N||o,We=q||w,wt(t,e),We=q,ya=N,St(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||w||ya||We||wn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(c=w.stateNode,o)m=c.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=w.stateNode;var H=w.memoizedProps.style,O=H!=null&&H.hasOwnProperty("display")?H.display:null;y.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(ee){Ce(w,w.return,ee)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(ee){Ce(w,w.return,ee)}}}else if(t.tag===18){if(a===null){w=t;try{var C=w.stateNode;o?Uf(C,!0):Uf(w.stateNode,!1)}catch(ee){Ce(w,w.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,Nr(e,a))));break;case 19:wt(t,e),St(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nr(e,i)));break;case 30:break;case 21:break;default:wt(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(zh(i)){a=i;break}i=i.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,c=$o(e);Ar(e,c,o);break;case 5:var m=a.stateNode;a.flags&32&&(Bn(m,""),a.flags&=-33);var y=$o(e);Ar(e,y,m);break;case 3:case 4:var w=a.stateNode.containerInfo,N=$o(e);Go(e,N,w);break;default:throw Error(l(161))}}catch(q){Ce(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Yh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ba(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bh(e,t.alternate,t),t=t.sibling}function wn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ha(4,t,t.return),wn(t);break;case 1:na(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Dh(t,t.return,a),wn(t);break;case 27:ms(t.stateNode);case 26:case 5:na(t,t.return),wn(t);break;case 22:t.memoizedState===null&&wn(t);break;case 30:wn(t);break;default:wn(t)}e=e.sibling}}function wa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,c=t,m=c.flags;switch(c.tag){case 0:case 11:case 15:wa(o,c,a),is(4,c);break;case 1:if(wa(o,c,a),i=c,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(N){Ce(i,i.return,N)}if(i=c,o=i.updateQueue,o!==null){var y=i.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)wd(w[o],y)}catch(N){Ce(i,i.return,N)}}a&&m&64&&kh(c),ss(c,c.return);break;case 27:qh(c);case 26:case 5:wa(o,c,a),a&&i===null&&m&4&&Uh(c),ss(c,c.return);break;case 12:wa(o,c,a);break;case 31:wa(o,c,a),a&&m&4&&$h(o,c);break;case 13:wa(o,c,a),a&&m&4&&Gh(o,c);break;case 22:c.memoizedState===null&&wa(o,c,a),ss(c,c.return);break;case 30:break;default:wa(o,c,a)}t=t.sibling}}function Yo(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ki(a))}function Ko(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ki(e))}function Pt(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Kh(e,t,a,i),t=t.sibling}function Kh(e,t,a,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Pt(e,t,a,i),o&2048&&is(9,t);break;case 1:Pt(e,t,a,i);break;case 3:Pt(e,t,a,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ki(e)));break;case 12:if(o&2048){Pt(e,t,a,i),e=t.stateNode;try{var c=t.memoizedProps,m=c.id,y=c.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ce(t,t.return,w)}}else Pt(e,t,a,i);break;case 31:Pt(e,t,a,i);break;case 13:Pt(e,t,a,i);break;case 23:break;case 22:c=t.stateNode,m=t.alternate,t.memoizedState!==null?c._visibility&2?Pt(e,t,a,i):rs(e,t):c._visibility&2?Pt(e,t,a,i):(c._visibility|=2,ii(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Yo(m,t);break;case 24:Pt(e,t,a,i),o&2048&&Ko(t.alternate,t);break;default:Pt(e,t,a,i)}}function ii(e,t,a,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,m=t,y=a,w=i,N=m.flags;switch(m.tag){case 0:case 11:case 15:ii(c,m,y,w,o),is(8,m);break;case 23:break;case 22:var q=m.stateNode;m.memoizedState!==null?q._visibility&2?ii(c,m,y,w,o):rs(c,m):(q._visibility|=2,ii(c,m,y,w,o)),o&&N&2048&&Yo(m.alternate,m);break;case 24:ii(c,m,y,w,o),o&&N&2048&&Ko(m.alternate,m);break;default:ii(c,m,y,w,o)}t=t.sibling}}function rs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,o=i.flags;switch(i.tag){case 22:rs(a,i),o&2048&&Yo(i.alternate,i);break;case 24:rs(a,i),o&2048&&Ko(i.alternate,i);break;default:rs(a,i)}t=t.sibling}}var ls=8192;function si(e,t,a){if(e.subtreeFlags&ls)for(e=e.child;e!==null;)Qh(e,t,a),e=e.sibling}function Qh(e,t,a){switch(e.tag){case 26:si(e,t,a),e.flags&ls&&e.memoizedState!==null&&mp(a,It,e.memoizedState,e.memoizedProps);break;case 5:si(e,t,a);break;case 3:case 4:var i=It;It=Gr(e.stateNode.containerInfo),si(e,t,a),It=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=ls,ls=16777216,si(e,t,a),ls=i):si(e,t,a));break;default:si(e,t,a)}}function Xh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function os(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];it=i,Zh(i,e)}Xh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Jh(e),e=e.sibling}function Jh(e){switch(e.tag){case 0:case 11:case 15:os(e),e.flags&2048&&Ha(9,e,e.return);break;case 3:os(e);break;case 12:os(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Or(e)):os(e);break;default:os(e)}}function Or(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];it=i,Zh(i,e)}Xh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ha(8,t,t.return),Or(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Or(t));break;default:Or(t)}e=e.sibling}}function Zh(e,t){for(;it!==null;){var a=it;switch(a.tag){case 0:case 11:case 15:Ha(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ki(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,it=i;else e:for(a=e;it!==null;){i=it;var o=i.sibling,c=i.return;if(Lh(i),i===a){it=null;break e}if(o!==null){o.return=c,it=o;break e}it=c}}}var Ov={getCacheForType:function(e){var t=ct(Ze),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ct(Ze).controller.signal}},Rv=typeof WeakMap=="function"?WeakMap:Map,Ae=0,qe=null,ye=null,be=0,Re=0,kt=null,$a=!1,ri=!1,Qo=!1,Sa=0,Ye=0,Ga=0,Sn=0,Xo=0,Dt=0,li=0,cs=null,Et=null,Jo=!1,Rr=0,Ih=0,Cr=1/0,kr=null,Va=null,et=0,Ya=null,oi=null,Ea=0,Zo=0,Io=null,Ph=null,us=0,Po=null;function Ut(){return(Ae&2)!==0&&be!==0?be&-be:D.T!==null?nc():fu()}function Wh(){if(Dt===0)if((be&536870912)===0||Se){var e=Hs;Hs<<=1,(Hs&3932160)===0&&(Hs=262144),Dt=e}else Dt=536870912;return e=Rt.current,e!==null&&(e.flags|=32),Dt}function xt(e,t,a){(e===qe&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(ci(e,0),Ka(e,be,Dt,!1)),Ci(e,a),((Ae&2)===0||e!==qe)&&(e===qe&&((Ae&2)===0&&(Sn|=a),Ye===4&&Ka(e,be,Dt,!1)),ia(e))}function Fh(e,t,a){if((Ae&6)!==0)throw Error(l(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ri(e,t),o=i?Dv(e,t):Fo(e,t,!0),c=i;do{if(o===0){ri&&!i&&Ka(e,t,0,!1);break}else{if(a=e.current.alternate,c&&!Cv(a)){o=Fo(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;o=cs;var w=y.current.memoizedState.isDehydrated;if(w&&(ci(y,m).flags|=256),m=Fo(y,m,!1),m!==2){if(Qo&&!w){y.errorRecoveryDisabledLanes|=c,Sn|=c,o=4;break e}c=Et,Et=o,c!==null&&(Et===null?Et=c:Et.push.apply(Et,c))}o=m}if(c=!1,o!==2)continue}}if(o===1){ci(e,0),Ka(e,t,0,!0);break}e:{switch(i=e,c=o,c){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Ka(i,t,Dt,!$a);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Rr+300-mt(),10<o)){if(Ka(i,t,Dt,!$a),Gs(i,0,!0)!==0)break e;Ea=t,i.timeoutHandle=Cf(ef.bind(null,i,a,Et,kr,Jo,t,Dt,Sn,li,$a,c,"Throttled",-0,0),o);break e}ef(i,a,Et,kr,Jo,t,Dt,Sn,li,$a,c,null,-0,0)}}break}while(!0);ia(e)}function ef(e,t,a,i,o,c,m,y,w,N,q,H,O,C){if(e.timeoutHandle=-1,H=t.subtreeFlags,H&8192||(H&16785408)===16785408){H={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oa},Qh(t,c,H);var ee=(c&62914560)===c?Rr-mt():(c&4194048)===c?Ih-mt():0;if(ee=gp(H,ee),ee!==null){Ea=c,e.cancelPendingCommit=ee(cf.bind(null,e,t,c,a,i,o,m,y,w,q,H,null,O,C)),Ka(e,c,m,!N);return}}cf(e,t,c,a,i,o,m,y,w)}function Cv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var o=a[i],c=o.getSnapshot;o=o.value;try{if(!Nt(c(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ka(e,t,a,i){t&=~Xo,t&=~Sn,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var c=31-At(o),m=1<<c;i[c]=-1,o&=~m}a!==0&&uu(e,a,t)}function Dr(){return(Ae&6)===0?(ds(0),!1):!0}function Wo(){if(ye!==null){if(Re===0)var e=ye.return;else e=ye,ha=fn=null,mo(e),Fn=null,Xi=0,e=ye;for(;e!==null;)Ch(e.alternate,e),e=e.return;ye=null}}function ci(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Pv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ea=0,Wo(),qe=e,ye=a=ua(e.current,null),be=t,Re=0,kt=null,$a=!1,ri=Ri(e,t),Qo=!1,li=Dt=Xo=Sn=Ga=Ye=0,Et=cs=null,Jo=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-At(i),c=1<<o;t|=e[o],i&=~c}return Sa=t,er(),a}function tf(e,t){me=null,D.H=ts,t===Wn||t===or?(t=pd(),Re=3):t===to?(t=pd(),Re=4):Re=t===Ro?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,kt=t,ye===null&&(Ye=1,Sr(e,Gt(t,e.current)))}function af(){var e=Rt.current;return e===null?!0:(be&4194048)===be?Qt===null:(be&62914560)===be||(be&536870912)!==0?e===Qt:!1}function nf(){var e=D.H;return D.H=ts,e===null?ts:e}function sf(){var e=D.A;return D.A=Ov,e}function Ur(){Ye=4,$a||(be&4194048)!==be&&Rt.current!==null||(ri=!0),(Ga&134217727)===0&&(Sn&134217727)===0||qe===null||Ka(qe,be,Dt,!1)}function Fo(e,t,a){var i=Ae;Ae|=2;var o=nf(),c=sf();(qe!==e||be!==t)&&(kr=null,ci(e,t)),t=!1;var m=Ye;e:do try{if(Re!==0&&ye!==null){var y=ye,w=kt;switch(Re){case 8:Wo(),m=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var N=Re;if(Re=0,kt=null,ui(e,y,w,N),a&&ri){m=0;break e}break;default:N=Re,Re=0,kt=null,ui(e,y,w,N)}}kv(),m=Ye;break}catch(q){tf(e,q)}while(!0);return t&&e.shellSuspendCounter++,ha=fn=null,Ae=i,D.H=o,D.A=c,ye===null&&(qe=null,be=0,er()),m}function kv(){for(;ye!==null;)rf(ye)}function Dv(e,t){var a=Ae;Ae|=2;var i=nf(),o=sf();qe!==e||be!==t?(kr=null,Cr=mt()+500,ci(e,t)):ri=Ri(e,t);e:do try{if(Re!==0&&ye!==null){t=ye;var c=kt;t:switch(Re){case 1:Re=0,kt=null,ui(e,t,c,1);break;case 2:case 9:if(gd(c)){Re=0,kt=null,lf(t);break}t=function(){Re!==2&&Re!==9||qe!==e||(Re=7),ia(e)},c.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:gd(c)?(Re=0,kt=null,lf(t)):(Re=0,kt=null,ui(e,t,c,7));break;case 5:var m=null;switch(ye.tag){case 26:m=ye.memoizedState;case 5:case 27:var y=ye;if(m?Qf(m):y.stateNode.complete){Re=0,kt=null;var w=y.sibling;if(w!==null)ye=w;else{var N=y.return;N!==null?(ye=N,zr(N)):ye=null}break t}}Re=0,kt=null,ui(e,t,c,5);break;case 6:Re=0,kt=null,ui(e,t,c,6);break;case 8:Wo(),Ye=6;break e;default:throw Error(l(462))}}Uv();break}catch(q){tf(e,q)}while(!0);return ha=fn=null,D.H=i,D.A=o,Ae=a,ye!==null?0:(qe=null,be=0,er(),Ye)}function Uv(){for(;ye!==null&&!zs();)rf(ye)}function rf(e){var t=Oh(e.alternate,e,Sa);e.memoizedProps=e.pendingProps,t===null?zr(e):ye=t}function lf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Eh(a,t,t.pendingProps,t.type,void 0,be);break;case 11:t=Eh(a,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:mo(t);default:Ch(a,t),t=ye=id(t,Sa),t=Oh(a,t,Sa)}e.memoizedProps=e.pendingProps,t===null?zr(e):ye=t}function ui(e,t,a,i){ha=fn=null,mo(t),Fn=null,Xi=0;var o=t.return;try{if(Sv(e,o,t,a,be)){Ye=1,Sr(e,Gt(a,e.current)),ye=null;return}}catch(c){if(o!==null)throw ye=o,c;Ye=1,Sr(e,Gt(a,e.current)),ye=null;return}t.flags&32768?(Se||i===1?e=!0:ri||(be&536870912)!==0?e=!1:($a=e=!0,(i===2||i===9||i===3||i===6)&&(i=Rt.current,i!==null&&i.tag===13&&(i.flags|=16384))),of(t,e)):zr(t)}function zr(e){var t=e;do{if((t.flags&32768)!==0){of(t,$a);return}e=t.return;var a=jv(t.alternate,t,Sa);if(a!==null){ye=a;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Ye===0&&(Ye=5)}function of(e,t){do{var a=Tv(e.alternate,e);if(a!==null){a.flags&=32767,ye=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=a}while(e!==null);Ye=6,ye=null}function cf(e,t,a,i,o,c,m,y,w){e.cancelPendingCommit=null;do qr();while(et!==0);if((Ae&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(c=t.lanes|t.childLanes,c|=Hl,fg(e,a,c,m,y,w),e===qe&&(ye=qe=null,be=0),oi=t,Ya=e,Ea=a,Zo=c,Io=o,Ph=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Bv(Bs,function(){return mf(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=D.T,D.T=null,o=Q.p,Q.p=2,m=Ae,Ae|=4;try{Av(e,t,a)}finally{Ae=m,Q.p=o,D.T=i}}et=1,uf(),df(),hf()}}function uf(){if(et===1){et=0;var e=Ya,t=oi,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=D.T,D.T=null;var i=Q.p;Q.p=2;var o=Ae;Ae|=4;try{Vh(t,e);var c=dc,m=Zu(e.containerInfo),y=c.focusedElem,w=c.selectionRange;if(m!==y&&y&&y.ownerDocument&&Ju(y.ownerDocument.documentElement,y)){if(w!==null&&zl(y)){var N=w.start,q=w.end;if(q===void 0&&(q=N),"selectionStart"in y)y.selectionStart=N,y.selectionEnd=Math.min(q,y.value.length);else{var H=y.ownerDocument||document,O=H&&H.defaultView||window;if(O.getSelection){var C=O.getSelection(),ee=y.textContent.length,re=Math.min(w.start,ee),ze=w.end===void 0?re:Math.min(w.end,ee);!C.extend&&re>ze&&(m=ze,ze=re,re=m);var T=Xu(y,re),x=Xu(y,ze);if(T&&x&&(C.rangeCount!==1||C.anchorNode!==T.node||C.anchorOffset!==T.offset||C.focusNode!==x.node||C.focusOffset!==x.offset)){var A=H.createRange();A.setStart(T.node,T.offset),C.removeAllRanges(),re>ze?(C.addRange(A),C.extend(x.node,x.offset)):(A.setEnd(x.node,x.offset),C.addRange(A))}}}}for(H=[],C=y;C=C.parentNode;)C.nodeType===1&&H.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<H.length;y++){var B=H[y];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Jr=!!uc,dc=uc=null}finally{Ae=o,Q.p=i,D.T=a}}e.current=t,et=2}}function df(){if(et===2){et=0;var e=Ya,t=oi,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=D.T,D.T=null;var i=Q.p;Q.p=2;var o=Ae;Ae|=4;try{Bh(e,t.alternate,t)}finally{Ae=o,Q.p=i,D.T=a}}et=3}}function hf(){if(et===4||et===3){et=0,Cn();var e=Ya,t=oi,a=Ea,i=Ph;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?et=5:(et=0,oi=Ya=null,ff(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Va=null),vl(a),t=t.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(Oi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=D.T,o=Q.p,Q.p=2,D.T=null;try{for(var c=e.onRecoverableError,m=0;m<i.length;m++){var y=i[m];c(y.value,{componentStack:y.stack})}}finally{D.T=t,Q.p=o}}(Ea&3)!==0&&qr(),ia(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Po?us++:(us=0,Po=e):us=0,ds(0)}}function ff(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ki(t)))}function qr(){return uf(),df(),hf(),mf()}function mf(){if(et!==5)return!1;var e=Ya,t=Zo;Zo=0;var a=vl(Ea),i=D.T,o=Q.p;try{Q.p=32>a?32:a,D.T=null,a=Io,Io=null;var c=Ya,m=Ea;if(et=0,oi=Ya=null,Ea=0,(Ae&6)!==0)throw Error(l(331));var y=Ae;if(Ae|=4,Jh(c.current),Kh(c,c.current,m,a),Ae=y,ds(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(Oi,c)}catch{}return!0}finally{Q.p=o,D.T=i,ff(e,t)}}function gf(e,t,a){t=Gt(a,t),t=Oo(e.stateNode,t,2),e=Ma(e,t,2),e!==null&&(Ci(e,2),ia(e))}function Ce(e,t,a){if(e.tag===3)gf(e,e,a);else for(;t!==null;){if(t.tag===3){gf(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Va===null||!Va.has(i))){e=Gt(a,e),a=gh(2),i=Ma(t,a,2),i!==null&&(vh(a,i,t,e),Ci(i,2),ia(i));break}}t=t.return}}function ec(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Rv;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(a)||(Qo=!0,o.add(a),e=zv.bind(null,e,t,a),t.then(e,e))}function zv(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,qe===e&&(be&a)===a&&(Ye===4||Ye===3&&(be&62914560)===be&&300>mt()-Rr?(Ae&2)===0&&ci(e,0):Xo|=a,li===be&&(li=0)),ia(e)}function vf(e,t){t===0&&(t=cu()),e=un(e,t),e!==null&&(Ci(e,t),ia(e))}function qv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),vf(e,a)}function Mv(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),vf(e,a)}function Bv(e,t){return Oe(e,t)}var Mr=null,di=null,tc=!1,Br=!1,ac=!1,Qa=0;function ia(e){e!==di&&e.next===null&&(di===null?Mr=di=e:di=di.next=e),Br=!0,tc||(tc=!0,Hv())}function ds(e,t){if(!ac&&Br){ac=!0;do for(var a=!1,i=Mr;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var c=0;else{var m=i.suspendedLanes,y=i.pingedLanes;c=(1<<31-At(42|e)+1)-1,c&=o&~(m&~y),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(a=!0,bf(i,c))}else c=be,c=Gs(i,i===qe?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(c&3)===0||Ri(i,c)||(a=!0,bf(i,c));i=i.next}while(a);ac=!1}}function Lv(){pf()}function pf(){Br=tc=!1;var e=0;Qa!==0&&Iv()&&(e=Qa);for(var t=mt(),a=null,i=Mr;i!==null;){var o=i.next,c=yf(i,t);c===0?(i.next=null,a===null?Mr=o:a.next=o,o===null&&(di=a)):(a=i,(e!==0||(c&3)!==0)&&(Br=!0)),i=o}et!==0&&et!==5||ds(e),Qa!==0&&(Qa=0)}function yf(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var m=31-At(c),y=1<<m,w=o[m];w===-1?((y&a)===0||(y&i)!==0)&&(o[m]=hg(y,t)):w<=t&&(e.expiredLanes|=y),c&=~y}if(t=qe,a=be,a=Gs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&rt(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ri(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&rt(i),vl(a)){case 2:case 8:a=Ms;break;case 32:a=Bs;break;case 268435456:a=ou;break;default:a=Bs}return i=_f.bind(null,e),a=Oe(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&rt(i),e.callbackPriority=2,e.callbackNode=null,2}function _f(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(qr()&&e.callbackNode!==a)return null;var i=be;return i=Gs(e,e===qe?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Fh(e,i,t),yf(e,mt()),e.callbackNode!=null&&e.callbackNode===a?_f.bind(null,e):null)}function bf(e,t){if(qr())return null;Fh(e,t,!0)}function Hv(){Wv(function(){(Ae&6)!==0?Oe(qs,Lv):pf()})}function nc(){if(Qa===0){var e=In;e===0&&(e=Ls,Ls<<=1,(Ls&261888)===0&&(Ls=256)),Qa=e}return Qa}function wf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qs(""+e)}function Sf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function $v(e,t,a,i,o){if(t==="submit"&&a&&a.stateNode===o){var c=wf((o[yt]||null).action),m=i.submitter;m&&(t=(t=m[yt]||null)?wf(t.formAction):m.getAttribute("formAction"),t!==null&&(c=t,m=null));var y=new Is("action","action",null,i,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Qa!==0){var w=m?Sf(o,m):new FormData(o);Eo(a,{pending:!0,data:w,method:o.method,action:c},null,w)}}else typeof c=="function"&&(y.preventDefault(),w=m?Sf(o,m):new FormData(o),Eo(a,{pending:!0,data:w,method:o.method,action:c},c,w))},currentTarget:o}]})}}for(var ic=0;ic<Ll.length;ic++){var sc=Ll[ic],Gv=sc.toLowerCase(),Vv=sc[0].toUpperCase()+sc.slice(1);Zt(Gv,"on"+Vv)}Zt(Wu,"onAnimationEnd"),Zt(Fu,"onAnimationIteration"),Zt(ed,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(sv,"onTransitionRun"),Zt(rv,"onTransitionStart"),Zt(lv,"onTransitionCancel"),Zt(td,"onTransitionEnd"),qn("onMouseEnter",["mouseout","mouseover"]),qn("onMouseLeave",["mouseout","mouseover"]),qn("onPointerEnter",["pointerout","pointerover"]),qn("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hs));function Ef(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],o=i.event;i=i.listeners;e:{var c=void 0;if(t)for(var m=i.length-1;0<=m;m--){var y=i[m],w=y.instance,N=y.currentTarget;if(y=y.listener,w!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=N;try{c(o)}catch(q){Fs(q)}o.currentTarget=null,c=w}else for(m=0;m<i.length;m++){if(y=i[m],w=y.instance,N=y.currentTarget,y=y.listener,w!==c&&o.isPropagationStopped())break e;c=y,o.currentTarget=N;try{c(o)}catch(q){Fs(q)}o.currentTarget=null,c=w}}}}function _e(e,t){var a=t[pl];a===void 0&&(a=t[pl]=new Set);var i=e+"__bubble";a.has(i)||(xf(t,e,2,!1),a.add(i))}function rc(e,t,a){var i=0;t&&(i|=4),xf(a,e,i,t)}var Lr="_reactListening"+Math.random().toString(36).slice(2);function lc(e){if(!e[Lr]){e[Lr]=!0,vu.forEach(function(a){a!=="selectionchange"&&(Yv.has(a)||rc(a,!1,e),rc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lr]||(t[Lr]=!0,rc("selectionchange",!1,t))}}function xf(e,t,a,i){switch(Ff(t)){case 2:var o=yp;break;case 8:o=_p;break;default:o=Sc}a=o.bind(null,t,a,e),o=void 0,!Tl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function oc(e,t,a,i,o){var c=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var y=i.stateNode.containerInfo;if(y===o)break;if(m===4)for(m=i.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;y!==null;){if(m=Dn(y),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){i=c=m;continue e}y=y.parentNode}}i=i.return}Nu(function(){var N=c,q=xl(a),H=[];e:{var O=ad.get(e);if(O!==void 0){var C=Is,ee=e;switch(e){case"keypress":if(Js(a)===0)break e;case"keydown":case"keyup":C=Mg;break;case"focusin":ee="focus",C=Rl;break;case"focusout":ee="blur",C=Rl;break;case"beforeblur":case"afterblur":C=Rl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Cu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Hg;break;case Wu:case Fu:case ed:C=Ng;break;case td:C=Gg;break;case"scroll":case"scrollend":C=Eg;break;case"wheel":C=Yg;break;case"copy":case"cut":case"paste":C=Rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Du;break;case"toggle":case"beforetoggle":C=Qg}var re=(t&4)!==0,ze=!re&&(e==="scroll"||e==="scrollend"),T=re?O!==null?O+"Capture":null:O;re=[];for(var x=N,A;x!==null;){var B=x;if(A=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||A===null||T===null||(B=Ui(x,T),B!=null&&re.push(fs(x,B,A))),ze)break;x=x.return}0<re.length&&(O=new C(O,ee,null,a,q),H.push({event:O,listeners:re}))}}if((t&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",O&&a!==El&&(ee=a.relatedTarget||a.fromElement)&&(Dn(ee)||ee[kn]))break e;if((C||O)&&(O=q.window===q?q:(O=q.ownerDocument)?O.defaultView||O.parentWindow:window,C?(ee=a.relatedTarget||a.toElement,C=N,ee=ee?Dn(ee):null,ee!==null&&(ze=h(ee),re=ee.tag,ee!==ze||re!==5&&re!==27&&re!==6)&&(ee=null)):(C=null,ee=N),C!==ee)){if(re=Cu,B="onMouseLeave",T="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(re=Du,B="onPointerLeave",T="onPointerEnter",x="pointer"),ze=C==null?O:Di(C),A=ee==null?O:Di(ee),O=new re(B,x+"leave",C,a,q),O.target=ze,O.relatedTarget=A,B=null,Dn(q)===N&&(re=new re(T,x+"enter",ee,a,q),re.target=A,re.relatedTarget=ze,B=re),ze=B,C&&ee)t:{for(re=Kv,T=C,x=ee,A=0,B=T;B;B=re(B))A++;B=0;for(var ie=x;ie;ie=re(ie))B++;for(;0<A-B;)T=re(T),A--;for(;0<B-A;)x=re(x),B--;for(;A--;){if(T===x||x!==null&&T===x.alternate){re=T;break t}T=re(T),x=re(x)}re=null}else re=null;C!==null&&jf(H,O,C,re,!1),ee!==null&&ze!==null&&jf(H,ze,ee,re,!0)}}e:{if(O=N?Di(N):window,C=O.nodeName&&O.nodeName.toLowerCase(),C==="select"||C==="input"&&O.type==="file")var je=$u;else if(Lu(O))if(Gu)je=av;else{je=ev;var te=Fg}else C=O.nodeName,!C||C.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?N&&Sl(N.elementType)&&(je=$u):je=tv;if(je&&(je=je(e,N))){Hu(H,je,a,q);break e}te&&te(e,O,N),e==="focusout"&&N&&O.type==="number"&&N.memoizedProps.value!=null&&wl(O,"number",O.value)}switch(te=N?Di(N):window,e){case"focusin":(Lu(te)||te.contentEditable==="true")&&(Gn=te,ql=N,Gi=null);break;case"focusout":Gi=ql=Gn=null;break;case"mousedown":Ml=!0;break;case"contextmenu":case"mouseup":case"dragend":Ml=!1,Iu(H,a,q);break;case"selectionchange":if(iv)break;case"keydown":case"keyup":Iu(H,a,q)}var ge;if(kl)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else $n?Mu(e,a)&&(we="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Uu&&a.locale!=="ko"&&($n||we!=="onCompositionStart"?we==="onCompositionEnd"&&$n&&(ge=Ou()):(Ra=q,Al="value"in Ra?Ra.value:Ra.textContent,$n=!0)),te=Hr(N,we),0<te.length&&(we=new ku(we,e,null,a,q),H.push({event:we,listeners:te}),ge?we.data=ge:(ge=Bu(a),ge!==null&&(we.data=ge)))),(ge=Jg?Zg(e,a):Ig(e,a))&&(we=Hr(N,"onBeforeInput"),0<we.length&&(te=new ku("onBeforeInput","beforeinput",null,a,q),H.push({event:te,listeners:we}),te.data=ge)),$v(H,e,N,a,q)}Ef(H,t)})}function fs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Hr(e,t){for(var a=t+"Capture",i=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=Ui(e,a),o!=null&&i.unshift(fs(e,o,c)),o=Ui(e,t),o!=null&&i.push(fs(e,o,c))),e.tag===3)return i;e=e.return}return[]}function Kv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jf(e,t,a,i,o){for(var c=t._reactName,m=[];a!==null&&a!==i;){var y=a,w=y.alternate,N=y.stateNode;if(y=y.tag,w!==null&&w===i)break;y!==5&&y!==26&&y!==27||N===null||(w=N,o?(N=Ui(a,c),N!=null&&m.unshift(fs(a,N,w))):o||(N=Ui(a,c),N!=null&&m.push(fs(a,N,w)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var Qv=/\r\n?/g,Xv=/\u0000|\uFFFD/g;function Tf(e){return(typeof e=="string"?e:""+e).replace(Qv,`
`).replace(Xv,"")}function Af(e,t){return t=Tf(t),Tf(e)===t}function Ue(e,t,a,i,o,c){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Bn(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Bn(e,""+i);break;case"className":Ys(e,"class",i);break;case"tabIndex":Ys(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(e,a,i);break;case"style":Tu(e,i,c);break;case"data":if(t!=="object"){Ys(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Qs(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(a==="formAction"?(t!=="input"&&Ue(e,t,"name",o.name,o,null),Ue(e,t,"formEncType",o.formEncType,o,null),Ue(e,t,"formMethod",o.formMethod,o,null),Ue(e,t,"formTarget",o.formTarget,o,null)):(Ue(e,t,"encType",o.encType,o,null),Ue(e,t,"method",o.method,o,null),Ue(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Qs(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=oa);break;case"onScroll":i!=null&&_e("scroll",e);break;case"onScrollEnd":i!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=Qs(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":_e("beforetoggle",e),_e("toggle",e),Vs(e,"popover",i);break;case"xlinkActuate":la(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":la(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":la(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":la(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":la(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":la(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":la(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":la(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":la(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Vs(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=wg.get(a)||a,Vs(e,a,i))}}function cc(e,t,a,i,o,c){switch(a){case"style":Tu(e,i,c);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof i=="string"?Bn(e,i):(typeof i=="number"||typeof i=="bigint")&&Bn(e,""+i);break;case"onScroll":i!=null&&_e("scroll",e);break;case"onScrollEnd":i!=null&&_e("scrollend",e);break;case"onClick":i!=null&&(e.onclick=oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),c=e[yt]||null,c=c!=null?c[a]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof i=="function")){typeof c!="function"&&c!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,o);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):Vs(e,a,i)}}}function dt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var i=!1,o=!1,c;for(c in a)if(a.hasOwnProperty(c)){var m=a[c];if(m!=null)switch(c){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,c,m,a,null)}}o&&Ue(e,t,"srcSet",a.srcSet,a,null),i&&Ue(e,t,"src",a.src,a,null);return;case"input":_e("invalid",e);var y=c=m=o=null,w=null,N=null;for(i in a)if(a.hasOwnProperty(i)){var q=a[i];if(q!=null)switch(i){case"name":o=q;break;case"type":m=q;break;case"checked":w=q;break;case"defaultChecked":N=q;break;case"value":c=q;break;case"defaultValue":y=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,t));break;default:Ue(e,t,i,q,a,null)}}Su(e,c,y,w,N,m,o,!1);return;case"select":_e("invalid",e),i=m=c=null;for(o in a)if(a.hasOwnProperty(o)&&(y=a[o],y!=null))switch(o){case"value":c=y;break;case"defaultValue":m=y;break;case"multiple":i=y;default:Ue(e,t,o,y,a,null)}t=c,a=m,e.multiple=!!i,t!=null?Mn(e,!!i,t,!1):a!=null&&Mn(e,!!i,a,!0);return;case"textarea":_e("invalid",e),c=o=i=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":i=y;break;case"defaultValue":o=y;break;case"children":c=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:Ue(e,t,m,y,a,null)}xu(e,i,o,c);return;case"option":for(w in a)a.hasOwnProperty(w)&&(i=a[w],i!=null)&&(w==="selected"?e.selected=i&&typeof i!="function"&&typeof i!="symbol":Ue(e,t,w,i,a,null));return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(i=0;i<hs.length;i++)_e(hs[i],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(i=a[N],i!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Ue(e,t,N,i,a,null)}return;default:if(Sl(t)){for(q in a)a.hasOwnProperty(q)&&(i=a[q],i!==void 0&&cc(e,t,q,i,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(i=a[y],i!=null&&Ue(e,t,y,i,a,null))}function Jv(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,m=null,y=null,w=null,N=null,q=null;for(C in a){var H=a[C];if(a.hasOwnProperty(C)&&H!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":w=H;default:i.hasOwnProperty(C)||Ue(e,t,C,null,i,H)}}for(var O in i){var C=i[O];if(H=a[O],i.hasOwnProperty(O)&&(C!=null||H!=null))switch(O){case"type":c=C;break;case"name":o=C;break;case"checked":N=C;break;case"defaultChecked":q=C;break;case"value":m=C;break;case"defaultValue":y=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(l(137,t));break;default:C!==H&&Ue(e,t,O,C,i,H)}}bl(e,m,y,w,N,q,c,o);return;case"select":C=m=y=O=null;for(c in a)if(w=a[c],a.hasOwnProperty(c)&&w!=null)switch(c){case"value":break;case"multiple":C=w;default:i.hasOwnProperty(c)||Ue(e,t,c,null,i,w)}for(o in i)if(c=i[o],w=a[o],i.hasOwnProperty(o)&&(c!=null||w!=null))switch(o){case"value":O=c;break;case"defaultValue":y=c;break;case"multiple":m=c;default:c!==w&&Ue(e,t,o,c,i,w)}t=y,a=m,i=C,O!=null?Mn(e,!!a,O,!1):!!i!=!!a&&(t!=null?Mn(e,!!a,t,!0):Mn(e,!!a,a?[]:"",!1));return;case"textarea":C=O=null;for(y in a)if(o=a[y],a.hasOwnProperty(y)&&o!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ue(e,t,y,null,i,o)}for(m in i)if(o=i[m],c=a[m],i.hasOwnProperty(m)&&(o!=null||c!=null))switch(m){case"value":O=o;break;case"defaultValue":C=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==c&&Ue(e,t,m,o,i,c)}Eu(e,O,C);return;case"option":for(var ee in a)O=a[ee],a.hasOwnProperty(ee)&&O!=null&&!i.hasOwnProperty(ee)&&(ee==="selected"?e.selected=!1:Ue(e,t,ee,null,i,O));for(w in i)O=i[w],C=a[w],i.hasOwnProperty(w)&&O!==C&&(O!=null||C!=null)&&(w==="selected"?e.selected=O&&typeof O!="function"&&typeof O!="symbol":Ue(e,t,w,O,i,C));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)O=a[re],a.hasOwnProperty(re)&&O!=null&&!i.hasOwnProperty(re)&&Ue(e,t,re,null,i,O);for(N in i)if(O=i[N],C=a[N],i.hasOwnProperty(N)&&O!==C&&(O!=null||C!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(l(137,t));break;default:Ue(e,t,N,O,i,C)}return;default:if(Sl(t)){for(var ze in a)O=a[ze],a.hasOwnProperty(ze)&&O!==void 0&&!i.hasOwnProperty(ze)&&cc(e,t,ze,void 0,i,O);for(q in i)O=i[q],C=a[q],!i.hasOwnProperty(q)||O===C||O===void 0&&C===void 0||cc(e,t,q,O,i,C);return}}for(var T in a)O=a[T],a.hasOwnProperty(T)&&O!=null&&!i.hasOwnProperty(T)&&Ue(e,t,T,null,i,O);for(H in i)O=i[H],C=a[H],!i.hasOwnProperty(H)||O===C||O==null&&C==null||Ue(e,t,H,O,i,C)}function Nf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var o=a[i],c=o.transferSize,m=o.initiatorType,y=o.duration;if(c&&y&&Nf(m)){for(m=0,y=o.responseEnd,i+=1;i<a.length;i++){var w=a[i],N=w.startTime;if(N>y)break;var q=w.transferSize,H=w.initiatorType;q&&Nf(H)&&(w=w.responseEnd,m+=q*(w<y?1:(y-N)/(w-N)))}if(--i,t+=8*(c+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var uc=null,dc=null;function $r(e){return e.nodeType===9?e:e.ownerDocument}function Of(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function hc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fc=null;function Iv(){var e=window.event;return e&&e.type==="popstate"?e===fc?!1:(fc=e,!0):(fc=null,!1)}var Cf=typeof setTimeout=="function"?setTimeout:void 0,Pv=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,Wv=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(e){return kf.resolve(null).then(e).catch(Fv)}:Cf;function Fv(e){setTimeout(function(){throw e})}function Xa(e){return e==="head"}function Df(e,t){var a=t,i=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(o),gi(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")ms(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ms(a);for(var c=a.firstChild;c;){var m=c.nextSibling,y=c.nodeName;c[ki]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&c.rel.toLowerCase()==="stylesheet"||a.removeChild(c),c=m}}else a==="body"&&ms(e.ownerDocument.body);a=o}while(a);gi(t)}function Uf(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function mc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":mc(a),yl(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ep(e,t,a,i){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ki])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Xt(e.nextSibling),e===null)break}return null}function tp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Xt(e.nextSibling),e===null))return null;return e}function zf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xt(e.nextSibling),e===null))return null;return e}function gc(e){return e.data==="$?"||e.data==="$~"}function vc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ap(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var pc=null;function qf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Xt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Mf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Bf(e,t,a){switch(t=$r(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function ms(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);yl(e)}var Jt=new Map,Lf=new Set;function Gr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xa=Q.d;Q.d={f:np,r:ip,D:sp,C:rp,L:lp,m:op,X:up,S:cp,M:dp};function np(){var e=xa.f(),t=Dr();return e||t}function ip(e){var t=Un(e);t!==null&&t.tag===5&&t.type==="form"?th(t):xa.r(e)}var hi=typeof document>"u"?null:document;function Hf(e,t,a){var i=hi;if(i&&typeof t=="string"&&t){var o=Ht(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),Lf.has(o)||(Lf.add(o),e={rel:e,crossOrigin:a,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),dt(t,"link",e),nt(t),i.head.appendChild(t)))}}function sp(e){xa.D(e),Hf("dns-prefetch",e,null)}function rp(e,t){xa.C(e,t),Hf("preconnect",e,t)}function lp(e,t,a){xa.L(e,t,a);var i=hi;if(i&&e&&t){var o='link[rel="preload"][as="'+Ht(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Ht(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Ht(a.imageSizes)+'"]')):o+='[href="'+Ht(e)+'"]';var c=o;switch(t){case"style":c=fi(e);break;case"script":c=mi(e)}Jt.has(c)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Jt.set(c,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(gs(c))||t==="script"&&i.querySelector(vs(c))||(t=i.createElement("link"),dt(t,"link",e),nt(t),i.head.appendChild(t)))}}function op(e,t){xa.m(e,t);var a=hi;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ht(i)+'"][href="'+Ht(e)+'"]',c=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=mi(e)}if(!Jt.has(c)&&(e=b({rel:"modulepreload",href:e},t),Jt.set(c,e),a.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vs(c)))return}i=a.createElement("link"),dt(i,"link",e),nt(i),a.head.appendChild(i)}}}function cp(e,t,a){xa.S(e,t,a);var i=hi;if(i&&e){var o=zn(i).hoistableStyles,c=fi(e);t=t||"default";var m=o.get(c);if(!m){var y={loading:0,preload:null};if(m=i.querySelector(gs(c)))y.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Jt.get(c))&&yc(e,a);var w=m=i.createElement("link");nt(w),dt(w,"link",e),w._p=new Promise(function(N,q){w.onload=N,w.onerror=q}),w.addEventListener("load",function(){y.loading|=1}),w.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Vr(m,t,i)}m={type:"stylesheet",instance:m,count:1,state:y},o.set(c,m)}}}function up(e,t){xa.X(e,t);var a=hi;if(a&&e){var i=zn(a).hoistableScripts,o=mi(e),c=i.get(o);c||(c=a.querySelector(vs(o)),c||(e=b({src:e,async:!0},t),(t=Jt.get(o))&&_c(e,t),c=a.createElement("script"),nt(c),dt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},i.set(o,c))}}function dp(e,t){xa.M(e,t);var a=hi;if(a&&e){var i=zn(a).hoistableScripts,o=mi(e),c=i.get(o);c||(c=a.querySelector(vs(o)),c||(e=b({src:e,async:!0,type:"module"},t),(t=Jt.get(o))&&_c(e,t),c=a.createElement("script"),nt(c),dt(c,"link",e),a.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},i.set(o,c))}}function $f(e,t,a,i){var o=(o=de.current)?Gr(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=fi(a.href),a=zn(o).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=fi(a.href);var c=zn(o).hoistableStyles,m=c.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,m),(c=o.querySelector(gs(e)))&&!c._p&&(m.instance=c,m.state.loading=5),Jt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jt.set(e,a),c||hp(o,e,a,m.state))),t&&i===null)throw Error(l(528,""));return m}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=mi(a),a=zn(o).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function fi(e){return'href="'+Ht(e)+'"'}function gs(e){return'link[rel="stylesheet"]['+e+"]"}function Gf(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function hp(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),dt(t,"link",a),nt(t),e.head.appendChild(t))}function mi(e){return'[src="'+Ht(e)+'"]'}function vs(e){return"script[async]"+e}function Vf(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Ht(a.href)+'"]');if(i)return t.instance=i,nt(i),i;var o=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),nt(i),dt(i,"style",o),Vr(i,a.precedence,e),t.instance=i;case"stylesheet":o=fi(a.href);var c=e.querySelector(gs(o));if(c)return t.state.loading|=4,t.instance=c,nt(c),c;i=Gf(a),(o=Jt.get(o))&&yc(i,o),c=(e.ownerDocument||e).createElement("link"),nt(c);var m=c;return m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),dt(c,"link",i),t.state.loading|=4,Vr(c,a.precedence,e),t.instance=c;case"script":return c=mi(a.src),(o=e.querySelector(vs(c)))?(t.instance=o,nt(o),o):(i=a,(o=Jt.get(c))&&(i=b({},a),_c(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),nt(o),dt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Vr(i,a.precedence,e));return t.instance}function Vr(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,c=o,m=0;m<i.length;m++){var y=i[m];if(y.dataset.precedence===t)c=y;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function yc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _c(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yr=null;function Yf(e,t,a){if(Yr===null){var i=new Map,o=Yr=new Map;o.set(a,i)}else o=Yr,i=o.get(a),i||(i=new Map,o.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var c=a[o];if(!(c[ki]||c[lt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(t)||"";m=e+m;var y=i.get(m);y?y.push(c):i.set(m,[c])}}return i}function Kf(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function fp(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Qf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mp(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=fi(i.href),c=t.querySelector(gs(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Kr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=c,nt(c);return}c=t.ownerDocument||t,i=Gf(i),(o=Jt.get(o))&&yc(i,o),c=c.createElement("link"),nt(c);var m=c;m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),dt(c,"link",i),a.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Kr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var bc=0;function gp(e,t){return e.stylesheets&&e.count===0&&Xr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&Xr(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&bc===0&&(bc=62500*Zv());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xr(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>bc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Kr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qr=null;function Xr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qr=new Map,t.forEach(vp,e),Qr=null,Kr.call(e))}function vp(e,t){if(!(t.state.loading&4)){var a=Qr.get(e);if(a)var i=a.get(null);else{a=new Map,Qr.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var m=o[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),i=m)}i&&a.set(null,i)}o=t.instance,m=o.getAttribute("data-precedence"),c=a.get(m)||i,c===i&&a.set(null,o),a.set(m,o),this.count++,i=Kr.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var ps={$$typeof:V,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function pp(e,t,a,i,o,c,m,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ml(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ml(0),this.hiddenUpdates=ml(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Xf(e,t,a,i,o,c,m,y,w,N,q,H){return e=new pp(e,t,a,m,w,N,q,H,y),t=1,c===!0&&(t|=24),c=Ot(3,null,null,t),e.current=c,c.stateNode=e,t=Wl(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:i,isDehydrated:a,cache:t},ao(c),e}function Jf(e){return e?(e=Kn,e):Kn}function Zf(e,t,a,i,o,c){o=Jf(o),i.context===null?i.context=o:i.pendingContext=o,i=qa(t),i.payload={element:a},c=c===void 0?null:c,c!==null&&(i.callback=c),a=Ma(e,i,t),a!==null&&(xt(a,e,t),Zi(a,e,t))}function If(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function wc(e,t){If(e,t),(e=e.alternate)&&If(e,t)}function Pf(e){if(e.tag===13||e.tag===31){var t=un(e,67108864);t!==null&&xt(t,e,67108864),wc(e,67108864)}}function Wf(e){if(e.tag===13||e.tag===31){var t=Ut();t=gl(t);var a=un(e,t);a!==null&&xt(a,e,t),wc(e,t)}}var Jr=!0;function yp(e,t,a,i){var o=D.T;D.T=null;var c=Q.p;try{Q.p=2,Sc(e,t,a,i)}finally{Q.p=c,D.T=o}}function _p(e,t,a,i){var o=D.T;D.T=null;var c=Q.p;try{Q.p=8,Sc(e,t,a,i)}finally{Q.p=c,D.T=o}}function Sc(e,t,a,i){if(Jr){var o=Ec(i);if(o===null)oc(e,t,i,Zr,a),em(e,i);else if(wp(o,e,t,a,i))i.stopPropagation();else if(em(e,i),t&4&&-1<bp.indexOf(e)){for(;o!==null;){var c=Un(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=sn(c.pendingLanes);if(m!==0){var y=c;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var w=1<<31-At(m);y.entanglements[1]|=w,m&=~w}ia(c),(Ae&6)===0&&(Cr=mt()+500,ds(0))}}break;case 31:case 13:y=un(c,2),y!==null&&xt(y,c,2),Dr(),wc(c,2)}if(c=Ec(i),c===null&&oc(e,t,i,Zr,a),c===o)break;o=c}o!==null&&i.stopPropagation()}else oc(e,t,i,null,a)}}function Ec(e){return e=xl(e),xc(e)}var Zr=null;function xc(e){if(Zr=null,e=Dn(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=v(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zr=e,null}function Ff(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fl()){case qs:return 2;case Ms:return 8;case Bs:case rg:return 32;case ou:return 268435456;default:return 32}default:return 32}}var jc=!1,Ja=null,Za=null,Ia=null,ys=new Map,_s=new Map,Pa=[],bp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function em(e,t){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Ia=null;break;case"pointerover":case"pointerout":ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function bs(e,t,a,i,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Un(t),t!==null&&Pf(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function wp(e,t,a,i,o){switch(t){case"focusin":return Ja=bs(Ja,e,t,a,i,o),!0;case"dragenter":return Za=bs(Za,e,t,a,i,o),!0;case"mouseover":return Ia=bs(Ia,e,t,a,i,o),!0;case"pointerover":var c=o.pointerId;return ys.set(c,bs(ys.get(c)||null,e,t,a,i,o)),!0;case"gotpointercapture":return c=o.pointerId,_s.set(c,bs(_s.get(c)||null,e,t,a,i,o)),!0}return!1}function tm(e){var t=Dn(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,mu(e.priority,function(){Wf(a)});return}}else if(t===31){if(t=v(a),t!==null){e.blockedOn=t,mu(e.priority,function(){Wf(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ir(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Ec(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);El=i,a.target.dispatchEvent(i),El=null}else return t=Un(a),t!==null&&Pf(t),e.blockedOn=a,!1;t.shift()}return!0}function am(e,t,a){Ir(e)&&a.delete(t)}function Sp(){jc=!1,Ja!==null&&Ir(Ja)&&(Ja=null),Za!==null&&Ir(Za)&&(Za=null),Ia!==null&&Ir(Ia)&&(Ia=null),ys.forEach(am),_s.forEach(am)}function Pr(e,t){e.blockedOn===t&&(e.blockedOn=null,jc||(jc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Sp)))}var Wr=null;function nm(e){Wr!==e&&(Wr=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Wr===e&&(Wr=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(xc(i||a)===null)continue;break}var c=Un(a);c!==null&&(e.splice(t,3),t-=3,Eo(c,{pending:!0,data:o,method:a.method,action:i},i,o))}}))}function gi(e){function t(w){return Pr(w,e)}Ja!==null&&Pr(Ja,e),Za!==null&&Pr(Za,e),Ia!==null&&Pr(Ia,e),ys.forEach(t),_s.forEach(t);for(var a=0;a<Pa.length;a++){var i=Pa[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Pa.length&&(a=Pa[0],a.blockedOn===null);)tm(a),a.blockedOn===null&&Pa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var o=a[i],c=a[i+1],m=o[yt]||null;if(typeof c=="function")m||nm(a);else if(m){var y=null;if(c&&c.hasAttribute("formAction")){if(o=c,m=c[yt]||null)y=m.formAction;else if(xc(o)!==null)continue}else y=m.action;typeof y=="function"?a[i+1]=y:(a.splice(i,3),i-=3),nm(a)}}}function im(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Tc(e){this._internalRoot=e}Fr.prototype.render=Tc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,i=Ut();Zf(a,i,e,t,null,null)},Fr.prototype.unmount=Tc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zf(e.current,2,null,e,null,null),Dr(),t[kn]=null}};function Fr(e){this._internalRoot=e}Fr.prototype.unstable_scheduleHydration=function(e){if(e){var t=fu();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Pa.length&&t!==0&&t<Pa[a].priority;a++);Pa.splice(a,0,e),a===0&&tm(e)}};var sm=n.version;if(sm!=="19.2.3")throw Error(l(527,sm,"19.2.3"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var Ep={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var el=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!el.isDisabled&&el.supportsFiber)try{Oi=el.inject(Ep),Tt=el}catch{}}return Ss.createRoot=function(e,t){if(!u(e))throw Error(l(299));var a=!1,i="",o=dh,c=hh,m=fh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Xf(e,1,!1,null,null,a,i,null,o,c,m,im),e[kn]=t.current,lc(e),new Tc(t)},Ss.hydrateRoot=function(e,t,a){if(!u(e))throw Error(l(299));var i=!1,o="",c=dh,m=hh,y=fh,w=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(c=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=Xf(e,1,!0,t,a??null,i,o,w,c,m,y,im),t.context=Jf(null),a=t.current,i=Ut(),i=gl(i),o=qa(i),o.callback=null,Ma(a,o,i),a=i,t.current.lanes=a,Ci(t,a),ia(t),e[kn]=t.current,lc(e),new Fr(t)},Ss.version="19.2.3",Ss}var gm;function Dp(){if(gm)return Oc.exports;gm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Oc.exports=kp(),Oc.exports}var Up=Dp();function he({children:s,variant:n="primary",size:r="md",onClick:l,disabled:u=!1,type:h="button",className:f=""}){return d.jsx("button",{type:h,className:`btn btn-${n} btn-${r} ${f}`,onClick:l,disabled:u,children:s})}function ol(s,n){var r={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&n.indexOf(l)<0&&(r[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(s);u<l.length;u++)n.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(s,l[u])&&(r[l[u]]=s[l[u]]);return r}function zp(s,n,r,l){function u(h){return h instanceof r?h:new r(function(f){f(h)})}return new(r||(r=Promise))(function(h,f){function v(_){try{p(l.next(_))}catch(b){f(b)}}function g(_){try{p(l.throw(_))}catch(b){f(b)}}function p(_){_.done?h(_.value):u(_.value).then(v,g)}p((l=l.apply(s,n||[])).next())})}const qp=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class nu extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class Mp extends nu{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class vm extends nu{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class pm extends nu{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Vc;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Vc||(Vc={}));class Bp{constructor(n,{headers:r={},customFetch:l,region:u=Vc.Any}={}){this.url=n,this.headers=r,this.region=u,this.fetch=qp(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return zp(this,arguments,void 0,function*(r,l={}){var u;let h,f;try{const{headers:v,method:g,body:p,signal:_,timeout:b}=l;let S={},{region:j}=l;j||(j=this.region);const R=new URL(`${this.url}/${r}`);j&&j!=="any"&&(S["x-region"]=j,R.searchParams.set("forceFunctionRegion",j));let z;p&&(v&&!Object.prototype.hasOwnProperty.call(v,"Content-Type")||!v)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",z=p):typeof p=="string"?(S["Content-Type"]="text/plain",z=p):typeof FormData<"u"&&p instanceof FormData?z=p:(S["Content-Type"]="application/json",z=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?z=JSON.stringify(p):z=p;let U=_;b&&(f=new AbortController,h=setTimeout(()=>f.abort(),b),_?(U=f.signal,_.addEventListener("abort",()=>f.abort())):U=f.signal);const Y=yield this.fetch(R.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),v),body:z,signal:U}).catch(k=>{throw new Mp(k)}),Z=Y.headers.get("x-relay-error");if(Z&&Z==="true")throw new vm(Y);if(!Y.ok)throw new pm(Y);let V=((u=Y.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),M;return V==="application/json"?M=yield Y.json():V==="application/octet-stream"||V==="application/pdf"?M=yield Y.blob():V==="text/event-stream"?M=Y:V==="multipart/form-data"?M=yield Y.formData():M=yield Y.text(),{data:M,error:null,response:Y}}catch(v){return{data:null,error:v,response:v instanceof pm||v instanceof vm?v.context:void 0}}finally{h&&clearTimeout(h)}})}}var Lp=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Hp=class{constructor(s){var n,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(n=s.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=s.signal,this.isMaybeSingle=(r=s.isMaybeSingle)!==null&&r!==void 0?r:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=new Headers(this.headers),this.headers.set(s,n),this}then(s,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let u=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let f=null,v=null,g=null,p=h.status,_=h.statusText;if(h.ok){var b,S;if(r.method!=="HEAD"){var j;const Y=await h.text();Y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((j=r.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?v=Y:v=JSON.parse(Y))}const z=(b=r.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),U=(S=h.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");z&&U&&U.length>1&&(g=parseInt(U[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(v)&&(v.length>1?(f={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,g=null,p=406,_="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{var R;const z=await h.text();try{f=JSON.parse(z),Array.isArray(f)&&h.status===404&&(v=[],f=null,p=200,_="OK")}catch{h.status===404&&z===""?(p=204,_="No Content"):f={message:z}}if(f&&r.isMaybeSingle&&(!(f==null||(R=f.details)===null||R===void 0)&&R.includes("0 rows"))&&(f=null,p=200,_="OK"),f&&r.shouldThrowOnError)throw new Lp(f)}return{error:f,data:v,count:g,status:p,statusText:_}});return this.shouldThrowOnError||(u=u.catch(h=>{var f;let v="";const g=h?.cause;if(g){var p,_,b,S;const R=(p=g?.message)!==null&&p!==void 0?p:"",z=(_=g?.code)!==null&&_!==void 0?_:"";v=`${(b=h?.name)!==null&&b!==void 0?b:"FetchError"}: ${h?.message}`,v+=`

Caused by: ${(S=g?.name)!==null&&S!==void 0?S:"Error"}: ${R}`,z&&(v+=` (${z})`),g?.stack&&(v+=`
${g.stack}`)}else{var j;v=(j=h?.stack)!==null&&j!==void 0?j:""}return{error:{message:`${(f=h?.name)!==null&&f!==void 0?f:"FetchError"}: ${h?.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),u.then(s,n)}returns(){return this}overrideTypes(){return this}},$p=class extends Hp{select(s){let n=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:n=!0,nullsFirst:r,foreignTable:l,referencedTable:u=l}={}){const h=u?`${u}.order`:"order",f=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${f?`${f},`:""}${s}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:n,referencedTable:r=n}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,n,{foreignTable:r,referencedTable:l=r}={}){const u=typeof l>"u"?"offset":`${l}.offset`,h=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this.url.searchParams.set(h,`${n-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:n=!1,settings:r=!1,buffers:l=!1,wal:u=!1,format:h="text"}={}){var f;const v=[s?"analyze":null,n?"verbose":null,r?"settings":null,l?"buffers":null,u?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${g}"; options=${v};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const ym=new RegExp("[,()]");var Si=class extends $p{eq(s,n){return this.url.searchParams.append(s,`eq.${n}`),this}neq(s,n){return this.url.searchParams.append(s,`neq.${n}`),this}gt(s,n){return this.url.searchParams.append(s,`gt.${n}`),this}gte(s,n){return this.url.searchParams.append(s,`gte.${n}`),this}lt(s,n){return this.url.searchParams.append(s,`lt.${n}`),this}lte(s,n){return this.url.searchParams.append(s,`lte.${n}`),this}like(s,n){return this.url.searchParams.append(s,`like.${n}`),this}likeAllOf(s,n){return this.url.searchParams.append(s,`like(all).{${n.join(",")}}`),this}likeAnyOf(s,n){return this.url.searchParams.append(s,`like(any).{${n.join(",")}}`),this}ilike(s,n){return this.url.searchParams.append(s,`ilike.${n}`),this}ilikeAllOf(s,n){return this.url.searchParams.append(s,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(s,n){return this.url.searchParams.append(s,`ilike(any).{${n.join(",")}}`),this}regexMatch(s,n){return this.url.searchParams.append(s,`match.${n}`),this}regexIMatch(s,n){return this.url.searchParams.append(s,`imatch.${n}`),this}is(s,n){return this.url.searchParams.append(s,`is.${n}`),this}isDistinct(s,n){return this.url.searchParams.append(s,`isdistinct.${n}`),this}in(s,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&ym.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${r})`),this}notIn(s,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&ym.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${r})`),this}contains(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cs.{${n.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(n)}`),this}containedBy(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cd.{${n.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(n)}`),this}rangeGt(s,n){return this.url.searchParams.append(s,`sr.${n}`),this}rangeGte(s,n){return this.url.searchParams.append(s,`nxl.${n}`),this}rangeLt(s,n){return this.url.searchParams.append(s,`sl.${n}`),this}rangeLte(s,n){return this.url.searchParams.append(s,`nxr.${n}`),this}rangeAdjacent(s,n){return this.url.searchParams.append(s,`adj.${n}`),this}overlaps(s,n){return typeof n=="string"?this.url.searchParams.append(s,`ov.${n}`):this.url.searchParams.append(s,`ov.{${n.join(",")}}`),this}textSearch(s,n,{config:r,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(s,`${u}fts${h}.${n}`),this}match(s){return Object.entries(s).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(s,n,r){return this.url.searchParams.append(s,`not.${n}.${r}`),this}or(s,{foreignTable:n,referencedTable:r=n}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,n,r){return this.url.searchParams.append(s,`${n}.${r}`),this}},Gp=class{constructor(s,{headers:n={},schema:r,fetch:l}){this.url=s,this.headers=new Headers(n),this.schema=r,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,n){const{head:r=!1,count:l}=n??{},u=r?"HEAD":"GET";let h=!1;const f=(s??"*").split("").map(p=>/\s/.test(p)&&!h?"":(p==='"'&&(h=!h),p)).join(""),{url:v,headers:g}=this.cloneRequestState();return v.searchParams.set("select",f),l&&g.append("Prefer",`count=${l}`),new Si({method:u,url:v,headers:g,schema:this.schema,fetch:this.fetch})}insert(s,{count:n,defaultToNull:r=!0}={}){var l;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),r||f.append("Prefer","missing=default"),Array.isArray(s)){const v=s.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(v.length>0){const g=[...new Set(v)].map(p=>`"${p}"`);h.searchParams.set("columns",g.join(","))}}return new Si({method:u,url:h,headers:f,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:n,ignoreDuplicates:r=!1,count:l,defaultToNull:u=!0}={}){var h;const f="POST",{url:v,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&v.searchParams.set("on_conflict",n),l&&g.append("Prefer",`count=${l}`),u||g.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((_,b)=>_.concat(Object.keys(b)),[]);if(p.length>0){const _=[...new Set(p)].map(b=>`"${b}"`);v.searchParams.set("columns",_.join(","))}}return new Si({method:f,url:v,headers:g,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(s,{count:n}={}){var r;const l="PATCH",{url:u,headers:h}=this.cloneRequestState();return n&&h.append("Prefer",`count=${n}`),new Si({method:l,url:u,headers:h,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:s}={}){var n;const r="DELETE",{url:l,headers:u}=this.cloneRequestState();return s&&u.append("Prefer",`count=${s}`),new Si({method:r,url:l,headers:u,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},Vp=class Hm{constructor(n,{headers:r={},schema:l,fetch:u}={}){this.url=n,this.headers=new Headers(r),this.schemaName=l,this.fetch=u}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Gp(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Hm(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,r={},{head:l=!1,get:u=!1,count:h}={}){var f;let v;const g=new URL(`${this.url}/rpc/${n}`);let p;const _=j=>j!==null&&typeof j=="object"&&(!Array.isArray(j)||j.some(_)),b=l&&Object.values(r).some(_);b?(v="POST",p=r):l||u?(v=l?"HEAD":"GET",Object.entries(r).filter(([j,R])=>R!==void 0).map(([j,R])=>[j,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([j,R])=>{g.searchParams.append(j,R)})):(v="POST",p=r);const S=new Headers(this.headers);return b?S.set("Prefer",h?`count=${h},return=minimal`:"return=minimal"):h&&S.set("Prefer",`count=${h}`),new Si({method:v,url:g,headers:S,schema:this.schemaName,body:p,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Yp{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const u=l.node,h=parseInt(u.replace(/^v/,"").split(".")[0]);return h>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${h} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${h} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Kp="2.90.1",Qp=`realtime-js/${Kp}`,$m="1.0.0",Xp="2.0.0",_m=$m,Yc=1e4,Jp=1e3,Zp=100;var Fa;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Fa||(Fa={}));var tt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(tt||(tt={}));var ea;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(ea||(ea={}));var Kc;(function(s){s.websocket="websocket"})(Kc||(Kc={}));var Tn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Tn||(Tn={}));class Ip{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const u=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(n){var r,l;const u=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,r,l){var u,h;const f=n.topic,v=(u=n.ref)!==null&&u!==void 0?u:"",g=(h=n.join_ref)!==null&&h!==void 0?h:"",p=n.payload.event,_=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},b=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`ref length ${v.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+v.length+f.length+p.length+b.length,j=new ArrayBuffer(this.HEADER_LENGTH+S);let R=new DataView(j),z=0;R.setUint8(z++,this.KINDS.userBroadcastPush),R.setUint8(z++,g.length),R.setUint8(z++,v.length),R.setUint8(z++,f.length),R.setUint8(z++,p.length),R.setUint8(z++,b.length),R.setUint8(z++,r),Array.from(g,Y=>R.setUint8(z++,Y.charCodeAt(0))),Array.from(v,Y=>R.setUint8(z++,Y.charCodeAt(0))),Array.from(f,Y=>R.setUint8(z++,Y.charCodeAt(0))),Array.from(p,Y=>R.setUint8(z++,Y.charCodeAt(0))),Array.from(b,Y=>R.setUint8(z++,Y.charCodeAt(0)));var U=new Uint8Array(j.byteLength+l.byteLength);return U.set(new Uint8Array(j),0),U.set(new Uint8Array(l),j.byteLength),U.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[u,h,f,v,g]=l;return r({join_ref:u,ref:h,topic:f,event:v,payload:g})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),u=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,r,u)}_decodeUserBroadcast(n,r,l){const u=r.getUint8(1),h=r.getUint8(2),f=r.getUint8(3),v=r.getUint8(4);let g=this.HEADER_LENGTH+4;const p=l.decode(n.slice(g,g+u));g=g+u;const _=l.decode(n.slice(g,g+h));g=g+h;const b=l.decode(n.slice(g,g+f));g=g+f;const S=n.slice(g,n.byteLength),j=v===this.JSON_ENCODING?JSON.parse(l.decode(S)):S,R={type:this.BROADCAST_EVENT,event:_,payload:j};return f>0&&(R.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:R}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}class Gm{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Me||(Me={}));const bm=(s,n,r={})=>{var l;const u=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((h,f)=>(h[f]=Pp(f,s,n,u),h),{}):{}},Pp=(s,n,r,l)=>{const u=n.find(v=>v.name===s),h=u?.type,f=r[s];return h&&!l.includes(h)?Vm(h,f):Qc(f)},Vm=(s,n)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return ty(n,r)}switch(s){case Me.bool:return Wp(n);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return Fp(n);case Me.json:case Me.jsonb:return ey(n);case Me.timestamp:return ay(n);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Qc(n);default:return Qc(n)}},Qc=s=>s,Wp=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Fp=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},ey=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},ty=(s,n)=>{if(typeof s!="string")return s;const r=s.length-1,l=s[r];if(s[0]==="{"&&l==="}"){let h;const f=s.slice(1,r);try{h=JSON.parse("["+f+"]")}catch{h=f?f.split(","):[]}return h.map(v=>Vm(n,v))}return s},ay=s=>typeof s=="string"?s.replace(" ","T"):s,Ym=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Dc{constructor(n,r,l={},u=Yc){this.channel=n,this.event=r,this.payload=l,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var wm;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(wm||(wm={}));class js{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},u=>{const{onJoin:h,onLeave:f,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=js.syncState(this.state,u,h,f),this.pendingDiffs.forEach(g=>{this.state=js.syncDiff(this.state,g,h,f)}),this.pendingDiffs=[],v()}),this.channel._on(l.diff,{},u=>{const{onJoin:h,onLeave:f,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=js.syncDiff(this.state,u,h,f),v())}),this.onJoin((u,h,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:h,newPresences:f})}),this.onLeave((u,h,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:h,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,u){const h=this.cloneDeep(n),f=this.transformState(r),v={},g={};return this.map(h,(p,_)=>{f[p]||(g[p]=_)}),this.map(f,(p,_)=>{const b=h[p];if(b){const S=_.map(U=>U.presence_ref),j=b.map(U=>U.presence_ref),R=_.filter(U=>j.indexOf(U.presence_ref)<0),z=b.filter(U=>S.indexOf(U.presence_ref)<0);R.length>0&&(v[p]=R),z.length>0&&(g[p]=z)}else v[p]=_}),this.syncDiff(h,{joins:v,leaves:g},l,u)}static syncDiff(n,r,l,u){const{joins:h,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),u||(u=()=>{}),this.map(h,(v,g)=>{var p;const _=(p=n[v])!==null&&p!==void 0?p:[];if(n[v]=this.cloneDeep(g),_.length>0){const b=n[v].map(j=>j.presence_ref),S=_.filter(j=>b.indexOf(j.presence_ref)<0);n[v].unshift(...S)}l(v,_,g)}),this.map(f,(v,g)=>{let p=n[v];if(!p)return;const _=g.map(b=>b.presence_ref);p=p.filter(b=>_.indexOf(b.presence_ref)<0),n[v]=p,u(v,p,g),p.length===0&&delete n[v]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const u=n[l];return"metas"in u?r[l]=u.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):r[l]=u,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sm;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Sm||(Sm={}));var Ts;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Ts||(Ts={}));var ja;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(ja||(ja={}));class ji{constructor(n,r={config:{}},l){var u,h;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Dc(this,ea.join,this.params,this.timeout),this.rejoinTimer=new Gm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ea.reply,{},(f,v)=>{this._trigger(this._replyEventName(v),f)}),this.presence=new js(this),this.broadcastEndpointURL=Ym(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,u,h;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:f,presence:v,private:g}}=this.params,p=(u=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(j=>j.filter))!==null&&u!==void 0?u:[],_=!!this.bindings[Ts.PRESENCE]&&this.bindings[Ts.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,b={},S={broadcast:f,presence:Object.assign(Object.assign({},v),{enabled:_}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(j=>n?.(ja.CHANNEL_ERROR,j)),this._onClose(()=>n?.(ja.CLOSED)),this.updateJoinPayload(Object.assign({config:S},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:j})=>{var R;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){n?.(ja.SUBSCRIBED);return}else{const z=this.bindings.postgres_changes,U=(R=z?.length)!==null&&R!==void 0?R:0,Y=[];for(let Z=0;Z<U;Z++){const V=z[Z],{filter:{event:M,schema:k,table:G,filter:K}}=V,I=j&&j[Z];if(I&&I.event===M&&ji.isFilterValueEqual(I.schema,k)&&ji.isFilterValueEqual(I.table,G)&&ji.isFilterValueEqual(I.filter,K))Y.push(Object.assign(Object.assign({},V),{id:I.id}));else{this.unsubscribe(),this.state=tt.errored,n?.(ja.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,n&&n(ja.SUBSCRIBED);return}}).receive("error",j=>{this.state=tt.errored,n?.(ja.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{n?.(ja.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===tt.joined&&n===Ts.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var u;if(r==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},v=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=l.timeout)!==null&&u!==void 0?u:this.timeout);if(v.status===202)return{success:!0};let g=v.statusText;try{const p=await v.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(n,r={}){var l,u;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:f}=n,v={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(v.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:v,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((u=p.body)===null||u===void 0?void 0:u.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var f,v,g;const p=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(v=(f=this.params)===null||f===void 0?void 0:f.config)===null||v===void 0?void 0:v.broadcast)===null||g===void 0)&&g.ack)&&h("ok"),p.receive("ok",()=>h("ok")),p.receive("error",()=>h("error")),p.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ea.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(u=>{l=new Dc(this,ea.leave,{},n),l.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const u=new AbortController,h=setTimeout(()=>u.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(h),f}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Dc(this,n,r,l);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Zp){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var u,h;const f=n.toLocaleLowerCase(),{close:v,error:g,leave:p,join:_}=ea;if(l&&[v,g,p,_].indexOf(f)>=0&&l!==this._joinRef())return;let S=this._onMessage(f,r,l);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(j=>{var R,z,U;return((R=j.filter)===null||R===void 0?void 0:R.event)==="*"||((U=(z=j.filter)===null||z===void 0?void 0:z.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===f}).map(j=>j.callback(S,l)):(h=this.bindings[f])===null||h===void 0||h.filter(j=>{var R,z,U,Y,Z,V,M,k;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in j){const G=j.id,K=(R=j.filter)===null||R===void 0?void 0:R.event;return G&&((z=r.ids)===null||z===void 0?void 0:z.includes(G))&&(K==="*"||K?.toLocaleLowerCase()===((U=r.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))&&(!(!((Y=j.filter)===null||Y===void 0)&&Y.table)||j.filter.table===((Z=r.data)===null||Z===void 0?void 0:Z.table))}else{const G=(M=(V=j?.filter)===null||V===void 0?void 0:V.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return G==="*"||G===((k=r?.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===f}).map(j=>{if(typeof S=="object"&&"ids"in S){const R=S.data,{schema:z,table:U,commit_timestamp:Y,type:Z,errors:V}=R;S=Object.assign(Object.assign({},{schema:z,table:U,commit_timestamp:Y,eventType:Z,new:{},old:{},errors:V}),this._getPayloadRecords(R))}j.callback(S,l)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const u=n.toLocaleLowerCase(),h={type:u,filter:r,callback:l};return this.bindings[u]?this.bindings[u].push(h):this.bindings[u]=[h],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(u=>{var h;return!(((h=u.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===l&&ji.isEqual(u.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(ea.close,{},n)}_onError(n){this._on(ea.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=bm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=bm(n.columns,n.old_record)),r}}const Uc=()=>{},tl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ny=[1e3,2e3,5e3,1e4],iy=1e4,sy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ry{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yc,this.transport=null,this.heartbeatIntervalMs=tl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uc,this.ref=0,this.reconnectTimer=null,this.vsn=_m,this.logger=Uc,this.conn=null,this.sendBuffer=[],this.serializer=new Ip,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...h)=>u(...h):(...h)=>fetch(...h),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Kc.websocket}`,this.httpEndpoint=Ym(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Yp.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Fa.connecting:return Tn.Connecting;case Fa.open:return Tn.Open;case Fa.closing:return Tn.Closing;default:return Tn.Closed}}isConnected(){return this.connectionState()===Tn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,u=this.getChannels().find(h=>h.topic===l);if(u)return u;{const h=new ji(`realtime:${n}`,r,this);return this.channels.push(h),h}}push(n){const{topic:r,event:l,payload:u,ref:h}=n,f=()=>{this.encode(n,v=>{var g;(g=this.conn)===null||g===void 0||g.send(v)})};this.log("push",`${r} ${l} (${h})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Jp,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},tl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:u,payload:h,ref:f}=r,v=f?`(${f})`:"",g=h.status||"";this.log("receive",`${g} ${l} ${u} ${v}`.trim(),h),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(u,h,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Fa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fa.open||this.conn.readyState===Fa.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(ea.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${n}${l}${u}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([sy],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,l=!1;if(n)r=n,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(u=>{const h={access_token:r,version:Qp};r&&u.updateJoinPayload(h),u.joinedOnce&&u._isJoined()&&u._push(ea.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(u){this.log("error",`error in ${n} callback`,u)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Gm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},tl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,u,h,f,v,g,p,_,b,S,j;switch(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:Yc,this.heartbeatIntervalMs=(u=n?.heartbeatIntervalMs)!==null&&u!==void 0?u:tl.HEARTBEAT_INTERVAL,this.worker=(h=n?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(v=n?.heartbeatCallback)!==null&&v!==void 0?v:Uc,this.vsn=(g=n?.vsn)!==null&&g!==void 0?g:_m,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n?.reconnectAfterMs)!==null&&p!==void 0?p:(R=>ny[R-1]||iy),this.vsn){case $m:this.encode=(_=n?.encode)!==null&&_!==void 0?_:((R,z)=>z(JSON.stringify(R))),this.decode=(b=n?.decode)!==null&&b!==void 0?b:((R,z)=>z(JSON.parse(R)));break;case Xp:this.encode=(S=n?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(j=n?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var As=class extends Error{constructor(s,n){super(s),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ly(s,n,r){const l=new URL(n,s);if(r)for(const[u,h]of Object.entries(r))h!==void 0&&l.searchParams.set(u,h);return l.toString()}async function oy(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function cy(s){const n=s.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:u,body:h,headers:f}){const v=ly(s.baseUrl,l,u),g=await oy(s.auth),p=await n(v,{method:r,headers:{...h?{"Content-Type":"application/json"}:{},...g,...f},body:h?JSON.stringify(h):void 0}),_=await p.text(),b=(p.headers.get("content-type")||"").includes("application/json"),S=b&&_?JSON.parse(_):_;if(!p.ok){const j=b?S:void 0,R=j?.error;throw new As(R?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:R?.type,icebergCode:R?.code,details:j})}return{status:p.status,headers:p.headers,data:S}}}}function al(s){return s.join("")}var uy=class{constructor(s,n=""){this.client=s,this.prefix=n}async listNamespaces(s){const n=s?{parent:al(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,n){const r={namespace:s.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${al(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${al(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${al(s.namespace)}`}),!0}catch(n){if(n instanceof As&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(s,n){try{return await this.createNamespace(s,n)}catch(r){if(r instanceof As&&r.status===409)return;throw r}}};function vi(s){return s.join("")}var dy=class{constructor(s,n="",r){this.client=s,this.prefix=n,this.accessDelegation=r}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(s.namespace)}/tables`})).data.identifiers}async createTable(s,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vi(s.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(s,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vi(s.namespace)}/tables/${s.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(s,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vi(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(s.namespace)}/tables/${s.name}`,headers:n})).data.metadata}async tableExists(s){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vi(s.namespace)}/tables/${s.name}`,headers:n}),!0}catch(r){if(r instanceof As&&r.status===404)return!1;throw r}}async createTableIfNotExists(s,n){try{return await this.createTable(s,n)}catch(r){if(r instanceof As&&r.status===409)return await this.loadTable({namespace:s.namespace,name:n.name});throw r}}},hy=class{constructor(s){let n="v1";s.catalogName&&(n+=`/${s.catalogName}`);const r=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=cy({baseUrl:r,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=s.accessDelegation?.join(","),this.namespaceOps=new uy(this.client,n),this.tableOps=new dy(this.client,n,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,n){return this.namespaceOps.createNamespace(s,n)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,n){return this.tableOps.createTable(s,n)}async updateTable(s,n){return this.tableOps.updateTable(s,n)}async dropTable(s,n){await this.tableOps.dropTable(s,n)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,n){return this.namespaceOps.createNamespaceIfNotExists(s,n)}async createTableIfNotExists(s,n){return this.tableOps.createTableIfNotExists(s,n)}},cl=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function $e(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var fy=class extends cl{constructor(s,n,r){super(s),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xc=class extends cl{constructor(s,n){super(s),this.name="StorageUnknownError",this.originalError=n}};const iu=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),my=()=>Response,Jc=s=>{if(Array.isArray(s))return s.map(r=>Jc(r));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([r,l])=>{const u=r.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[u]=Jc(l)}),n},gy=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},vy=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Ns(s){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ns(s)}function py(s,n){if(Ns(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,n);if(Ns(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function yy(s){var n=py(s,"string");return Ns(n)=="symbol"?n:n+""}function _y(s,n,r){return(n=yy(n))in s?Object.defineProperty(s,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[n]=r,s}function Em(s,n){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),r.push.apply(r,l)}return r}function oe(s){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Em(Object(r),!0).forEach(function(l){_y(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Em(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const zc=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},by=async(s,n,r)=>{s instanceof await my()&&!r?.noResolveJson?s.json().then(l=>{const u=s.status||500,h=l?.statusCode||u+"";n(new fy(zc(l),u,h))}).catch(l=>{n(new Xc(zc(l),l))}):n(new Xc(zc(s),s))},wy=(s,n,r,l)=>{const u={method:s,headers:n?.headers||{}};return s==="GET"||!l?u:(gy(l)?(u.headers=oe({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,n?.duplex&&(u.duplex=n.duplex),oe(oe({},u),r))};async function Ds(s,n,r,l,u,h){return new Promise((f,v)=>{s(r,wy(n,l,u,h)).then(g=>{if(!g.ok)throw g;return l?.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>by(g,v,l))})}async function Os(s,n,r,l){return Ds(s,"GET",n,r,l)}async function Ft(s,n,r,l,u){return Ds(s,"POST",n,l,u,r)}async function Zc(s,n,r,l,u){return Ds(s,"PUT",n,l,u,r)}async function Sy(s,n,r,l){return Ds(s,"HEAD",n,oe(oe({},r),{},{noResolveJson:!0}),l)}async function su(s,n,r,l,u){return Ds(s,"DELETE",n,l,u,r)}var Ey=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}};let Km;Km=Symbol.toStringTag;var xy=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[Km]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ey(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}}};const jy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Ty=class{constructor(s,n={},r,l){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.bucketId=r,this.fetch=iu(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,n,r,l){var u=this;try{let h;const f=oe(oe({},xm),l);let v=oe(oe({},u.headers),s==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),g&&h.append("metadata",u.encodeMetadata(g)),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.has("cacheControl")||h.append("cacheControl",f.cacheControl),g&&!h.has("metadata")&&h.append("metadata",u.encodeMetadata(g))):(h=r,v["cache-control"]=`max-age=${f.cacheControl}`,v["content-type"]=f.contentType,g&&(v["x-metadata"]=u.toBase64(u.encodeMetadata(g))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(v=oe(oe({},v),l.headers));const p=u._removeEmptyFolders(n),_=u._getFinalPath(p),b=await(s=="PUT"?Zc:Ft)(u.fetch,`${u.url}/object/${_}`,h,oe({headers:v},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:b.Id,fullPath:b.Key},error:null}}catch(h){if(u.shouldThrowOnError)throw h;if($e(h))return{data:null,error:h};throw h}}async upload(s,n,r){return this.uploadOrUpdate("POST",s,n,r)}async uploadToSignedUrl(s,n,r,l){var u=this;const h=u._removeEmptyFolders(s),f=u._getFinalPath(h),v=new URL(u.url+`/object/upload/sign/${f}`);v.searchParams.set("token",n);try{let g;const p=oe({upsert:xm.upsert},l),_=oe(oe({},u.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,_["cache-control"]=`max-age=${p.cacheControl}`,_["content-type"]=p.contentType),{data:{path:h,fullPath:(await Zc(u.fetch,v.toString(),g,{headers:_})).Key},error:null}}catch(g){if(u.shouldThrowOnError)throw g;if($e(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(s,n){var r=this;try{let l=r._getFinalPath(s);const u=oe({},r.headers);n?.upsert&&(u["x-upsert"]="true");const h=await Ft(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:u}),f=new URL(r.url+h.url),v=f.searchParams.get("token");if(!v)throw new cl("No token returned by API");return{data:{signedUrl:f.toString(),path:s,token:v},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async update(s,n,r){return this.uploadOrUpdate("PUT",s,n,r)}async move(s,n,r){var l=this;try{return{data:await Ft(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers}),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}}async copy(s,n,r){var l=this;try{return{data:{path:(await Ft(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}}async createSignedUrl(s,n,r){var l=this;try{let u=l._getFinalPath(s),h=await Ft(l.fetch,`${l.url}/object/sign/${u}`,oe({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return h={signedUrl:encodeURI(`${l.url}${h.signedURL}${f}`)},{data:h,error:null}}catch(u){if(l.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}}async createSignedUrls(s,n,r){var l=this;try{const u=await Ft(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:s},{headers:l.headers}),h=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:u.map(f=>oe(oe({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${h}`):null})),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}}download(s,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"",h=this._getFinalPath(s),f=()=>Os(this.fetch,`${this.url}/${r}/${h}${u}`,{headers:this.headers,noResolveJson:!0});return new xy(f,this.shouldThrowOnError)}async info(s){var n=this;const r=n._getFinalPath(s);try{return{data:Jc(await Os(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async exists(s){var n=this;const r=n._getFinalPath(s);try{return await Sy(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if($e(l)&&l instanceof Xc){const u=l.originalError;if([400,404].includes(u?.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,n){const r=this._getFinalPath(s),l=[],u=n?.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const h=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${v}`)}}}async remove(s){var n=this;try{return{data:await su(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async list(s,n,r){var l=this;try{const u=oe(oe(oe({},jy),n),{},{prefix:s||""});return{data:await Ft(l.fetch,`${l.url}/object/list/${l.bucketId}`,u,{headers:l.headers},r),error:null}}catch(u){if(l.shouldThrowOnError)throw u;if($e(u))return{data:null,error:u};throw u}}async listV2(s,n){var r=this;try{const l=oe({},s);return{data:await Ft(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},n),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}};const Qm="2.90.1",Xm={"X-Client-Info":`storage-js/${Qm}`};var Ay=class{constructor(s,n={},r,l){this.shouldThrowOnError=!1;const u=new URL(s);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=oe(oe({},Xm),n),this.fetch=iu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var n=this;try{const r=n.listBucketOptionsToQueryString(s);return{data:await Os(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async getBucket(s){var n=this;try{return{data:await Os(n.fetch,`${n.url}/bucket/${s}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async createBucket(s,n={public:!1}){var r=this;try{return{data:await Ft(r.fetch,`${r.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async updateBucket(s,n){var r=this;try{return{data:await Zc(r.fetch,`${r.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}}async emptyBucket(s){var n=this;try{return{data:await Ft(n.fetch,`${n.url}/bucket/${s}/empty`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await su(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Ny=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=oe(oe({},Xm),n),this.fetch=iu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await Ft(n.fetch,`${n.url}/bucket`,{name:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async listBuckets(s){var n=this;try{const r=new URLSearchParams;s?.limit!==void 0&&r.set("limit",s.limit.toString()),s?.offset!==void 0&&r.set("offset",s.offset.toString()),s?.sortColumn&&r.set("sortColumn",s.sortColumn),s?.sortOrder&&r.set("sortOrder",s.sortOrder),s?.search&&r.set("search",s.search);const l=r.toString(),u=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await Os(n.fetch,u,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await su(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}from(s){var n=this;if(!vy(s))throw new cl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new hy({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(u,h){const f=u[h];return typeof f!="function"?f:async(...v)=>{try{return{data:await f.apply(u,v),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}};const ru={"X-Client-Info":`storage-js/${Qm}`,"Content-Type":"application/json"};var Jm=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function qt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var qc=class extends Jm{constructor(s,n,r){super(s),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Oy=class extends Jm{constructor(s,n){super(s),this.name="StorageVectorsUnknownError",this.originalError=n}};const lu=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Ry=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},jm=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Cy=async(s,n,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!r?.noResolveJson){const l=s.status||500,u=s;if(typeof u.json=="function")u.json().then(h=>{const f=h?.statusCode||h?.code||l+"";n(new qc(jm(h),l,f))}).catch(()=>{const h=l+"";n(new qc(u.statusText||`HTTP ${l} error`,l,h))});else{const h=l+"";n(new qc(u.statusText||`HTTP ${l} error`,l,h))}}else n(new Oy(jm(s),s))},ky=(s,n,r,l)=>{const u={method:s,headers:n?.headers||{}};return l?(Ry(l)?(u.headers=oe({"Content-Type":"application/json"},n?.headers),u.body=JSON.stringify(l)):u.body=l,oe(oe({},u),r)):u};async function Dy(s,n,r,l,u,h){return new Promise((f,v)=>{s(r,ky(n,l,u,h)).then(g=>{if(!g.ok)throw g;if(l?.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Cy(g,v,l))})}async function Mt(s,n,r,l,u){return Dy(s,"POST",n,l,u,r)}var Uy=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=oe(oe({},ru),n),this.fetch=lu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/CreateIndex`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}}async getIndex(s,n){var r=this;try{return{data:await Mt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}}async listIndexes(s){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/ListIndexes`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}}async deleteIndex(s,n){var r=this;try{return{data:await Mt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:r.headers})||{},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(qt(l))return{data:null,error:l};throw l}}},zy=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=oe(oe({},ru),n),this.fetch=lu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var n=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Mt(n.fetch,`${n.url}/PutVectors`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}}async getVectors(s){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/GetVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}}async listVectors(s){var n=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Mt(n.fetch,`${n.url}/ListVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}}async queryVectors(s){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/QueryVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}}async deleteVectors(s){var n=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Mt(n.fetch,`${n.url}/DeleteVectors`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}}},qy=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=oe(oe({},ru),n),this.fetch=lu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}}async getBucket(s){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}}async listBuckets(s={}){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/ListVectorBuckets`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await Mt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qt(r))return{data:null,error:r};throw r}}},My=class extends qy{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new By(this.url,this.headers,s,this.fetch)}async createBucket(s){var n=()=>super.createBucket,r=this;return n().call(r,s)}async getBucket(s){var n=()=>super.getBucket,r=this;return n().call(r,s)}async listBuckets(s={}){var n=()=>super.listBuckets,r=this;return n().call(r,s)}async deleteBucket(s){var n=()=>super.deleteBucket,r=this;return n().call(r,s)}},By=class extends Uy{constructor(s,n,r,l){super(s,n,l),this.vectorBucketName=r}async createIndex(s){var n=()=>super.createIndex,r=this;return n().call(r,oe(oe({},s),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(s={}){var n=()=>super.listIndexes,r=this;return n().call(r,oe(oe({},s),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(s){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,s)}async deleteIndex(s){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,s)}index(s){return new Ly(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Ly=class extends zy{constructor(s,n,r,l,u){super(s,n,u),this.vectorBucketName=r,this.indexName=l}async putVectors(s){var n=()=>super.putVectors,r=this;return n().call(r,oe(oe({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(s){var n=()=>super.getVectors,r=this;return n().call(r,oe(oe({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(s={}){var n=()=>super.listVectors,r=this;return n().call(r,oe(oe({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(s){var n=()=>super.queryVectors,r=this;return n().call(r,oe(oe({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(s){var n=()=>super.deleteVectors,r=this;return n().call(r,oe(oe({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Hy=class extends Ay{constructor(s,n={},r,l){super(s,n,r,l)}from(s){return new Ty(this.url,this.headers,s,this.fetch)}get vectors(){return new My(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ny(this.url+"/iceberg",this.headers,this.fetch)}};const Zm="2.90.1",Ei=30*1e3,Ic=3,Mc=Ic*Ei,$y="http://localhost:9999",Gy="supabase.auth.token",Vy={"X-Client-Info":`gotrue-js/${Zm}`},Pc="X-Supabase-Api-Version",Im={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Yy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ky=600*1e3;class Rs extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function ne(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Qy extends Rs{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function Xy(s){return ne(s)&&s.name==="AuthApiError"}class An extends Rs{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Aa extends Rs{constructor(n,r,l,u){super(n,l,u),this.name=r,this.status=l}}class zt extends Aa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jy(s){return ne(s)&&s.name==="AuthSessionMissingError"}class pi extends Aa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nl extends Aa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class il extends Aa{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zy(s){return ne(s)&&s.name==="AuthImplicitGrantRedirectError"}class Tm extends Aa{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Iy extends Aa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Wc extends Aa{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Bc(s){return ne(s)&&s.name==="AuthRetryableFetchError"}class Am extends Aa{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class Fc extends Aa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nm=` 	
\r=`.split(""),Py=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<Nm.length;n+=1)s[Nm[n].charCodeAt(0)]=-2;for(let n=0;n<sl.length;n+=1)s[sl[n].charCodeAt(0)]=n;return s})();function Om(s,n,r){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(sl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(sl[l]),n.queuedBits-=6}}function Pm(s,n,r){const l=Py[s];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Rm(s){const n=[],r=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},h=f=>{e_(f,l,r)};for(let f=0;f<s.length;f+=1)Pm(s.charCodeAt(f),u,h);return n.join("")}function Wy(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function Fy(s,n){for(let r=0;r<s.length;r+=1){let l=s.charCodeAt(r);if(l>55295&&l<=56319){const u=(l-55296)*1024&65535;l=(s.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}Wy(l,n)}}function e_(s,n,r){if(n.utf8seq===0){if(s<=127){r(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function Ti(s){const n=[],r={queue:0,queuedBits:0},l=u=>{n.push(u)};for(let u=0;u<s.length;u+=1)Pm(s.charCodeAt(u),r,l);return new Uint8Array(n)}function t_(s){const n=[];return Fy(s,r=>n.push(r)),new Uint8Array(n)}function Nn(s){const n=[],r={queue:0,queuedBits:0},l=u=>{n.push(u)};return s.forEach(u=>Om(u,r,l)),Om(null,r,l),n.join("")}function a_(s){return Math.round(Date.now()/1e3)+s}function n_(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",En={tested:!1,writable:!1},Wm=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(En.tested)return En.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),En.tested=!0,En.writable=!0}catch{En.tested=!0,En.writable=!1}return En.writable};function i_(s){const n={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,h)=>{n[h]=u})}catch{}return r.searchParams.forEach((l,u)=>{n[u]=l}),n}const Fm=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),s_=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",xi=async(s,n,r)=>{await s.setItem(n,JSON.stringify(r))},xn=async(s,n)=>{const r=await s.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ht=async(s,n)=>{await s.removeItem(n)};class ul{constructor(){this.promise=new ul.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}ul.promiseConstructor=Promise;function Lc(s){const n=s.split(".");if(n.length!==3)throw new Fc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Yy.test(n[l]))throw new Fc("JWT not in base64url format");return{header:JSON.parse(Rm(n[0])),payload:JSON.parse(Rm(n[1])),signature:Ti(n[2]),raw:{header:n[0],payload:n[1]}}}async function r_(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function l_(s,n){return new Promise((l,u)=>{(async()=>{for(let h=0;h<1/0;h++)try{const f=await s(h);if(!n(h,null,f)){l(f);return}}catch(f){if(!n(h,f)){u(f);return}}})()})}function o_(s){return("0"+s.toString(16)).substr(-2)}function c_(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let u="";for(let h=0;h<56;h++)u+=r.charAt(Math.floor(Math.random()*l));return u}return crypto.getRandomValues(n),Array.from(n,o_).join("")}async function u_(s){const r=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(l);return Array.from(u).map(h=>String.fromCharCode(h)).join("")}async function d_(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await u_(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yi(s,n,r=!1){const l=c_();let u=l;r&&(u+="/PASSWORD_RECOVERY"),await xi(s,`${n}-code-verifier`,u);const h=await d_(l);return[h,l===h?"plain":"s256"]}const h_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f_(s){const n=s.headers.get(Pc);if(!n||!n.match(h_))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function m_(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function g_(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const v_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _i(s){if(!v_.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Hc(){const s={};return new Proxy(s,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function p_(s,n){return new Proxy(s,{get:(r,l,u)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const h=l.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,u)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,u)}})}function Cm(s){return JSON.parse(JSON.stringify(s))}const jn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),y_=[502,503,504];async function km(s){var n;if(!s_(s))throw new Wc(jn(s),0);if(y_.includes(s.status))throw new Wc(jn(s),s.status);let r;try{r=await s.json()}catch(h){throw new An(jn(h),h)}let l;const u=f_(s);if(u&&u.getTime()>=Im["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new Am(jn(r),s.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new zt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((h,f)=>h&&typeof f=="string",!0))throw new Am(jn(r),s.status,r.weak_password.reasons);throw new Qy(jn(r),s.status||500,l)}const __=(s,n,r,l)=>{const u={method:s,headers:n?.headers||{}};return s==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),u.body=JSON.stringify(l),Object.assign(Object.assign({},u),r))};async function le(s,n,r,l){var u;const h=Object.assign({},l?.headers);h[Pc]||(h[Pc]=Im["2024-01-01"].name),l?.jwt&&(h.Authorization=`Bearer ${l.jwt}`);const f=(u=l?.query)!==null&&u!==void 0?u:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const v=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await b_(s,n,r+v,{headers:h,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(g):{data:Object.assign({},g),error:null}}async function b_(s,n,r,l,u,h){const f=__(n,l,u,h);let v;try{v=await s(r,Object.assign({},f))}catch(g){throw console.error(g),new Wc(jn(g),0)}if(v.ok||await km(v),l?.noResolveJson)return v;try{return await v.json()}catch(g){await km(g)}}function Wt(s){var n;let r=null;E_(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=a_(s.expires_in)));const l=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:r,user:l},error:null}}function Dm(s){const n=Wt(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=s.weak_password),n}function en(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function w_(s){return{data:s,error:null}}function S_(s){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:u,verification_type:h}=s,f=ol(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:n,email_otp:r,hashed_token:l,redirect_to:u,verification_type:h},g=Object.assign({},f);return{data:{properties:v,user:g},error:null}}function Um(s){return s}function E_(s){return s.access_token&&s.refresh_token&&s.expires_in}const $c=["global","local","others"];class x_{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=Fm(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=$c[0]){if($c.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$c.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ne(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:en})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=ol(n,["options"]),u=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(u.new_email=l?.newEmail,delete u.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:S_,redirectTo:r?.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:en})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,u,h,f,v,g;try{const p={nextPage:null,lastPage:0,total:0},_=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:Um});if(_.error)throw _.error;const b=await _.json(),S=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(g=(v=_.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&g!==void 0?g:[];return j.length>0&&(j.forEach(R=>{const z=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(R.split(";")[1].split("=")[1]);p[`${U}Page`]=z}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(ne(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){_i(n);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:en})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){_i(n);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:en})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){_i(n);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:en})}catch(l){if(ne(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){_i(n.userId);try{const{data:r,error:l}=await le(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:l}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(n){_i(n.userId),_i(n.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,u,h,f,v,g;try{const p={nextPage:null,lastPage:0,total:0},_=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(h=(u=n?.perPage)===null||u===void 0?void 0:u.toString())!==null&&h!==void 0?h:""},xform:Um});if(_.error)throw _.error;const b=await _.json(),S=(f=_.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(g=(v=_.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&g!==void 0?g:[];return j.length>0&&(j.forEach(R=>{const z=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(R.split(";")[1].split("=")[1]);p[`${U}Page`]=z}),p.total=parseInt(S)),{data:Object.assign(Object.assign({},b),p),error:null}}catch(p){if(ne(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ne(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}}function zm(s={}){return{getItem:n=>s[n]||null,setItem:(n,r)=>{s[n]=r},removeItem:n=>{delete s[n]}}}const bi={debug:!!(globalThis&&Wm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class eg extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class j_ extends eg{}async function T_(s,n,r){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),bi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async u=>{if(u){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,u.name);try{return await r()}finally{bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,u.name)}}else{if(n===0)throw bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new j_(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(bi.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function A_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tg(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function N_(s){return parseInt(s,16)}function O_(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function R_(s){var n;const{chainId:r,domain:l,expirationTime:u,issuedAt:h=new Date,nonce:f,notBefore:v,requestId:g,resources:p,scheme:_,uri:b,version:S}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const j=tg(s.address),R=_?`${_}://${l}`:l,z=s.statement?`${s.statement}
`:"",U=`${R} wants you to sign in with your Ethereum account:
${j}

${z}`;let Y=`URI: ${b}
Version: ${S}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${h.toISOString()}`;if(u&&(Y+=`
Expiration Time: ${u.toISOString()}`),v&&(Y+=`
Not Before: ${v.toISOString()}`),g&&(Y+=`
Request ID: ${g}`),p){let Z=`
Resources:`;for(const V of p){if(!V||typeof V!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${V}`);Z+=`
- ${V}`}Y+=Z}return`${U}
${Y}`}class Fe extends Error{constructor({message:n,code:r,cause:l,name:u}){var h;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(h=u??(l instanceof Error?l.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=r}}class rl extends Fe{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function C_({error:s,options:n}){var r,l,u;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=h.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((l=h.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((u=h.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new Fe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return h.pubKeyCredParams.filter(v=>v.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const f=window.location.hostname;if(ag(f)){if(h.rp.id!==f)return new Fe({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function k_({error:s,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new Fe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(ag(l)){if(r.rpId!==l)return new Fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class D_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const U_=new D_;function z_(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:r,excludeCredentials:l}=s,u=ol(s,["challenge","user","excludeCredentials"]),h=Ti(n).buffer,f=Object.assign(Object.assign({},r),{id:Ti(r.id).buffer}),v=Object.assign(Object.assign({},u),{challenge:h,user:f});if(l&&l.length>0){v.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const p=l[g];v.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Ti(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return v}function q_(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:r}=s,l=ol(s,["challenge","allowCredentials"]),u=Ti(n).buffer,h=Object.assign(Object.assign({},l),{challenge:u});if(r&&r.length>0){h.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const v=r[f];h.allowCredentials[f]=Object.assign(Object.assign({},v),{id:Ti(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return h}function M_(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:Nn(new Uint8Array(s.response.attestationObject)),clientDataJSON:Nn(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function B_(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,l=s.getClientExtensionResults(),u=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Nn(new Uint8Array(u.authenticatorData)),clientDataJSON:Nn(new Uint8Array(u.clientDataJSON)),signature:Nn(new Uint8Array(u.signature)),userHandle:u.userHandle?Nn(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function ag(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function qm(){var s,n;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function L_(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new rl("Browser returned unexpected credential type",n)}:{data:null,error:new rl("Empty credential response",n)}}catch(n){return{data:null,error:C_({error:n,options:s})}}}async function H_(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new rl("Browser returned unexpected credential type",n)}:{data:null,error:new rl("Empty credential response",n)}}catch(n){return{data:null,error:k_({error:n,options:s})}}}const $_={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},G_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ll(...s){const n=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),r=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),l={};for(const u of s)if(u)for(const h in u){const f=u[h];if(f!==void 0)if(Array.isArray(f))l[h]=f;else if(r(f))l[h]=f;else if(n(f)){const v=l[h];n(v)?l[h]=ll(v,f):l[h]=ll(f)}else l[h]=f}return l}function V_(s,n){return ll($_,s,n||{})}function Y_(s,n){return ll(G_,s,n||{})}class K_{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:u},h){try{const{data:f,error:v}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!f)return{data:null,error:v};const g=u??U_.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=V_(f.webauthn.credential_options.publicKey,h?.create),{data:_,error:b}=await L_({publicKey:p,signal:g});return _?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}case"request":{const p=Y_(f.webauthn.credential_options.publicKey,h?.request),{data:_,error:b}=await H_(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:g}));return _?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:_}},error:null}:{data:null,error:b}}}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new An("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!r)return{data:null,error:new Rs("rpId is required for WebAuthn authentication")};try{if(!qm())return{data:null,error:new An("Browser does not support WebAuthn",null)};const{data:f,error:v}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:u},{request:h});if(!f)return{data:null,error:v};const{webauthn:g}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:l,credential_response:g.credential_response}})}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new An("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},h){if(!r)return{data:null,error:new Rs("rpId is required for WebAuthn registration")};try{if(!qm())return{data:null,error:new An("Browser does not support WebAuthn",null)};const{data:f,error:v}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(_=>{var b;return(b=_.data)===null||b===void 0?void 0:b.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===n&&S.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_?.id}):void 0),{data:null,error:v};const{data:g,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:u},{create:h});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(f){return ne(f)?{data:null,error:f}:{data:null,error:new An("Unexpected error in register",f)}}}}A_();const Q_={url:$y,storageKey:Gy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Mm(s,n,r){return await r()}const wi={};class Cs{get jwks(){var n,r;return(r=(n=wi[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=wi[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},Q_),n);if(this.storageKey=h.storageKey,this.instanceID=(r=Cs.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Cs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&ft()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new x_({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=Fm(h.fetch),this.lock=h.lock||Mm,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,this.lockAcquireTimeout=h.lockAcquireTimeout,h.lock?this.lock=h.lock:this.persistSession&&ft()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=T_:this.lock=Mm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new K_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Wm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zm(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=zm(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Zm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(ft()&&(r=i_(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),ft()&&this.detectSessionInUrl&&l!=="none"){const{data:u,error:h}=await this._getSessionFromURL(r,l);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),Zy(h)){const g=(n=h.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:h}}return{error:h}}const{session:f,redirectType:v}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",v),await this._saveSession(f),setTimeout(async()=>{v==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?this._returnResult({error:r}):this._returnResult({error:new An("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,u;try{const h=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(u=n?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Wt}),{data:f,error:v}=h;if(v||!f)return this._returnResult({data:{user:null,session:null},error:v});const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(h){if(ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var r,l,u;try{let h;if("email"in n){const{email:_,password:b,options:S}=n;let j=null,R=null;this.flowType==="pkce"&&([j,R]=await yi(this.storage,this.storageKey)),h=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:_,password:b,data:(r=S?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:j,code_challenge_method:R},xform:Wt})}else if("phone"in n){const{phone:_,password:b,options:S}=n;h=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:b,data:(l=S?.data)!==null&&l!==void 0?l:{},channel:(u=S?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:Wt})}else throw new nl("You must provide either an email or phone number and a password");const{data:f,error:v}=h;if(v||!f)return await ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:v});const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(h){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let r;if("email"in n){const{email:h,password:f,options:v}=n;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:f,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Dm})}else if("phone"in n){const{phone:h,password:f,options:v}=n;r=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:f,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Dm})}else throw new nl("You must provide either an email or phone number and a password");const{data:l,error:u}=r;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new pi;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:u})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,u,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=n.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,u,h,f,v,g,p,_,b,S;let j,R;if("message"in n)j=n.message,R=n.signature;else{const{chain:z,wallet:U,statement:Y,options:Z}=n;let V;if(ft())if(typeof U=="object")V=U;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")V=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!Z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");V=U}const M=new URL((r=Z?.url)!==null&&r!==void 0?r:window.location.href),k=await V.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=tg(k[0]);let K=(l=Z?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!K){const J=await V.request({method:"eth_chainId"});K=N_(J)}const I={domain:M.host,address:G,statement:Y,uri:M.href,version:"1",chainId:K,nonce:(u=Z?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(h=Z?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(v=Z?.signInWithEthereum)===null||v===void 0?void 0:v.expirationTime,notBefore:(g=Z?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=Z?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(_=Z?.signInWithEthereum)===null||_===void 0?void 0:_.resources};j=R_(I),R=await V.request({method:"personal_sign",params:[O_(j),G]})}try{const{data:z,error:U}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:R},!((b=n.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Wt});if(U)throw U;if(!z||!z.session||!z.user){const Y=new pi;return this._returnResult({data:{user:null,session:null},error:Y})}return z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),this._returnResult({data:Object.assign({},z),error:U})}catch(z){if(ne(z))return this._returnResult({data:{user:null,session:null},error:z});throw z}}async signInWithSolana(n){var r,l,u,h,f,v,g,p,_,b,S,j;let R,z;if("message"in n)R=n.message,z=n.signature;else{const{chain:U,wallet:Y,statement:Z,options:V}=n;let M;if(ft())if(typeof Y=="object")M=Y;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))M=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!V?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=Y}const k=new URL((r=V?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in M&&M.signIn){const G=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},V?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),Z?{statement:Z}:null));let K;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")K=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)K=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)R=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),z=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${k.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...Z?["",Z,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(u=(l=V?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((h=V?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${V.signInWithSolana.notBefore}`]:[],...!((f=V?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${V.signInWithSolana.expirationTime}`]:[],...!((v=V?.signInWithSolana)===null||v===void 0)&&v.chainId?[`Chain ID: ${V.signInWithSolana.chainId}`]:[],...!((g=V?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${V.signInWithSolana.nonce}`]:[],...!((p=V?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${V.signInWithSolana.requestId}`]:[],...!((b=(_=V?.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||b===void 0)&&b.length?["Resources",...V.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const G=await M.signMessage(new TextEncoder().encode(R),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");z=G}}try{const{data:U,error:Y}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:Nn(z)},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Wt});if(Y)throw Y;if(!U||!U.session||!U.user){const Z=new pi;return this._returnResult({data:{user:null,session:null},error:Z})}return U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),this._returnResult({data:Object.assign({},U),error:Y})}catch(U){if(ne(U))return this._returnResult({data:{user:null,session:null},error:U});throw U}}async _exchangeCodeForSession(n){const r=await xn(this.storage,`${this.storageKey}-code-verifier`),[l,u]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Iy;const{data:h,error:f}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Wt});if(await ht(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!h||!h.session||!h.user){const v=new pi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:u??null}),error:f})}catch(h){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:r,provider:l,token:u,access_token:h,nonce:f}=n,v=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:u,access_token:h,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Wt}),{data:g,error:p}=v;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const _=new pi;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,u,h,f;try{if("email"in n){const{email:v,options:g}=n;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await yi(this.storage,this.storageKey));const{error:b}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(r=g?.data)!==null&&r!==void 0?r:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:_},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in n){const{phone:v,options:g}=n,{data:p,error:_}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(u=g?.data)!==null&&u!==void 0?u:{},create_user:(h=g?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(f=g?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:_})}throw new nl("You must provide either an email or phone number.")}catch(v){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ne(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async verifyOtp(n){var r,l;try{let u,h;"options"in n&&(u=(r=n.options)===null||r===void 0?void 0:r.redirectTo,h=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:v}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:u,xform:Wt});if(v)throw v;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,p=f.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(u){if(ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(n){var r,l,u,h,f;try{let v=null,g=null;this.flowType==="pkce"&&([v,g]=await yi(this.storage,this.storageKey));const p=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((u=n?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:v,code_challenge_method:g}),headers:this.headers,xform:w_});return!((h=p.data)===null||h===void 0)&&h.url&&ft()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(v){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ne(v))return this._returnResult({data:null,error:v});throw v}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new zt;const{error:u}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(n){if(ne(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:u,options:h}=n,{error:f}=await le(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:u,options:h}=n,{data:f,error:v}=await le(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:u,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:v})}throw new nl("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Mc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await xn(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=Hc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=p_(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:u,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:en}):await this._useSession(async r=>{var l,u,h;const{data:f,error:v}=r;if(v)throw v;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0,xform:en})})}catch(r){if(ne(r))return Jy(r)&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:u,error:h}=l;if(h)throw h;if(!u.session)throw new zt;const f=u.session;let v=null,g=null;this.flowType==="pkce"&&n.email!=null&&([v,g]=await yi(this.storage,this.storageKey));const{data:p,error:_}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:v,code_challenge_method:g}),jwt:f.access_token,xform:en});if(_)throw _;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ne(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new zt;const r=Date.now()/1e3;let l=r,u=!0,h=null;const{payload:f}=Lc(n.access_token);if(f.exp&&(l=f.exp,u=l<=r),u){const{data:v,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!v)return{data:{user:null,session:null},error:null};h=v}else{const{data:v,error:g}=await this._getUser(n.access_token);if(g)throw g;h={access_token:n.access_token,refresh_token:n.refresh_token,user:v.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(r){if(ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:f,error:v}=r;if(v)throw v;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new zt;const{data:u,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ft())throw new il("No browser detected.");if(n.error||n.error_description||n.error_code)throw new il(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Tm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new il("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Tm("No code detected.");const{data:Z,error:V}=await this._exchangeCodeForSession(n.code);if(V)throw V;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:Z.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:u,access_token:h,refresh_token:f,expires_in:v,expires_at:g,token_type:p}=n;if(!h||!v||!f||!p)throw new il("No session defined in URL");const _=Math.round(Date.now()/1e3),b=parseInt(v);let S=_+b;g&&(S=parseInt(g));const j=S-_;j*1e3<=Ei&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${b}s`);const R=S-b;_-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,S,_):_-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,S,_);const{data:z,error:U}=await this._getUser(h);if(U)throw U;const Y={provider_token:l,provider_refresh_token:u,access_token:h,expires_in:b,expires_at:S,refresh_token:f,token_type:p,user:z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Y,redirectType:n.type},error:null})}catch(l){if(ne(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await xn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h)return this._returnResult({error:h});const f=(l=u.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:v}=await this.admin.signOut(f,n);if(v&&!(Xy(v)&&(v.status===404||v.status===401||v.status===403)))return this._returnResult({error:v})}return n!=="others"&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=n_(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,u;try{const{data:{session:h},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((u=this.stateChangeEmitters.get(n))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,r={}){let l=null,u=null;this.flowType==="pkce"&&([l,u]=await yi(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(h){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ne(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:u}=await this._useSession(async h=>{var f,v,g,p,_;const{data:b,error:S}=h;if(S)throw S;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(v=n.options)===null||v===void 0?void 0:v.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",j,{headers:this.headers,jwt:(_=(p=b.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:void 0})});if(u)throw u;return ft()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(ne(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:u,data:{session:h}}=r;if(u)throw u;const{options:f,provider:v,token:g,access_token:p,nonce:_}=n,b=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=h?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:v,id_token:g,access_token:p,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Wt}),{data:S,error:j}=b;return j?this._returnResult({data:{user:null,session:null},error:j}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new pi}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:j}))}catch(u){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ne(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,u;const{data:h,error:f}=r;if(f)throw f;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await l_(async u=>(u>0&&await r_(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Wt})),(u,h)=>{const f=200*Math.pow(2,u);return h&&Bc(h)&&Date.now()+f-l<Ei})}catch(l){if(this._debug(r,"error",l),ne(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),ft()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const u=await xn(this.storage,this.storageKey);if(u&&this.userStorage){let f=await xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await xi(this.userStorage,this.storageKey+"-user",f)),u.user=(n=f?.user)!==null&&n!==void 0?n:Hc()}else if(u&&!u.user&&!u.user){const f=await xn(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await ht(this.storage,this.storageKey+"-user"),await xi(this.storage,this.storageKey,u)):u.user=Hc()}if(this._debug(l,"session from storage",u),!this._isValidSession(u)){this._debug(l,"session is not valid"),u!==null&&await this._removeSession();return}const h=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Mc;if(this._debug(l,`session has${h?"":" not"} expired with margin of ${Mc}s`),h){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Bc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:v}=await this._getUser(u.access_token);!v&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(l,"error",u),console.error(u);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new ul;const{data:h,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!h.session)throw new zt;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const v={data:h.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(h){if(this._debug(u,"error",h),ne(h)){const f={data:null,error:h};return Bc(h)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(h),h}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(n,r,l=!0){const u=`#_notifyAllSubscribers(${n})`;this._debug(u,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const h=[],f=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(n,r)}catch(g){h.push(g)}});if(await Promise.all(f),h.length>0){for(let v=0;v<h.length;v+=1)console.error(h[v]);throw h[0]}}finally{this._debug(u,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ht(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await xi(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const h=Cm(u);await xi(this.storage,this.storageKey,h)}else{const u=Cm(r);await xi(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ht(this.storage,this.storageKey),await ht(this.storage,this.storageKey+"-code-verifier"),await ht(this.storage,this.storageKey+"-user"),this.userStorage&&await ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ft()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ei);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((l.expires_at*1e3-n)/Ei);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Ei}ms, refresh threshold is ${Ic} ticks`),u<=Ic&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof eg)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const u=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&u.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[h,f]=await yi(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(v.toString())}if(l?.queryParams){const h=new URLSearchParams(l.queryParams);u.push(h.toString())}return l?.skipBrowserRedirect&&u.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${u.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;return h?this._returnResult({data:null,error:h}):await le(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,u;const{data:h,error:f}=r;if(f)return this._returnResult({data:null,error:f});const v=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:p}=await le(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(l=h?.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&g.type==="totp"&&(!((u=g?.totp)===null||u===void 0)&&u.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?M_(n.webauthn.credential_response):B_(n.webauthn.credential_response)})}:{code:n.code}),{data:v,error:g}=await le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+v.expires_in},v)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",v),this._returnResult({data:v,error:g}))})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:u,error:h}=r;if(h)return this._returnResult({data:null,error:h});const f=await le(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=u?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:v}=f;if(v.type!=="webauthn")return{data:v,error:null};switch(v.webauthn.type){case"create":return{data:Object.assign(Object.assign({},v),{webauthn:Object.assign(Object.assign({},v.webauthn),{credential_options:Object.assign(Object.assign({},v.webauthn.credential_options),{publicKey:z_(v.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},v),{webauthn:Object.assign(Object.assign({},v.webauthn),{credential_options:Object.assign(Object.assign({},v.webauthn.credential_options),{publicKey:q_(v.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const u={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=r?.factors)!==null&&n!==void 0?n:[])u.all.push(h),h.status==="verified"&&u[h.factor_type].push(h);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Lc(l.access_token);let f=null;h.aal&&(f=h.aal);let v=f;((r=(n=l.user.factors)===null||n===void 0?void 0:n.filter(_=>_.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(v="aal2");const p=h.amr||[];return{data:{currentLevel:f,nextLevel:v,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new zt})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:u},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new zt});const f=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:v=>({data:v,error:null})});return f.data&&f.data.redirect_url&&ft()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:u},error:h}=l;if(h)return this._returnResult({data:null,error:h});if(!u)return this._returnResult({data:null,error:new zt});const f=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:v=>({data:v,error:null})});return f.data&&f.data.redirect_url&&ft()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new zt})})}catch(n){if(ne(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:u}=r;return u?this._returnResult({data:null,error:u}):l?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zt})})}catch(r){if(ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(v=>v.kid===n);if(l)return l;const u=Date.now();if(l=this.jwks.keys.find(v=>v.kid===n),l&&this.jwks_cached_at+Ky>u)return l;const{data:h,error:f}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=u,l=h.keys.find(v=>v.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:j,error:R}=await this.getSession();if(R||!j.session)return this._returnResult({data:null,error:R});l=j.session.access_token}const{header:u,payload:h,signature:f,raw:{header:v,payload:g}}=Lc(l);r?.allowExpired||m_(h.exp);const p=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!p){const{error:j}=await this.getUser(l);if(j)throw j;return{data:{claims:h,header:u,signature:f},error:null}}const _=g_(u.alg),b=await crypto.subtle.importKey("jwk",p,_,!0,["verify"]);if(!await crypto.subtle.verify(_,b,f,t_(`${v}.${g}`)))throw new Fc("Invalid JWT signature");return{data:{claims:h,header:u,signature:f},error:null}}catch(l){if(ne(l))return this._returnResult({data:null,error:l});throw l}}}Cs.nextInstanceID={};const X_=Cs,J_="2.90.1";let Es="";typeof Deno<"u"?Es="deno":typeof document<"u"?Es="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Es="react-native":Es="node";const Z_={"X-Client-Info":`supabase-js-${Es}/${J_}`},I_={headers:Z_},P_={schema:"public"},W_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},F_={};function ks(s){"@babel/helpers - typeof";return ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ks(s)}function e0(s,n){if(ks(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,n);if(ks(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function t0(s){var n=e0(s,"string");return ks(n)=="symbol"?n:n+""}function a0(s,n,r){return(n=t0(n))in s?Object.defineProperty(s,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[n]=r,s}function Bm(s,n){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(u){return Object.getOwnPropertyDescriptor(s,u).enumerable})),r.push.apply(r,l)}return r}function Ke(s){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Bm(Object(r),!0).forEach(function(l){a0(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Bm(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const n0=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),i0=()=>Headers,s0=(s,n,r)=>{const l=n0(r),u=i0();return async(h,f)=>{var v;const g=(v=await n())!==null&&v!==void 0?v:s;let p=new u(f?.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),l(h,Ke(Ke({},f),{},{headers:p}))}};function r0(s){return s.endsWith("/")?s:s+"/"}function l0(s,n){var r,l;const{db:u,auth:h,realtime:f,global:v}=s,{db:g,auth:p,realtime:_,global:b}=n,S={db:Ke(Ke({},g),u),auth:Ke(Ke({},p),h),realtime:Ke(Ke({},_),f),storage:{},global:Ke(Ke(Ke({},b),v),{},{headers:Ke(Ke({},(r=b?.headers)!==null&&r!==void 0?r:{}),(l=v?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?S.accessToken=s.accessToken:delete S.accessToken,S}function o0(s){const n=s?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r0(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var c0=class extends X_{constructor(s){super(s)}},u0=class{constructor(s,n,r){var l,u;this.supabaseUrl=s,this.supabaseKey=n;const h=o0(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const f=`sb-${h.hostname.split(".")[0]}-auth-token`,v={db:P_,realtime:F_,auth:Ke(Ke({},W_),{},{storageKey:f}),global:I_},g=l0(r??{},v);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=g.global.headers)!==null&&u!==void 0?u:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(_,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=s0(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Ke({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new Vp(new URL("rest/v1",h).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Hy(this.storageUrl.href,this.headers,this.fetch,r?.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Bp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,r)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,n,r;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:u,storageKey:h,flowType:f,lock:v,debug:g,throwOnError:p},_,b){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new c0({url:this.authUrl.href,headers:Ke(Ke({},S),_),storageKey:h,autoRefreshToken:s,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:u,flowType:f,lock:v,debug:g,throwOnError:p,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new ry(this.realtimeUrl.href,Ke(Ke({},s),{},{params:Ke(Ke({},{apikey:this.supabaseKey}),s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n?.access_token)})}_handleTokenChanged(s,n,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const d0=(s,n,r)=>new u0(s,n,r);function h0(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const n=s.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}h0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const f0="https://kwqjtdsqkkbebfiaxubb.supabase.co",m0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imt3cWp0ZHNxa2tiZWJmaWF4dWJiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjY4NzM2NzUsImV4cCI6MjA4MjQ0OTY3NX0.bXz6Mxkjo34sVNno259o5RQzq4E8zrNy3Omz7nMhOk0",xe=d0(f0,m0),ke="00000000-0000-0000-0000-000000000001",On={async getAll(){const{data:s,error:n}=await xe.from("medicines").select(`
        *,
        stock(*)
      `).eq("user_id",ke).order("created_at",{ascending:!1});if(n)throw n;return s.map(r=>{const l=(r.stock||[]).filter(v=>v.quantity>0),u=l.reduce((v,g)=>v+g.quantity,0),h=l.reduce((v,g)=>v+(g.unit_price||0)*g.quantity,0),f=u>0?h/u:null;return{...r,avg_price:f}})},async getById(s){const{data:n,error:r}=await xe.from("medicines").select(`
        *,
        stock(*)
      `).eq("id",s).eq("user_id",ke).single();if(r)throw r;const l=(n.stock||[]).filter(v=>v.quantity>0),u=l.reduce((v,g)=>v+g.quantity,0),h=l.reduce((v,g)=>v+(g.unit_price||0)*g.quantity,0),f=u>0?h/u:null;return{...n,avg_price:f}},async create(s){const{data:n,error:r}=await xe.from("medicines").insert([{...s,user_id:ke}]).select().single();if(r)throw r;return n},async update(s,n){const{data:r,error:l}=await xe.from("medicines").update(n).eq("id",s).eq("user_id",ke).select().single();if(l)throw l;return r},async delete(s){const{error:n}=await xe.from("medicines").delete().eq("id",s).eq("user_id",ke);if(n)throw n}},Ta={async getAll(){const{data:s,error:n}=await xe.from("protocols").select(`
        *,
        medicine:medicines(*)
      `).eq("user_id",ke).order("created_at",{ascending:!1});if(n)throw n;return s},async getActive(){const{data:s,error:n}=await xe.from("protocols").select(`
        *,
        medicine:medicines(*)
      `).eq("user_id",ke).eq("active",!0).order("created_at",{ascending:!1});if(n)throw n;return s},async getById(s){const{data:n,error:r}=await xe.from("protocols").select(`
        *,
        medicine:medicines(*)
      `).eq("id",s).eq("user_id",ke).single();if(r)throw r;return n},async create(s){const{data:n,error:r}=await xe.from("protocols").insert([{...s,user_id:ke,titration_schedule:s.titration_schedule||[],current_stage_index:s.current_stage_index||0,stage_started_at:s.titration_schedule?.length>0?new Date().toISOString():null}]).select(`
        *,
        medicine:medicines(*),
        treatment_plan:treatment_plans(*)
      `).single();if(r)throw r;return n},async update(s,n){const{data:r,error:l}=await xe.from("protocols").update(n).eq("id",s).eq("user_id",ke).select(`
        *,
        medicine:medicines(*),
        treatment_plan:treatment_plans(*)
      `).single();if(l)throw l;return r},async delete(s){const{error:n}=await xe.from("protocols").delete().eq("id",s).eq("user_id",ke);if(n)throw n},async advanceTitrationStage(s,n=!1){const r=await this.getById(s);if(!r.titration_schedule||r.titration_schedule.length===0)throw new Error("Este protocolo no possui regime de titulao");const u=(r.current_stage_index||0)+1;if(u>=r.titration_schedule.length){const{data:p,error:_}=await xe.from("protocols").update({titration_status:"alvo_atingido",current_stage_index:r.titration_schedule.length-1,stage_started_at:new Date().toISOString()}).eq("id",s).eq("user_id",ke).select(`
          *,
          medicine:medicines(*),
          treatment_plan:treatment_plans(*)
        `).single();if(_)throw _;return p}const h=r.titration_schedule[u],f={current_stage_index:u,stage_started_at:new Date().toISOString(),dosage_per_intake:h.dosage,titration_status:n?"alvo_atingido":"titulando"},{data:v,error:g}=await xe.from("protocols").update(f).eq("id",s).eq("user_id",ke).select(`
        *,
        medicine:medicines(*),
        treatment_plan:treatment_plans(*)
      `).single();if(g)throw g;return v}},xs={async getAll(){const{data:s,error:n}=await xe.from("treatment_plans").select(`
        *,
        protocols:protocols(
          *,
          medicine:medicines(*)
        )
      `).eq("user_id",ke).order("created_at",{ascending:!1});if(n)throw n;return s},async create(s){const{data:n,error:r}=await xe.from("treatment_plans").insert([{...s,user_id:ke}]).select().single();if(r)throw r;return n},async update(s,n){const{data:r,error:l}=await xe.from("treatment_plans").update(n).eq("id",s).eq("user_id",ke).select().single();if(l)throw l;return r},async delete(s){const{error:n}=await xe.from("treatment_plans").delete().eq("id",s).eq("user_id",ke);if(n)throw n}},tn={async getByMedicine(s){const{data:n,error:r}=await xe.from("stock").select("*").eq("medicine_id",s).eq("user_id",ke).order("created_at",{ascending:!1});if(r)throw r;return n},async getTotalQuantity(s){const{data:n,error:r}=await xe.from("stock").select("quantity").eq("medicine_id",s).eq("user_id",ke);if(r)throw r;return n.reduce((l,u)=>l+u.quantity,0)},async add(s){const{data:n,error:r}=await xe.from("stock").insert([{...s,user_id:ke}]).select().single();if(r)throw r;return n},async decrease(s,n){const{data:r,error:l}=await xe.from("stock").select("*").eq("medicine_id",s).eq("user_id",ke).gt("quantity",0).order("purchase_date",{ascending:!0});if(l)throw l;let u=n;for(const h of r){if(u<=0)break;const f=Math.min(h.quantity,u),v=h.quantity-f,{error:g}=await xe.from("stock").update({quantity:v}).eq("id",h.id);if(g)throw g;u-=f}if(u>0)throw new Error("Estoque insuficiente")},async increase(s,n,r="Estorno de dose"){const{data:l,error:u}=await xe.from("stock").insert([{medicine_id:s,quantity:n,purchase_date:new Date().toISOString().split("T")[0],unit_price:0,user_id:ke,notes:r}]).select().single();if(u)throw u;return l},async delete(s){const{error:n}=await xe.from("stock").delete().eq("id",s).eq("user_id",ke);if(n)throw n}},an={async getAll(s=50){const{data:n,error:r}=await xe.from("medicine_logs").select(`
        *,
        protocol:protocols(*),
        medicine:medicines(*)
      `).eq("user_id",ke).order("taken_at",{ascending:!1}).limit(s);if(r)throw r;return n},async getByProtocol(s,n=50){const{data:r,error:l}=await xe.from("medicine_logs").select(`
        *,
        protocol:protocols(*),
        medicine:medicines(*)
      `).eq("protocol_id",s).eq("user_id",ke).order("taken_at",{ascending:!1}).limit(n);if(l)throw l;return r},async create(s){const{data:n,error:r}=await xe.from("medicine_logs").insert([{...s,user_id:ke}]).select(`
        *,
        protocol:protocols(*),
        medicine:medicines(*)
      `).single();if(r)throw r;try{await tn.decrease(s.medicine_id,s.quantity_taken)}catch(l){throw console.error("Erro ao decrementar estoque:",l),new Error("Remdio registrado, mas erro ao atualizar estoque: "+l.message)}return n},async createBulk(s){const n=s.map(h=>({...h,user_id:ke})),{data:r,error:l}=await xe.from("medicine_logs").insert(n).select(`
        *,
        protocol:protocols(*),
        medicine:medicines(*)
      `);if(l)throw l;const u=[];for(const h of s)try{await tn.decrease(h.medicine_id,h.quantity_taken)}catch(f){u.push(`${h.medicine_id}: ${f.message}`)}return u.length>0&&console.error("Erros ao decrementar estoque no lote:",u),r},async update(s,n){const{data:r,error:l}=await xe.from("medicine_logs").select("*").eq("id",s).single();if(l)throw l;if(n.quantity_taken!==void 0&&n.quantity_taken!==r.quantity_taken){const f=n.quantity_taken-r.quantity_taken;try{f>0?await tn.decrease(r.medicine_id,f):f<0&&await tn.increase(r.medicine_id,Math.abs(f),`Ajuste de dose (ID: ${s})`)}catch(v){throw console.error("Erro ao ajustar estoque no update:",v),new Error("No foi possvel atualizar o estoque: "+v.message)}}const{data:u,error:h}=await xe.from("medicine_logs").update(n).eq("id",s).eq("user_id",ke).select(`
        *,
        protocol:protocols(*),
        medicine:medicines(*)
      `).single();if(h)throw h;return u},async delete(s){const{data:n,error:r}=await xe.from("medicine_logs").select("*").eq("id",s).single();if(r)throw r;try{await tn.increase(n.medicine_id,n.quantity_taken,`Dose excluda (ID: ${s})`)}catch(u){throw console.error("Erro ao restaurar estoque na excluso:",u),new Error("No foi possvel devolver o remdio ao estoque: "+u.message)}const{error:l}=await xe.from("medicine_logs").delete().eq("id",s).eq("user_id",ke);if(l)throw l}};function Us({size:s="md",text:n="Carregando..."}){return d.jsxs("div",{className:"loading-container",children:[d.jsxs("div",{className:`loading-spinner loading-${s}`,children:[d.jsx("div",{className:"spinner-ring"}),d.jsx("div",{className:"spinner-ring"}),d.jsx("div",{className:"spinner-ring"})]}),n&&d.jsx("p",{className:"loading-text",children:n})]})}function Ai({isOpen:s,onClose:n,children:r,title:l}){return X.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),X.useEffect(()=>{const u=h=>{h.key==="Escape"&&s&&n()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[s,n]),s?d.jsx("div",{className:"modal-overlay",onClick:n,children:d.jsxs("div",{className:"modal-content",onClick:u=>u.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[l&&d.jsx("h2",{children:l}),d.jsx("button",{className:"modal-close",onClick:n,"aria-label":"Fechar",children:""})]}),d.jsx("div",{className:"modal-body",children:r})]})}):null}function g0({medicine:s,onSave:n,onCancel:r}){const[l,u]=X.useState({name:s?.name||"",laboratory:s?.laboratory||"",active_ingredient:s?.active_ingredient||"",dosage_per_pill:s?.dosage_per_pill||"",type:s?.type||"medicine",dosage_unit:s?.dosage_unit||"mg"}),[h,f]=X.useState({}),[v,g]=X.useState(!1),p=S=>{const{name:j,value:R}=S.target;u(z=>({...z,[j]:R})),h[j]&&f(z=>({...z,[j]:""}))},_=()=>{const S={};return l.name.trim()||(S.name="Nome  obrigatrio"),l.dosage_per_pill&&isNaN(l.dosage_per_pill)?S.dosage_per_pill="Deve ser um nmero":l.type==="medicine"&&l.dosage_per_pill,f(S),Object.keys(S).length===0},b=async S=>{if(S.preventDefault(),!!_()){g(!0);try{const j={name:l.name.trim(),laboratory:l.laboratory.trim()||null,active_ingredient:l.active_ingredient.trim()||null,dosage_per_pill:l.dosage_per_pill?parseFloat(l.dosage_per_pill):null,type:l.type,dosage_unit:l.dosage_unit};await n(j)}catch(j){console.error("Erro ao salvar:",j),f({submit:j.message})}finally{g(!1)}}};return d.jsxs("form",{className:"medicine-form",onSubmit:b,children:[d.jsx("h3",{children:s?"Editar Medicamento":"Novo Medicamento"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"type",children:"Tipo"}),d.jsxs("select",{id:"type",name:"type",value:l.type,onChange:p,children:[d.jsx("option",{value:"medicine",children:"Medicamento"}),d.jsx("option",{value:"supplement",children:"Suplemento"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"name",children:["Nome ",l.type==="supplement"?"(Comercial)":"do Remdio"," ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:p,className:h.name?"error":"",placeholder:"Ex: Paracetamol",autoFocus:!0}),h.name&&d.jsx("span",{className:"error-message",children:h.name})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"active_ingredient",children:"Princpio Ativo"}),d.jsx("input",{type:"text",id:"active_ingredient",name:"active_ingredient",value:l.active_ingredient,onChange:p,placeholder:"Ex: Paracetamol"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"laboratory",children:"Marca / Laboratrio"}),d.jsx("input",{type:"text",id:"laboratory",name:"laboratory",value:l.laboratory,onChange:p,placeholder:"Ex: EMS, Medley, etc."})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"dosage_per_pill",children:"Dosagem"}),d.jsxs("div",{className:"dosage-input-group",style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"8px"},children:[d.jsx("input",{type:"number",id:"dosage_per_pill",name:"dosage_per_pill",value:l.dosage_per_pill,onChange:p,className:h.dosage_per_pill?"error":"",placeholder:l.type==="supplement"?"Opcional":"500",step:"0.01"}),d.jsxs("select",{name:"dosage_unit",value:l.dosage_unit,onChange:p,children:[d.jsx("option",{value:"mg",children:"mg"}),d.jsx("option",{value:"mcg",children:"mcg"}),d.jsx("option",{value:"g",children:"g"}),d.jsx("option",{value:"ml",children:"ml"}),d.jsx("option",{value:"ui",children:"UI"}),d.jsx("option",{value:"cp",children:"cp/cap"}),d.jsx("option",{value:"gotas",children:"gotas"})]})]}),h.dosage_per_pill&&d.jsx("span",{className:"error-message",children:h.dosage_per_pill})]}),h.submit&&d.jsxs("div",{className:"error-banner",children:[" ",h.submit]}),d.jsxs("div",{className:"form-actions",children:[d.jsx(he,{type:"button",variant:"ghost",onClick:r,disabled:v,children:"Cancelar"}),d.jsx(he,{type:"submit",variant:"primary",disabled:v,children:v?"Salvando...":s?"Atualizar":"Cadastrar"})]})]})}function sa({children:s,className:n="",onClick:r,hover:l=!0}){return d.jsx("div",{className:`card ${l?"card-hover":""} ${n}`,onClick:r,children:s})}function v0({medicine:s,onEdit:n,onDelete:r}){return d.jsxs(sa,{className:"medicine-card",children:[d.jsxs("div",{className:"medicine-header",children:[d.jsx("h4",{className:"medicine-name",children:s.name}),s.active_ingredient&&d.jsx("span",{className:"medicine-ingredient",children:s.active_ingredient})]}),d.jsxs("div",{className:"medicine-details",children:[s.laboratory&&d.jsxs("div",{className:"detail-item",children:[d.jsx("span",{className:"detail-label",children:" Laboratrio:"}),d.jsx("span",{className:"detail-value",children:s.laboratory})]}),s.dosage_per_pill&&d.jsxs("div",{className:"detail-item",children:[d.jsx("span",{className:"detail-label",children:" Dosagem:"}),d.jsxs("span",{className:"detail-value",children:[s.dosage_per_pill," ",s.dosage_unit||"mg"]})]}),s.type==="supplement"&&d.jsxs("div",{className:"detail-item",children:[d.jsx("span",{className:"detail-label",children:" Tipo:"}),d.jsx("span",{className:"detail-value",children:"Suplemento"})]}),s.avg_price!==void 0&&s.avg_price!==null&&d.jsxs("div",{className:"detail-item",children:[d.jsx("span",{className:"detail-label",children:" Custo Mdio:"}),d.jsxs("span",{className:"detail-value",children:["R$ ",parseFloat(s.avg_price).toFixed(2)]})]})]}),d.jsxs("div",{className:"medicine-actions",children:[d.jsx(he,{variant:"outline",size:"sm",onClick:()=>n(s),children:" Editar"}),d.jsx(he,{variant:"danger",size:"sm",onClick:()=>r(s),children:" Excluir"})]})]})}function p0({onNavigateToProtocol:s}){const[n,r]=X.useState([]),[l,u]=X.useState(!0),[h,f]=X.useState(null),[v,g]=X.useState(!1),[p,_]=X.useState(null),[b,S]=X.useState(""),[j,R]=X.useState("all"),z=async()=>{try{u(!0),f(null);const k=await On.getAll();r(k)}catch(k){f("Erro ao carregar medicamentos: "+k.message),console.error(k)}finally{u(!1)}};X.useEffect(()=>{z()},[]);const U=()=>{_(null),g(!0)},Y=k=>{_(k),g(!0)},Z=async k=>{try{if(p)await On.update(p.id,k),M("Medicamento atualizado com sucesso!");else{const G=await On.create(k);if(M("Medicamento cadastrado com sucesso!"),window.confirm(" Medicamento criado! Deseja criar um protocolo de uso para ele agora?")&&s){s(G.id);return}}g(!1),_(null),await z()}catch(G){throw new Error("Erro ao salvar medicamento: "+G.message)}},V=async k=>{if(window.confirm(`Tem certeza que deseja excluir "${k.name}"?`))try{await On.delete(k.id),M("Medicamento excludo com sucesso!"),await z()}catch(G){f("Erro ao excluir medicamento: "+G.message),console.error(G)}},M=k=>{S(k),setTimeout(()=>S(""),3e3)};return l?d.jsx("div",{className:"medicines-view",children:d.jsx(Us,{text:"Carregando medicamentos..."})}):d.jsxs("div",{className:"medicines-view",children:[d.jsxs("div",{className:"medicines-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:" Medicamentos e Suplementos"}),d.jsx("p",{className:"medicines-subtitle",children:"Gerencie seus medicamentos cadastrados"})]}),d.jsx(he,{variant:"primary",onClick:U,children:" Adicionar"})]}),d.jsxs("div",{className:"filter-tabs",style:{marginBottom:"20px",display:"flex",gap:"10px"},children:[d.jsx(he,{variant:j==="all"?"primary":"outline",onClick:()=>R("all"),size:"sm",children:"Todos"}),d.jsx(he,{variant:j==="medicine"?"primary":"outline",onClick:()=>R("medicine"),size:"sm",children:"Medicamentos"}),d.jsx(he,{variant:j==="supplement"?"primary":"outline",onClick:()=>R("supplement"),size:"sm",children:"Suplementos"})]}),b&&d.jsxs("div",{className:"success-banner fade-in",children:[" ",b]}),h&&d.jsxs("div",{className:"error-banner fade-in",children:[" ",h]}),n.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-icon",children:""}),d.jsx("h3",{children:"Nenhum medicamento cadastrado"}),d.jsx("p",{children:"Comece adicionando seu primeiro medicamento"}),d.jsx(he,{variant:"primary",onClick:U,children:" Adicionar Primeiro Medicamento"})]}):d.jsx("div",{className:"medicines-grid",children:n.filter(k=>j==="all"||k.type===j).map(k=>d.jsx(v0,{medicine:k,onEdit:Y,onDelete:V},k.id))}),d.jsx(Ai,{isOpen:v,onClose:()=>{g(!1),_(null)},children:d.jsx(g0,{medicine:p,onSave:Z,onCancel:()=>{g(!1),_(null)}})})]})}function y0({medicines:s,initialValues:n,onSave:r,onCancel:l}){const[u,h]=X.useState({medicine_id:n?.medicine_id||"",quantity:"",unit_price:"",purchase_date:new Date().toISOString().split("T")[0],expiration_date:""}),[f,v]=X.useState({}),[g,p]=X.useState(!1),_=j=>{const{name:R,value:z}=j.target;h(U=>({...U,[R]:z})),f[R]&&v(U=>({...U,[R]:""}))},b=()=>{const j={};return u.medicine_id||(j.medicine_id="Selecione um medicamento"),(!u.quantity||u.quantity<=0)&&(j.quantity="Quantidade deve ser maior que zero"),u.unit_price&&isNaN(u.unit_price)&&(j.unit_price="Deve ser um nmero"),u.expiration_date&&u.expiration_date<u.purchase_date&&(j.expiration_date="Data de validade no pode ser anterior  compra"),v(j),Object.keys(j).length===0},S=async j=>{if(j.preventDefault(),!!b()){p(!0);try{const R={medicine_id:u.medicine_id,quantity:parseFloat(u.quantity),unit_price:u.unit_price?parseFloat(u.unit_price):0,purchase_date:u.purchase_date||null,expiration_date:u.expiration_date||null};await r(R)}catch(R){console.error("Erro ao salvar:",R),v({submit:R.message})}finally{p(!1)}}};return d.jsxs("form",{className:"stock-form",onSubmit:S,children:[d.jsx("h3",{children:"Adicionar Estoque"}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"medicine_id",children:["Medicamento ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"medicine_id",name:"medicine_id",value:u.medicine_id,onChange:_,className:f.medicine_id?"error":"",children:[d.jsx("option",{value:"",children:"Selecione um medicamento"}),s.map(j=>d.jsxs("option",{value:j.id,children:[j.name," ",j.dosage_per_pill?`(${j.dosage_per_pill}${j.dosage_unit||"mg"})`:""]},j.id))]}),f.medicine_id&&d.jsx("span",{className:"error-message",children:f.medicine_id})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"quantity",children:["Quantidade ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("input",{type:"number",id:"quantity",name:"quantity",value:u.quantity,onChange:_,className:f.quantity?"error":"",placeholder:"30",min:"0.1",step:"0.1"}),f.quantity&&d.jsx("span",{className:"error-message",children:f.quantity})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"unit_price",children:"Preo Unitrio (R$)"}),d.jsx("input",{type:"number",id:"unit_price",name:"unit_price",value:u.unit_price,onChange:_,className:f.unit_price?"error":"",placeholder:"0.50",step:"0.001",min:"0"}),f.unit_price&&d.jsx("span",{className:"error-message",children:f.unit_price})]})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"purchase_date",children:"Data da Compra"}),d.jsx("input",{type:"date",id:"purchase_date",name:"purchase_date",value:u.purchase_date,onChange:_})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"expiration_date",children:"Data de Validade"}),d.jsx("input",{type:"date",id:"expiration_date",name:"expiration_date",value:u.expiration_date,onChange:_,className:f.expiration_date?"error":""}),f.expiration_date&&d.jsx("span",{className:"error-message",children:f.expiration_date})]})]}),f.submit&&d.jsxs("div",{className:"error-banner",children:[" ",f.submit]}),d.jsxs("div",{className:"form-actions",children:[d.jsx(he,{type:"button",variant:"ghost",onClick:l,disabled:g,children:"Cancelar"}),d.jsx(he,{type:"submit",variant:"primary",disabled:g,children:g?"Salvando...":"Adicionar Estoque"})]})]})}function ng({quantity:s,lowThreshold:n=10,isLow:r}){const l=()=>s===0?"var(--accent-error)":r!==void 0?r?"var(--accent-warning)":"var(--accent-success)":s<=n?"var(--accent-warning)":"var(--accent-success)",u=()=>s===0?"Sem estoque":r!==void 0?r?"Acaba em breve":"Estoque OK":s<=n?"Estoque baixo":"Estoque OK",h=()=>{const f=n*3;return Math.min(s/f*100,100)};return d.jsxs("div",{className:"stock-indicator",children:[d.jsxs("div",{className:"stock-header",children:[d.jsxs("span",{className:"stock-quantity",children:[s," comprimidos"]}),d.jsx("span",{className:"stock-status",style:{color:l()},children:u()})]}),d.jsx("div",{className:"stock-bar",children:d.jsx("div",{className:"stock-fill",style:{width:`${h()}%`,background:l()}})})]})}function Gc({medicine:s,stockEntries:n,totalQuantity:r,daysRemaining:l,isLow:u,dailyIntake:h,onClick:f}){const v=r===0,g=b=>b?new Date(b).toLocaleDateString("pt-BR"):"-",p=b=>{if(!b)return!1;const S=new Date,j=new Date(b),R=Math.ceil((j-S)/(1e3*60*60*24));return R<=30&&R>0},_=b=>{if(!b)return!1;const S=new Date;return new Date(b)<S};return d.jsxs(sa,{className:`stock-card-detail ${u?"low-stock-card":""} ${v?"out-of-stock-card":""} ${f?"clickable":""}`,onClick:f,children:[d.jsxs("div",{className:"stock-card-header",children:[d.jsxs("div",{className:"medicine-info-top",children:[d.jsx("h4",{className:"medicine-name",children:s.name}),s.dosage_per_pill&&d.jsxs("span",{className:"medicine-dosage",children:[s.dosage_per_pill,s.dosage_unit||"mg"]})]}),d.jsx("div",{className:"stock-days-badge",children:h>0?d.jsxs("span",{className:`days-count ${u?"danger":""}`,children:[Math.floor(l)," dias"]}):d.jsx("span",{className:"days-count neutral",children:"Inativo"})})]}),d.jsx(ng,{quantity:r,isLow:u}),n.length>0&&d.jsxs("div",{className:"stock-entries",children:[d.jsx("h5",{children:"Histrico de Compras"}),d.jsx("div",{className:"entries-list",children:n.map(b=>d.jsxs("div",{className:"entry-item",children:[d.jsxs("div",{className:"entry-info",children:[d.jsxs("span",{className:"entry-quantity",children:[b.quantity," un."]}),d.jsx("span",{className:"entry-price",children:b.unit_price>0?`(R$ ${parseFloat(b.unit_price).toFixed(2)}/un)`:""}),d.jsxs("span",{className:"entry-date",children:["Compra: ",g(b.purchase_date)]})]}),b.unit_price>0&&d.jsxs("div",{className:"entry-total",children:["Custo lote: R$ ",(b.unit_price*b.quantity).toFixed(2)]}),b.expiration_date&&d.jsx("div",{className:"entry-expiration",children:d.jsx("span",{className:`expiration-badge ${_(b.expiration_date)?"expired":p(b.expiration_date)?"expiring-soon":""}`,children:_(b.expiration_date)?" Vencido":p(b.expiration_date)?" Vence em breve":`Validade: ${g(b.expiration_date)}`})})]},b.id))})]})]})}function _0({initialParams:s,onClearParams:n}){const[r,l]=X.useState([]),[u,h]=X.useState({}),[f,v]=X.useState(!0),[g,p]=X.useState(null),[_,b]=X.useState(!1),[S,j]=X.useState(null),[R,z]=X.useState(""),U=async()=>{try{v(!0),p(null);const[I,J]=await Promise.all([On.getAll(),Ta.getActive()]),fe={},Ne=new Set(J.map(ve=>ve.medicine_id));J.forEach(ve=>{if(ve.active){const D=(ve.dosage_per_intake||0)*(ve.time_schedule?.length||0);fe[ve.medicine_id]=(fe[ve.medicine_id]||0)+D}}),l(I);const Ge=I.map(async ve=>{const D=await tn.getByMedicine(ve.id),Q=D.reduce((E,L)=>E+L.quantity,0),ae=fe[ve.id]||0,pe=ae>0?Q/ae:1/0,P=ae>0&&pe<4;return{medicineId:ve.id,hasActiveProtocol:Ne.has(ve.id),entries:D,total:Q,dailyIntake:ae,daysRemaining:pe,isLow:P}}),jt=await Promise.all(Ge),at={};jt.forEach(ve=>{at[ve.medicineId]={hasActiveProtocol:ve.hasActiveProtocol,entries:ve.entries,total:ve.total,dailyIntake:ve.dailyIntake,daysRemaining:ve.daysRemaining,isLow:ve.isLow}}),h(at)}catch(I){p("Erro ao carregar dados: "+I.message),console.error(I)}finally{v(!1)}};X.useEffect(()=>{U()},[]),X.useEffect(()=>{s?.medicineId&&r.length>0&&b(!0)},[s,r]);const Y=(I=null)=>{if(r.length===0){p("Cadastre um medicamento antes de adicionar estoque");return}j(typeof I=="string"?I:null),b(!0)},Z=async I=>{try{await tn.add(I),V("Estoque adicionado com sucesso!"),b(!1),j(null),n&&n(),await U()}catch(J){throw new Error("Erro ao adicionar estoque: "+J.message)}},V=I=>{z(I),setTimeout(()=>z(""),3e3)},M=r.map(I=>({medicine:I,stock:u[I.id]||{entries:[],total:0,daysRemaining:1/0,isLow:!1,dailyIntake:0,hasActiveProtocol:!1}})),k=M.filter(I=>I.stock.total===0&&I.stock.hasActiveProtocol),G=M.filter(I=>I.stock.total>0&&I.stock.isLow).sort((I,J)=>I.stock.daysRemaining-J.stock.daysRemaining),K=M.filter(I=>I.stock.total>0&&!I.stock.isLow).sort((I,J)=>I.stock.daysRemaining-J.stock.daysRemaining);return f?d.jsx("div",{className:"stock-view",children:d.jsx(Us,{text:"Carregando estoque..."})}):d.jsxs("div",{className:"stock-view",children:[d.jsxs("div",{className:"stock-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:" Estoque"}),d.jsxs("p",{className:"stock-subtitle",children:[d.jsx("span",{className:"live-indicator"}),"Sincronizado com protocolos ativos"]})]}),d.jsx(he,{variant:"primary",onClick:Y,children:" Adicionar Estoque"})]}),R&&d.jsxs("div",{className:"success-banner fade-in",children:[" ",R]}),g&&d.jsxs("div",{className:"error-banner fade-in",children:[" ",g]}),r.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-icon",children:""}),d.jsx("h3",{children:"Nenhum medicamento cadastrado"}),d.jsx("p",{children:"Cadastre medicamentos primeiro para gerenciar o estoque"})]}):d.jsxs("div",{className:"stock-content",children:[k.length>0&&d.jsxs("div",{className:"stock-section fade-in",children:[d.jsxs("h3",{className:"section-title error",children:[" Sem Estoque (",k.length,")",d.jsx("span",{className:"section-subtitle",children:"Reposio imediata necessria"})]}),d.jsx("div",{className:"stock-grid",children:k.map(({medicine:I,stock:J})=>d.jsx(Gc,{medicine:I,stockEntries:J.entries,totalQuantity:J.total,daysRemaining:J.daysRemaining,isLow:!0,onClick:()=>Y(I.id)},I.id))})]}),G.length>0&&d.jsxs("div",{className:"stock-section fade-in",children:[d.jsxs("h3",{className:"section-title warning",children:[" Acaba em breve (",G.length,")",d.jsx("span",{className:"section-subtitle",children:"Menos de 4 dias de cobertura"})]}),d.jsx("div",{className:"stock-grid",children:G.map(({medicine:I,stock:J})=>d.jsx(Gc,{medicine:I,stockEntries:J.entries,totalQuantity:J.total,daysRemaining:J.daysRemaining,isLow:!0,dailyIntake:J.dailyIntake,onClick:()=>Y(I.id)},I.id))})]}),K.length>0&&d.jsxs("div",{className:"stock-section fade-in",children:[d.jsxs("h3",{className:"section-title success",children:[" Estoque OK (",K.length,")",d.jsx("span",{className:"section-subtitle",children:"Mais de 4 dias garantidos"})]}),d.jsx("div",{className:"stock-grid",children:K.map(({medicine:I,stock:J})=>d.jsx(Gc,{medicine:I,stockEntries:J.entries,totalQuantity:J.total,daysRemaining:J.daysRemaining,isLow:!1,dailyIntake:J.dailyIntake},I.id))})]})]}),d.jsx(Ai,{isOpen:_,onClose:()=>{b(!1),n&&n()},children:d.jsx(y0,{medicines:r,initialValues:S?{medicine_id:S}:s?{medicine_id:s.medicineId}:null,onSave:Z,onCancel:()=>{b(!1),j(null),n&&n()}})})]})}function b0({schedule:s=[],onChange:n}){const[r,l]=X.useState(s),[u,h]=X.useState({days:7,dosage:1,note:""});X.useEffect(()=>{l(s)},[s]);const f=()=>{const _=[...r,{...u}];l(_),n(_),h(b=>({...b,note:""}))},v=_=>{const b=r.filter((S,j)=>j!==_);l(b),n(b)},g=(_,b,S)=>{const j=[...r];j[_]={...j[_],[b]:S},l(j),n(j)},p=r.reduce((_,b)=>_+parseInt(b.days||0),0);return d.jsxs("div",{className:"titration-wizard",children:[d.jsxs("div",{className:"wizard-header",children:[d.jsx("h4",{children:" Regime de Titulao"}),d.jsx("p",{className:"wizard-subtitle",children:"Defina a evoluo da dose ao longo do tempo."})]}),d.jsx("div",{className:"stages-list",children:r.map((_,b)=>d.jsxs("div",{className:"titration-stage-card",children:[d.jsxs("div",{className:"stage-number",children:["Etapa ",b+1]}),d.jsxs("div",{className:"stage-grid",children:[d.jsxs("div",{className:"form-group-mini",children:[d.jsx("label",{children:"Durao (dias)"}),d.jsx("input",{type:"number",min:"1",value:_.days,onChange:S=>g(b,"days",parseInt(S.target.value))})]}),d.jsxs("div",{className:"form-group-mini",children:[d.jsx("label",{children:"Dose (comps)"}),d.jsx("input",{type:"number",min:"0.1",step:"0.1",value:_.dosage,onChange:S=>g(b,"dosage",parseFloat(S.target.value))})]}),d.jsxs("div",{className:"form-group-mini full-width",children:[d.jsx("label",{children:"Nota / Objetivo"}),d.jsx("input",{type:"text",placeholder:"Ex: Introduo, Aumento de dose...",value:_.note,onChange:S=>g(b,"note",S.target.value)})]})]}),d.jsx("button",{type:"button",className:"btn-remove-stage",onClick:()=>v(b),title:"Remover etapa",children:""})]},b))}),d.jsxs("div",{className:"add-stage-form",children:[d.jsx("h5",{children:"Adicionar Nova Etapa"}),d.jsxs("div",{className:"stage-input-row",children:[d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Durao"}),d.jsxs("div",{className:"input-with-suffix",children:[d.jsx("input",{type:"number",min:"1",value:u.days,onChange:_=>h(b=>({...b,days:parseInt(_.target.value)}))}),d.jsx("span",{children:"dias"})]})]}),d.jsxs("div",{className:"input-group",children:[d.jsx("label",{children:"Dose"}),d.jsxs("div",{className:"input-with-suffix",children:[d.jsx("input",{type:"number",min:"0.1",step:"0.1",value:u.dosage,onChange:_=>h(b=>({...b,dosage:parseFloat(_.target.value)}))}),d.jsx("span",{children:"comp."})]})]})]}),d.jsx("div",{className:"input-group",children:d.jsx("input",{type:"text",placeholder:"Nota (opcional)",value:u.note,onChange:_=>h(b=>({...b,note:_.target.value})),className:"input-note"})}),d.jsx(he,{type:"button",variant:"outline",onClick:f,className:"btn-add-stage",children:" Adicionar Etapa"})]}),r.length>0&&d.jsx("div",{className:"titration-summary",children:d.jsxs("span",{children:[" Tempo total previsto: ",d.jsxs("strong",{children:[p," dias"]})," at a manuteno."]})})]})}function w0({medicines:s,treatmentPlans:n=[],protocol:r,initialValues:l,onSave:u,onCancel:h}){const[f,v]=X.useState({medicine_id:r?.medicine_id||l?.medicine_id||"",treatment_plan_id:r?.treatment_plan_id||"",name:r?.name||"",frequency:r?.frequency||"",time_schedule:r?.time_schedule||[],dosage_per_intake:r?.dosage_per_intake||"",target_dosage:r?.target_dosage||"",titration_status:r?.titration_status||"estvel",titration_schedule:r?.titration_schedule||[],notes:r?.notes||"",active:r?.active!==void 0?r.active:!0}),[g,p]=X.useState(r?.titration_schedule?.length>0||r?.titration_status==="titulando"),[_,b]=X.useState(""),[S,j]=X.useState({}),[R,z]=X.useState(!1);X.useEffect(()=>{if(!r&&g&&f.titration_schedule?.length>0){const k=f.titration_schedule[0];k.dosage&&!f.dosage_per_intake&&v(G=>({...G,dosage_per_intake:k.dosage}))}},[g,f.titration_schedule,r,f.dosage_per_intake]);const U=k=>{const{name:G,value:K,type:I,checked:J}=k.target;v(fe=>({...fe,[G]:I==="checkbox"?J:K})),S[G]&&j(fe=>({...fe,[G]:""}))},Y=()=>{if(_){if(f.time_schedule.includes(_)){j({time_schedule:"Horrio j adicionado"});return}v(k=>({...k,time_schedule:[...k.time_schedule,_].sort()})),b(""),j(k=>({...k,time_schedule:""}))}},Z=k=>{v(G=>({...G,time_schedule:G.time_schedule.filter(K=>K!==k)}))},V=()=>{const k={};return f.medicine_id||(k.medicine_id="Selecione um medicamento"),f.name.trim()||(k.name="Nome do protocolo  obrigatrio"),f.frequency.trim()||(k.frequency="Frequncia  obrigatria"),f.time_schedule.length===0&&(k.time_schedule="Adicione pelo menos um horrio"),(!f.dosage_per_intake||f.dosage_per_intake<=0)&&(k.dosage_per_intake="Dosagem deve ser maior que zero"),f.target_dosage&&isNaN(f.target_dosage)&&(k.target_dosage="Deve ser um nmero"),j(k),Object.keys(k).length===0},M=async k=>{if(k.preventDefault(),!!V()){z(!0);try{const G=g&&f.titration_schedule.length>0,K={medicine_id:f.medicine_id,treatment_plan_id:f.treatment_plan_id||null,name:f.name.trim(),frequency:f.frequency.trim(),time_schedule:f.time_schedule,dosage_per_intake:parseFloat(f.dosage_per_intake),target_dosage:f.target_dosage?parseFloat(f.target_dosage):null,titration_status:G?"titulando":f.titration_status,titration_schedule:G?f.titration_schedule:[],notes:f.notes.trim()||null,active:f.active};await u(K)}catch(G){console.error("Erro ao salvar:",G),j({submit:G.message})}finally{z(!1)}}};return d.jsxs("form",{className:"protocol-form",onSubmit:M,children:[d.jsx("h3",{children:r?"Editar Protocolo":"Novo Protocolo"}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"medicine_id",children:["Medicamento ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"medicine_id",name:"medicine_id",value:f.medicine_id,onChange:U,className:S.medicine_id?"error":"",disabled:!!r,children:[d.jsx("option",{value:"",children:"Selecione um medicamento"}),s.map(k=>d.jsxs("option",{value:k.id,children:[k.name," ",k.dosage_per_pill?`(${k.dosage_per_pill}${k.dosage_unit||"mg"})`:`(${k.type==="supplement"?"Sup.":"N/A"})`]},k.id))]}),S.medicine_id&&d.jsx("span",{className:"error-message",children:S.medicine_id})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"treatment_plan_id",children:"Plano de Tratamento (Opcional)"}),d.jsxs("select",{id:"treatment_plan_id",name:"treatment_plan_id",value:f.treatment_plan_id,onChange:U,children:[d.jsx("option",{value:"",children:"Nenhum (Protocolo isolado)"}),n.map(k=>d.jsx("option",{value:k.id,children:k.name},k.id))]}),d.jsx("small",{style:{color:"var(--text-tertiary)",fontSize:"11px"},children:"Agrupe este remdio em um plano maior (ex: Quarteto Fantstico)."})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"name",children:["Nome do Protocolo ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("input",{type:"text",id:"name",name:"name",value:f.name,onChange:U,className:S.name?"error":"",placeholder:"Ex: Paracetamol para dor",autoFocus:!r}),S.name&&d.jsx("span",{className:"error-message",children:S.name})]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"frequency",children:["Frequncia ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("input",{type:"text",id:"frequency",name:"frequency",value:f.frequency,onChange:U,className:S.frequency?"error":"",placeholder:"Ex: 2x ao dia, a cada 8 horas"}),S.frequency&&d.jsx("span",{className:"error-message",children:S.frequency})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"dosage_per_intake",children:["Dose por Horrio (qtd) ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("input",{type:"number",id:"dosage_per_intake",name:"dosage_per_intake",value:f.dosage_per_intake,onChange:U,className:S.dosage_per_intake?"error":"",placeholder:"1",min:"0.1",step:"0.1"}),S.dosage_per_intake&&d.jsx("span",{className:"error-message",children:S.dosage_per_intake})]})]}),d.jsxs("div",{className:"form-row",style:{flexDirection:"column",gap:"var(--space-2)",border:"1px solid var(--border-color)",padding:"var(--space-3)",borderRadius:"var(--radius-md)",background:"var(--bg-tertiary)",marginBottom:"var(--space-4)"},children:[d.jsx("div",{className:"form-group checkbox-group",style:{marginBottom:0},children:d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",checked:g,onChange:k=>{p(k.target.checked),k.target.checked?v(G=>({...G,titration_status:"titulando"})):v(G=>({...G,titration_status:"estvel"}))}}),d.jsx("span",{children:" Regime de Titulao Inteligente"})]})}),g?d.jsx(b0,{schedule:f.titration_schedule,onChange:k=>v(G=>({...G,titration_schedule:k}))}):d.jsxs("div",{className:"form-row",style:{marginTop:"var(--space-2)"},children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"target_dosage",children:"Dose Alvo (mg)"}),d.jsx("input",{type:"number",id:"target_dosage",name:"target_dosage",value:f.target_dosage,onChange:U,placeholder:"Ex: 50",step:"0.1",min:"0"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"titration_status",children:"Status Manual"}),d.jsxs("select",{id:"titration_status",name:"titration_status",value:f.titration_status,onChange:U,children:[d.jsx("option",{value:"estvel",children:" Estvel"}),d.jsx("option",{value:"titulando",children:" Titulando"}),d.jsx("option",{value:"alvo_atingido",children:" Alvo Atingido"})]})]})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"time_input",children:["Horrios ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("div",{className:"time-input-group",children:[d.jsx("input",{type:"time",id:"time_input",value:_,onChange:k=>b(k.target.value),className:S.time_schedule?"error":""}),d.jsx(he,{type:"button",variant:"outline",size:"sm",onClick:Y,children:" Adicionar"})]}),S.time_schedule&&d.jsx("span",{className:"error-message",children:S.time_schedule}),f.time_schedule.length>0&&d.jsx("div",{className:"time-schedule-list",children:f.time_schedule.map(k=>d.jsxs("div",{className:"time-chip",children:[d.jsx("span",{children:k}),d.jsx("button",{type:"button",onClick:()=>Z(k),className:"remove-time",children:""})]},k))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"notes",children:"Observaes"}),d.jsx("textarea",{id:"notes",name:"notes",value:f.notes,onChange:U,placeholder:"Informaes adicionais sobre o protocolo...",rows:"3"})]}),d.jsx("div",{className:"form-group",children:d.jsxs("label",{className:"checkbox-label",children:[d.jsx("input",{type:"checkbox",name:"active",checked:f.active,onChange:U}),d.jsx("span",{children:"Protocolo ativo"})]})}),S.submit&&d.jsxs("div",{className:"error-banner",children:[" ",S.submit]}),d.jsxs("div",{className:"form-actions",children:[d.jsx(he,{type:"button",variant:"ghost",onClick:h,disabled:R,children:"Cancelar"}),d.jsx(he,{type:"submit",variant:"primary",disabled:R,children:R?"Salvando...":r?"Atualizar":"Criar Protocolo"})]})]})}function Lm({protocol:s,onEdit:n,onToggleActive:r,onDelete:l}){const u=h=>h;return d.jsxs(sa,{className:`protocol-card ${s.active?"":"inactive"}`,children:[d.jsxs("div",{className:"protocol-header",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"protocol-name",children:s.name}),d.jsxs("span",{className:"protocol-medicine",children:[s.medicine?.name,s.medicine?.dosage_per_pill?` (${s.medicine.dosage_per_pill}${s.medicine.dosage_unit||"mg"})`:""]})]}),d.jsx("div",{className:`protocol-status ${s.active?"active":"inactive"}`,children:s.active?" Ativo":" Pausado"})]}),d.jsxs("div",{className:"protocol-details",children:[d.jsxs("div",{className:"detail-item",children:[d.jsx("span",{className:"detail-label",children:" Frequncia:"}),d.jsx("span",{className:"detail-value",children:s.frequency})]}),d.jsxs("div",{className:"detail-item",children:[d.jsx("span",{className:"detail-label",children:" Dosagem:"}),d.jsxs("span",{className:"detail-value",children:[s.dosage_per_intake," ",s.medicine?.dosage_unit==="ml"?"ml":s.dosage_per_intake===1?"unidade":"unidades",s.target_dosage&&d.jsxs("span",{className:"titration-progress",children:[" (Alvo: ",s.target_dosage,s.medicine?.dosage_unit||"mg",")"]})]})]}),s.titration_status&&s.titration_status!=="estvel"&&d.jsxs("div",{className:"detail-item titration",children:[d.jsx("span",{className:`titration-badge ${s.titration_status}`,children:s.titration_status==="titulando"?" Titulando":" Alvo Atingido"}),s.titration_scheduler_data&&d.jsxs("div",{className:"titration-card-progress",children:[d.jsxs("div",{className:"titration-progress-stats",children:[d.jsxs("span",{children:["Etapa ",s.titration_scheduler_data.currentStep,"/",s.titration_scheduler_data.totalSteps]}),d.jsxs("span",{children:["Dia ",s.titration_scheduler_data.day,"/",s.titration_scheduler_data.totalDays]})]}),d.jsx("div",{className:"titration-progress-bar",children:d.jsx("div",{className:"progress-fill",style:{width:`${s.titration_scheduler_data.progressPercent}%`}})}),s.titration_scheduler_data.stageNote&&d.jsxs("p",{className:"stage-objective",children:["Objetivo: ",s.titration_scheduler_data.stageNote]})]}),s.titration_schedule?.length>0&&d.jsxs("div",{className:"titration-schedule-preview",children:[d.jsx("h5",{children:"Cronograma Planejado:"}),d.jsx("div",{className:"stages-timeline",children:s.titration_schedule.map((h,f)=>d.jsxs("div",{className:`timeline-stage ${f===s.current_stage_index?"current":f<(s.current_stage_index||0)?"past":"future"}`,children:[d.jsxs("span",{className:"stage-dose-mini",children:[h.dosage," comp."]}),d.jsxs("span",{className:"stage-days-mini",children:[h.days,"d"]})]},f))})]})]}),s.time_schedule&&s.time_schedule.length>0&&d.jsxs("div",{className:"detail-item schedule",children:[d.jsx("span",{className:"detail-label",children:" Horrios:"}),d.jsx("div",{className:"schedule-times",children:s.time_schedule.map(h=>d.jsx("span",{className:"time-badge",children:u(h)},h))})]}),s.notes&&d.jsxs("div",{className:"detail-item notes",children:[d.jsx("span",{className:"detail-label",children:" Observaes:"}),d.jsx("p",{className:"detail-value",children:s.notes})]})]}),d.jsxs("div",{className:"protocol-actions",children:[d.jsx(he,{variant:"outline",size:"sm",onClick:()=>n(s),children:" Editar"}),d.jsx(he,{variant:s.active?"ghost":"secondary",size:"sm",onClick:()=>r(s),children:s.active?" Pausar":" Ativar"}),d.jsx(he,{variant:"danger",size:"sm",onClick:()=>l(s),children:" Excluir"})]})]})}function S0({plan:s,onSave:n,onCancel:r}){const[l,u]=X.useState({name:s?.name||"",description:s?.description||"",objective:s?.objective||""}),[h,f]=X.useState({}),[v,g]=X.useState(!1),p=S=>{const{name:j,value:R}=S.target;u(z=>({...z,[j]:R})),h[j]&&f(z=>({...z,[j]:""}))},_=()=>{const S={};return l.name.trim()||(S.name="Nome do plano  obrigatrio"),f(S),Object.keys(S).length===0},b=async S=>{if(S.preventDefault(),!!_()){g(!0);try{await n({...l,name:l.name.trim(),description:l.description.trim()||null,objective:l.objective.trim()||null})}catch(j){console.error("Erro ao salvar plano:",j),f({submit:j.message})}finally{g(!1)}}};return d.jsxs("form",{className:"treatment-plan-form",onSubmit:b,children:[d.jsx("h3",{children:s?"Editar Plano de Tratamento":"Novo Plano de Tratamento"}),d.jsx("p",{className:"form-help",children:"Use planos para agrupar medicamentos de um mesmo tratamento (ex: Insuficincia Cardaca)."}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"name",children:["Nome do Plano ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:p,className:h.name?"error":"",placeholder:"Ex: Quarteto Fantstico (IC)",autoFocus:!0}),h.name&&d.jsx("span",{className:"error-message",children:h.name})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"description",children:"Descrio"}),d.jsx("textarea",{id:"description",name:"description",value:l.description,onChange:p,placeholder:"Ex: Protocolo para controle de insuficincia cardaca conforme prescrio do Dr. Silva.",rows:"3"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"objective",children:"Objetivo do Tratamento"}),d.jsx("input",{type:"text",id:"objective",name:"objective",value:l.objective,onChange:p,placeholder:"Ex: Titular Beta-bloqueador at 100mg"})]}),h.submit&&d.jsxs("div",{className:"error-banner",children:[" ",h.submit]}),d.jsxs("div",{className:"form-actions",children:[d.jsx(he,{type:"button",variant:"ghost",onClick:r,disabled:v,children:"Cancelar"}),d.jsx(he,{type:"submit",variant:"primary",disabled:v,children:v?"Salvando...":s?"Atualizar Plano":"Criar Plano"})]})]})}function eu(s){if(!s.titration_schedule||s.titration_schedule.length===0||!s.stage_started_at)return null;const n=s.current_stage_index||0,r=s.titration_schedule;if(n>=r.length)return null;const l=r[n],u=new Date(s.stage_started_at),f=Math.abs(new Date-u),v=Math.ceil(f/(1e3*60*60*24)),g=Math.max(1,v),p=l.days,_=Math.min(100,g/p*100),b=g>p;return{currentStep:n+1,totalSteps:r.length,day:Math.min(g,p),realDay:g,totalDays:p,progressPercent:_,isTransitionDue:b,stageNote:l.note}}function E0({initialParams:s,onClearParams:n,onNavigateToStock:r}){const[l,u]=X.useState([]),[h,f]=X.useState([]),[v,g]=X.useState([]),[p,_]=X.useState(!0),[b,S]=X.useState(null),[j,R]=X.useState(!1),[z,U]=X.useState(!1),[Y,Z]=X.useState(null),[V,M]=X.useState(null),[k,G]=X.useState(""),K=X.useCallback(async()=>{try{_(!0),S(null);const[P,E,L]=await Promise.all([On.getAll(),Ta.getAll(),xs.getAll()]),W=E.map(F=>({...F,titration_scheduler_data:eu(F)}));u(P),f(W),g(L)}catch(P){S("Erro ao carregar dados: "+P.message),console.error(P)}finally{_(!1)}},[]);X.useEffect(()=>{K()},[K]),X.useEffect(()=>{s?.medicineId&&l.length>0&&(R(!0),Z(null))},[s,l]);const I=()=>{if(l.length===0){S("Cadastre um medicamento antes de criar protocolos");return}Z(null),R(!0)},J=()=>{M(null),U(!0)},fe=P=>{Z(P),R(!0)},Ne=P=>{M(P),U(!0)},Ge=async P=>{try{Y?(await Ta.update(Y.id,P),Q("Protocolo atualizado com sucesso!")):(await Ta.create(P),Q("Protocolo criado com sucesso!"),window.confirm("Protocolo criado! Deseja adicionar o estoque inicial deste medicamento agora?")&&r(P.medicine_id)),R(!1),Z(null),n&&n(),await K()}catch(E){throw new Error("Erro ao salvar protocolo: "+E.message)}},jt=async P=>{try{V?(await xs.update(V.id,P),Q("Plano de tratamento atualizado!")):(await xs.create(P),Q("Plano de tratamento criado!")),U(!1),M(null),await K()}catch(E){throw new Error("Erro ao salvar plano: "+E.message)}},at=async P=>{try{await Ta.update(P.id,{active:!P.active}),Q(`Protocolo ${P.active?"pausado":"ativado"} com sucesso!`),await K()}catch(E){S("Erro ao atualizar protocolo: "+E.message),console.error(E)}},ve=async P=>{if(window.confirm(`Tem certeza que deseja excluir o protocolo "${P.name}"?`))try{await Ta.delete(P.id),Q("Protocolo excludo com sucesso!"),await K()}catch(E){S("Erro ao excluir protocolo: "+E.message),console.error(E)}},D=async P=>{if(window.confirm(`Tem certeza que deseja excluir o plano "${P.name}" e desvincular seus remdios?`))try{await xs.delete(P.id),Q("Plano excludo com sucesso!"),await K()}catch(E){S("Erro ao excluir plano: "+E.message),console.error(E)}},Q=P=>{G(P),setTimeout(()=>G(""),3e3)},ae=h.filter(P=>P.active),pe=h.filter(P=>!P.active);return p?d.jsx("div",{className:"protocols-view",children:d.jsx(Us,{text:"Carregando protocolos..."})}):d.jsxs("div",{className:"protocols-view",children:[d.jsxs("div",{className:"protocols-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:" Protocolos"}),d.jsx("p",{className:"protocols-subtitle",children:"Gerencie seus protocolos e planos de tratamento agrupados"})]}),d.jsxs("div",{style:{display:"flex",gap:"var(--space-2)"},children:[d.jsx(he,{variant:"outline",onClick:J,children:" Novo Plano (Grupo)"}),d.jsx(he,{variant:"primary",onClick:I,children:" Criar Protocolo"})]})]}),k&&d.jsxs("div",{className:"success-banner fade-in",children:[" ",k]}),b&&d.jsxs("div",{className:"error-banner fade-in",children:[" ",b]}),l.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-icon",children:""}),d.jsx("h3",{children:"Nenhum medicamento cadastrado"}),d.jsx("p",{children:"Cadastre medicamentos primeiro para criar protocolos"})]}):d.jsxs("div",{className:"protocols-content",children:[v.length>0&&d.jsxs("div",{className:"treatment-plans-section",children:[d.jsx("h3",{className:"section-title plans",children:" Planos de Tratamento"}),d.jsx("div",{className:"plans-grid",children:v.map(P=>d.jsxs(sa,{className:"treatment-plan-card",children:[d.jsxs("div",{className:"plan-header",children:[d.jsxs("div",{children:[d.jsx("h4",{children:P.name}),d.jsx("p",{className:"plan-objective",children:P.objective})]}),d.jsxs("div",{className:"plan-actions",children:[d.jsx(he,{variant:"ghost",size:"sm",onClick:()=>Ne(P),children:""}),d.jsx(he,{variant:"ghost",size:"sm",onClick:()=>D(P),children:""})]})]}),P.description&&d.jsx("p",{className:"plan-desc",children:P.description}),d.jsx("div",{className:"plan-protocols-list",children:P.protocols&&P.protocols.length>0?P.protocols.map(E=>d.jsxs("div",{className:"plan-protocol-row",children:[d.jsxs("span",{children:[" ",E.name]}),d.jsx("span",{className:`titration-status-mini ${E.titration_status}`,children:E.titration_status==="titulando"?" Titulando":""})]},E.id)):d.jsx("p",{className:"empty-plan",children:"Nenhum remdio vinculado ainda."})})]},P.id))})]}),ae.length>0&&d.jsxs("div",{className:"protocols-section",children:[d.jsxs("h3",{className:"section-title active",children:[v.length>0?" Todos os Protocolos Ativos":" Protocolos Ativos"," (",ae.length,")"]}),d.jsx("div",{className:"protocols-grid",children:ae.map(P=>d.jsx(Lm,{protocol:P,onEdit:fe,onToggleActive:at,onDelete:ve},P.id))})]}),pe.length>0&&d.jsxs("div",{className:"protocols-section",children:[d.jsxs("h3",{className:"section-title inactive",children:[" Protocolos Pausados (",pe.length,")"]}),d.jsx("div",{className:"protocols-grid",children:pe.map(P=>d.jsx(Lm,{protocol:P,onEdit:fe,onToggleActive:at,onDelete:ve},P.id))})]})]}),d.jsx(Ai,{isOpen:j,onClose:()=>{R(!1),Z(null),n&&n()},children:d.jsx(w0,{medicines:l,treatmentPlans:v,protocol:Y,initialValues:s?{medicine_id:s.medicineId}:null,onSave:Ge,onCancel:()=>{R(!1),Z(null),n&&n()}})}),d.jsx(Ai,{isOpen:z,onClose:()=>{U(!1),M(null)},children:d.jsx(S0,{plan:V,onSave:jt,onCancel:()=>{U(!1),M(null)}})})]})}function tu({protocol:s,isSelected:n,onToggle:r}){const u=new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"});return d.jsxs("div",{className:`protocol-checklist-item ${n?"selected":""}`,onClick:()=>r(s.id),children:[d.jsxs("div",{className:"checklist-left",children:[d.jsx("div",{className:`custom-checkbox ${n?"checked":""}`,children:n&&""}),d.jsxs("div",{className:"checklist-info",children:[d.jsxs("span",{className:"checklist-name",children:[" ",s.name]}),d.jsxs("div",{className:"checklist-meta",children:[s.titration_scheduler_data?d.jsxs("div",{className:"titration-mini-status",children:[d.jsxs("span",{className:"titration-step-badge",children:["Etapa ",s.titration_scheduler_data.currentStep,"/",s.titration_scheduler_data.totalSteps]}),d.jsxs("span",{className:"titration-days-text",children:["Dia ",s.titration_scheduler_data.day,"/",s.titration_scheduler_data.totalDays]})]}):d.jsx("span",{className:`titration-badge ${s.titration_status}`,children:s.titration_status==="titulando"?" Titulando":"Estvel"}),d.jsxs("span",{className:"dosage-badge",children:[s.dosage_per_intake," ",s.dosage_per_intake===1?"comp.":"comps."]})]}),s.titration_scheduler_data&&d.jsx("div",{className:"titration-progress-bar-container",children:d.jsx("div",{className:"titration-progress-bar-fill",style:{width:`${s.titration_scheduler_data.progressPercent}%`}})})]})]}),d.jsx("div",{className:"checklist-right",children:d.jsx("div",{className:"time-pills",children:s.time_schedule?.map(h=>d.jsx("span",{className:`time-pill ${h<=u?"past":""}`,children:h},h))})})]})}function ig({protocols:s,treatmentPlans:n=[],initialValues:r,onSave:l,onCancel:u}){const h=M=>{const k=M?new Date(M):new Date,G=k.getTimezoneOffset()*6e4;return new Date(k.getTime()-G).toISOString().slice(0,16)},[f,v]=X.useState({type:r?.protocol_id?"protocol":r?.treatment_plan_id?"plan":"protocol",id:r?.id||null,protocol_id:r?.protocol_id||"",treatment_plan_id:r?.treatment_plan_id||"",taken_at:h(r?.taken_at),quantity_taken:r?.quantity_taken||"",notes:r?.notes||""}),[g,p]=X.useState([]),[_,b]=X.useState({}),[S,j]=X.useState(!1),R=s.find(M=>M.id===f.protocol_id),z=n.find(M=>M.id===f.treatment_plan_id);X.useEffect(()=>{if(f.type==="plan"&&f.treatment_plan_id){const M=n.find(k=>k.id===f.treatment_plan_id);if(M){const k=M.protocols?.filter(G=>G.active).map(G=>G.id)||[];p(k)}}else p([])},[f.treatment_plan_id,f.type,n]);const U=M=>{const{name:k,value:G}=M.target;v(K=>({...K,[k]:G})),_[k]&&b(K=>({...K,[k]:""}))},Y=M=>{p(k=>k.includes(M)?k.filter(G=>G!==M):[...k,M]),_.submit&&g.length===0&&b(k=>({...k,submit:""}))},Z=()=>{const M={};return f.type==="protocol"&&!f.protocol_id&&(M.protocol_id="Selecione um protocolo"),f.type==="plan"&&(f.treatment_plan_id?g.length===0&&(M.submit="Selecione pelo menos um medicamento para registrar"):M.treatment_plan_id="Selecione um plano"),b(M),Object.keys(M).length===0},V=async M=>{if(M.preventDefault(),!!Z()){j(!0);try{if(f.type==="protocol"){const k=s.find(K=>K.id===f.protocol_id),G={protocol_id:f.protocol_id,medicine_id:k.medicine_id,quantity_taken:f.quantity_taken?parseFloat(f.quantity_taken):k.dosage_per_intake,taken_at:new Date(f.taken_at).toISOString(),notes:f.notes.trim()||null};f.id?await l({...G,id:f.id}):await l(G)}else{const k=n.find(I=>I.id===f.treatment_plan_id),G=k.protocols?.filter(I=>I.active&&g.includes(I.id))||[];if(G.length===0)throw new Error("Nenhum protocolo selecionado");const K=G.map(I=>({protocol_id:I.id,medicine_id:I.medicine_id,quantity_taken:I.dosage_per_intake,taken_at:new Date(f.taken_at).toISOString(),notes:`[Plan: ${k.name}] ${f.notes.trim()}`.trim()}));await l(K)}}catch(k){console.error("Erro ao salvar:",k),b({submit:k.message})}finally{j(!1)}}};return d.jsxs("form",{className:"log-form",onSubmit:V,children:[d.jsx("h3",{children:"Registrar Medicamento Tomado"}),d.jsxs("div",{className:"log-type-toggle",children:[d.jsx("button",{type:"button",className:f.type==="protocol"?"active":"",onClick:()=>v(M=>({...M,type:"protocol"})),children:" nico Remdio"}),d.jsx("button",{type:"button",className:f.type==="plan"?"active":"",onClick:()=>v(M=>({...M,type:"plan"})),disabled:n.length===0||f.id,children:" Plano Completo"})]}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"taken_at",children:["Data e Hora do Registro ",d.jsx("span",{className:"required",children:"*"})]}),d.jsx("input",{type:"datetime-local",id:"taken_at",name:"taken_at",value:f.taken_at,onChange:U,required:!0})]}),f.type==="protocol"?d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"protocol_id",children:["Protocolo ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"protocol_id",name:"protocol_id",value:f.protocol_id,onChange:U,className:_.protocol_id?"error":"",children:[d.jsx("option",{value:"",children:"Selecione um protocolo"}),s.map(M=>d.jsxs("option",{value:M.id,children:[M.name," - ",M.medicine?.name]},M.id))]}),_.protocol_id&&d.jsx("span",{className:"error-message",children:_.protocol_id})]}):d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{htmlFor:"treatment_plan_id",children:["Plano de Tratamento ",d.jsx("span",{className:"required",children:"*"})]}),d.jsxs("select",{id:"treatment_plan_id",name:"treatment_plan_id",value:f.treatment_plan_id,onChange:U,className:_.treatment_plan_id?"error":"",children:[d.jsx("option",{value:"",children:"Selecione um plano"}),n.map(M=>d.jsxs("option",{value:M.id,children:[M.name," (",M.protocols?.filter(k=>k.active).length||0," remdios)"]},M.id))]}),_.treatment_plan_id&&d.jsx("span",{className:"error-message",children:_.treatment_plan_id})]}),R&&f.type==="protocol"&&d.jsxs("div",{className:"protocol-info",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"quantity_taken",children:"Quantidade Tomada"}),d.jsx("input",{type:"number",id:"quantity_taken",name:"quantity_taken",value:f.quantity_taken||(R?R.dosage_per_intake:""),onChange:U,step:"0.1",min:"0.1",required:!0})]}),d.jsxs("div",{className:"info-item",style:{marginTop:"var(--space-2)"},children:[d.jsx("span",{className:"info-label",children:" Medicamento:"}),d.jsx("span",{className:"info-value",children:R.medicine?.name})]})]}),z&&f.type==="plan"&&d.jsxs("div",{className:"protocol-info",children:[d.jsx("p",{className:"plan-summary-title",children:"Selecione os medicamentos tomados:"}),d.jsx("div",{className:"plan-medicines-list",children:z.protocols?.filter(M=>M.active).map(M=>d.jsx(tu,{protocol:M,isSelected:g.includes(M.id),onToggle:Y},M.id))}),d.jsxs("div",{style:{marginTop:"8px",fontSize:"11px",color:"var(--text-tertiary)",textAlign:"right"},children:[g.length," selecionados"]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{htmlFor:"notes",children:"Observaes (opcional)"}),d.jsx("textarea",{id:"notes",name:"notes",value:f.notes,onChange:U,placeholder:"Ex: Tomei com gua, aps caf da manh...",rows:"3"})]}),_.submit&&d.jsxs("div",{className:"error-banner",children:[" ",_.submit]}),d.jsxs("div",{className:"form-actions",children:[d.jsx(he,{type:"button",variant:"ghost",onClick:u,disabled:S,children:"Cancelar"}),d.jsx(he,{type:"submit",variant:"primary",disabled:S||(f.type==="protocol"?!f.protocol_id:!f.treatment_plan_id||g.length===0),children:S?"Salvando...":f.id?" Atualizar Registro":f.type==="plan"&&g.length>0?` Registrar (${g.length})`:" Registrar Dose"})]})]})}function sg({markedDates:s=[],selectedDate:n,onDayClick:r}){const[l,u]=X.useState(new Date),h=(U,Y)=>new Date(U,Y+1,0).getDate(),f=(U,Y)=>new Date(U,Y,1).getDay(),v=l.getFullYear(),g=l.getMonth(),p=()=>u(new Date(v,g+1,1)),_=()=>u(new Date(v,g-1,1)),b=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],S=[],j=h(v,g),R=f(v,g);for(let U=0;U<R;U++)S.push(d.jsx("div",{className:"calendar-day empty"},`empty-${U}`));const z=new Date;z.setHours(0,0,0,0);for(let U=1;U<=j;U++){const Y=new Date(v,g,U);Y.setHours(0,0,0,0);const Z=Y.getTime()===z.getTime(),V=n&&Y.getFullYear()===n.getFullYear()&&Y.getMonth()===n.getMonth()&&Y.getDate()===n.getDate(),M=s.some(k=>{const G=new Date(k);return G.getFullYear()===v&&G.getMonth()===g&&G.getDate()===U});S.push(d.jsxs("div",{className:`calendar-day ${Z?"today":""} ${V?"selected":""} ${M?"has-log":""}`,onClick:()=>r&&r(Y),children:[d.jsx("span",{className:"day-number",children:U}),M&&d.jsx("div",{className:"log-dot"})]},U))}return d.jsxs("div",{className:"calendar-widget",children:[d.jsxs("div",{className:"calendar-controls",children:[d.jsx("button",{onClick:_,children:"<"}),d.jsxs("div",{className:"current-month",children:[b[g]," ",v]}),d.jsx("button",{onClick:p,children:">"})]}),d.jsxs("div",{className:"calendar-weekdays",children:[d.jsx("div",{children:"Dom"}),d.jsx("div",{children:"Seg"}),d.jsx("div",{children:"Ter"}),d.jsx("div",{children:"Qua"}),d.jsx("div",{children:"Qui"}),d.jsx("div",{children:"Sex"}),d.jsx("div",{children:"Sb"})]}),d.jsx("div",{className:"calendar-grid",children:S})]})}function x0({log:s,onEdit:n,onDelete:r}){const l=f=>{const v=new Date(f);return{date:v.toLocaleDateString("pt-BR"),time:v.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}},{date:u,time:h}=l(s.taken_at);return d.jsxs("div",{className:"log-entry",children:[d.jsxs("div",{className:"log-header",children:[d.jsxs("div",{className:"log-time",children:[d.jsx("span",{className:"log-date",children:u}),d.jsx("span",{className:"log-hour",children:h})]}),d.jsxs("div",{className:"actions-header",children:[n&&d.jsx("button",{className:"btn-edit-log",onClick:()=>n(s),children:" Editar"}),r&&s.id&&d.jsx("button",{className:"btn-delete-log",onClick:()=>{window.confirm("Excluir este registro de dose? O estoque ser devolvido.")&&r(s.id)},children:""}),d.jsx("div",{className:"log-badge",children:" Tomado"})]})]}),d.jsxs("div",{className:"log-content",children:[d.jsxs("div",{className:"log-medicine",children:[d.jsx("h4",{children:s.medicine?.name}),s.protocol&&d.jsx("span",{className:"log-protocol",children:s.protocol.name})]}),d.jsx("div",{className:"log-details",children:d.jsxs("span",{className:"log-quantity",children:[s.quantity_taken," ",s.quantity_taken===1?"comprimido":"comprimidos"]})}),s.notes&&d.jsxs("div",{className:"log-notes",children:[d.jsx("span",{className:"notes-label",children:""}),d.jsx("p",{children:s.notes})]})]})]})}function j0({protocol:s,onAdvance:n,onDismiss:r}){if(!s?.titration_scheduler_data?.isTransitionDue)return null;const l=s.titration_schedule[s.current_stage_index],u=s.current_stage_index+1,h=s.titration_schedule[u],f=!h;return d.jsxs("div",{className:"titration-transition-alert",children:[d.jsx("div",{className:"alert-icon",children:""}),d.jsxs("div",{className:"alert-content",children:[d.jsx("h4",{children:f?" Protocolo de Titulao Concludo!":" Hora de Avanar para a Prxima Etapa"}),d.jsxs("p",{className:"alert-protocol-name",children:[d.jsx("strong",{children:s.medicine?.name})," - ",s.name]}),f?d.jsxs("div",{className:"transition-info",children:[d.jsxs("p",{children:["Voc completou todas as etapas do protocolo de titulao! A dose atual de ",d.jsxs("strong",{children:[l.dosage," comp."]}),"  a dose de manuteno."]}),d.jsx("p",{className:"alert-note",children:l.note})]}):d.jsxs("div",{className:"transition-info",children:[d.jsxs("div",{className:"stage-comparison",children:[d.jsxs("div",{className:"stage-box current",children:[d.jsx("span",{className:"stage-label",children:"Etapa Atual"}),d.jsxs("span",{className:"stage-number",children:["Etapa ",s.current_stage_index+1]}),d.jsxs("span",{className:"stage-dose",children:[l.dosage," comp. por horrio"]}),d.jsx("span",{className:"stage-note",children:l.note})]}),d.jsx("div",{className:"arrow",children:""}),d.jsxs("div",{className:"stage-box next",children:[d.jsx("span",{className:"stage-label",children:"Prxima Etapa"}),d.jsxs("span",{className:"stage-number",children:["Etapa ",u+1]}),d.jsxs("span",{className:"stage-dose",children:[h.dosage," comp. por horrio"]}),d.jsx("span",{className:"stage-note",children:h.note})]})]}),d.jsxs("p",{className:"transition-duration",children:["Durao da prxima etapa: ",d.jsxs("strong",{children:[h.days," dias"]})]})]})]}),d.jsx("div",{className:"alert-actions",children:f?d.jsx(he,{variant:"primary",onClick:()=>n(s.id,!0),children:" Marcar como Concludo"}):d.jsxs(d.Fragment,{children:[d.jsx(he,{variant:"ghost",size:"sm",onClick:()=>r(s.id),children:"Lembrar Depois"}),d.jsx(he,{variant:"primary",onClick:()=>n(s.id,!1),children:" Avanar Agora"})]})})]})}function T0({onNavigate:s}){const[n,r]=X.useState([]),[l,u]=X.useState([]),[h,f]=X.useState([]),[v,g]=X.useState([]),[p,_]=X.useState(null),[b,S]=X.useState([]),[j,R]=X.useState({}),[z,U]=X.useState(!0),[Y,Z]=X.useState(null),[V,M]=X.useState(!1),[k,G]=X.useState(null),[K,I]=X.useState(""),[J,fe]=X.useState(new Date),[Ne,Ge]=X.useState({}),[jt,at]=X.useState(new Set),ve=$=>{R(se=>({...se,[$]:!se[$]}))},D=($,se)=>{Ge(Qe=>{const st=Qe[$]||[],pt=st.includes(se)?st.filter(Bt=>Bt!==se):[...st,se];return{...Qe,[$]:pt}})},Q=X.useCallback(async()=>{try{U(!0),Z(null);const[$,se,Qe,st]=await Promise.all([Ta.getActive(),xs.getAll(),an.getAll(100),On.getAll()]),ra=$.map(Oe=>({...Oe,titration_scheduler_data:eu(Oe)})),pt=se.map(Oe=>({...Oe,protocols:Oe.protocols?.map(rt=>({...rt,titration_scheduler_data:eu(rt)}))}));r(ra),u(pt),f(Qe),S(st),fe(new Date);const Bt={},Rn={};pt.forEach(Oe=>{Bt[Oe.id]=!1,Rn[Oe.id]=Oe.protocols?.filter(rt=>rt.active).map(rt=>rt.id)||[]}),R(Bt),Ge(Rn),Qe.length>0&&!p&&_(new Date(Qe[0].taken_at));const nn={};ra.forEach(Oe=>{if(Oe.active){const rt=(Oe.dosage_per_intake||0)*(Oe.time_schedule?.length||0);nn[Oe.medicine_id]=(nn[Oe.medicine_id]||0)+rt}});const dl=st.map(async Oe=>{const zs=(await tn.getByMedicine(Oe.id)).reduce((qs,Ms)=>qs+Ms.quantity,0),Cn=nn[Oe.id]||0,mt=Cn>0?zs/Cn:1/0,fl=Cn>0&&mt<4;return{medicine:Oe,total:zs,dailyIntake:Cn,daysRemaining:mt,isLow:fl}}),Ni=(await Promise.all(dl)).filter(Oe=>Oe.total>0).sort((Oe,rt)=>Oe.isLow&&!rt.isLow?-1:!Oe.isLow&&rt.isLow?1:Oe.daysRemaining-rt.daysRemaining);g(Ni)}catch($){Z("Erro ao carregar dados: "+$.message),console.error($)}finally{U(!1)}},[]);X.useEffect(()=>{Q()},[Q]);const ae=async $=>{try{Array.isArray($)?(await an.createBulk($),F("Lote de medicamentos registrado com sucesso!")):$.id?(await an.update($.id,$),F("Registro atualizado com sucesso!")):(await an.create($),F("Medicamento registrado com sucesso!")),M(!1),G(null),await Q()}catch(se){throw new Error(se.message)}};function pe($){G($),M(!0)}function P(){G(null),M(!0)}const E=async($,se)=>{$.stopPropagation();const Qe=Ne[se.id]||[],st=se.protocols?.filter(pt=>pt.active&&Qe.includes(pt.id))||[];if(st.length===0)return;const ra=st.map(pt=>({protocol_id:pt.id,medicine_id:pt.medicine_id,quantity_taken:pt.dosage_per_intake,notes:`[Ao Rpida: ${se.name}]`}));await ae(ra)},L=async($,se)=>{try{await Ta.advanceTitrationStage($,se),F(se?" Protocolo de titulao concludo com sucesso!":" Avanado para a prxima etapa de titulao!"),at(Qe=>{const st=new Set(Qe);return st.delete($),st}),await Q()}catch(Qe){Z("Erro ao avanar etapa: "+Qe.message),console.error(Qe)}},W=$=>{at(se=>new Set(se).add($))},F=$=>{I($),setTimeout(()=>I(""),3e3)},ce=()=>{const $=new Date().getHours();return $<12?"Bom dia! ":$<18?"Boa tarde! ":"Boa noite! "},de=p||new Date,Ee=h.filter($=>{const se=new Date($.taken_at);return se.getFullYear()===de.getFullYear()&&se.getMonth()===de.getMonth()&&se.getDate()===de.getDate()});return z?d.jsx("div",{className:"dashboard-view",children:d.jsx(Us,{text:"Carregando dashboard..."})}):d.jsxs("div",{className:"dashboard-container",children:[d.jsxs("div",{className:"dashboard-header-premium",children:[d.jsxs("div",{className:"greeting-section",style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[d.jsx("img",{src:"/logo.png",alt:"Logo",style:{width:"64px",height:"64px",borderRadius:"16px",boxShadow:"0 0 20px rgba(0, 240, 255, 0.3)"}}),d.jsxs("div",{children:[d.jsx("h1",{children:ce()}),d.jsxs("p",{className:"dashboard-subtitle",children:[d.jsx("span",{className:"live-indicator"}),"Atualizado em ",J.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})]}),d.jsx("div",{className:"quick-actions",children:d.jsxs(he,{variant:"primary",className:"btn-log-dose",onClick:P,children:[d.jsx("span",{className:"btn-icon",children:""})," Registrar Dose"]})})]}),d.jsxs("div",{className:"dashboard-summary-row fade-in",children:[d.jsxs("div",{className:"summary-stat-card",children:[d.jsx("span",{className:"stat-icon",children:""}),d.jsxs("div",{className:"stat-content",children:[d.jsx("span",{className:"stat-value",children:n.length}),d.jsx("span",{className:"stat-label",children:"Protocolos Ativos"})]})]}),d.jsxs("div",{className:"summary-stat-card",children:[d.jsx("span",{className:"stat-icon",children:""}),d.jsxs("div",{className:"stat-content",children:[d.jsx("span",{className:"stat-value",children:l.length}),d.jsx("span",{className:"stat-label",children:"Planos em Curso"})]})]}),d.jsxs("div",{className:"summary-stat-card warning",children:[d.jsx("span",{className:"stat-icon",children:""}),d.jsxs("div",{className:"stat-content",children:[d.jsx("span",{className:"stat-value",children:v.filter($=>$.isLow).length}),d.jsx("span",{className:"stat-label",children:"Acaba em breve"})]})]})]}),K&&d.jsxs("div",{className:"success-banner fade-in",children:[" ",K]}),Y&&d.jsxs("div",{className:"error-banner fade-in",children:[" ",Y]}),n.filter($=>$.titration_scheduler_data?.isTransitionDue&&!jt.has($.id)).map($=>d.jsx(j0,{protocol:$,onAdvance:L,onDismiss:W},$.id)),d.jsxs("div",{className:"dashboard-grid",children:[l.length>0&&d.jsx("div",{className:"treatment-plans-grid full-width",children:l.map($=>d.jsxs(sa,{className:`dashboard-card plan-card-dash ${j[$.id]?"expanded":"collapsed"}`,children:[d.jsxs("div",{className:"card-header plan-header-dash",onClick:()=>ve($.id),children:[d.jsxs("div",{className:"plan-title-area",children:[d.jsx("span",{className:`expand-icon ${j[$.id]?"open":""}`,children:""}),d.jsxs("h3",{children:[" ",$.name]})]}),d.jsxs("div",{className:"plan-actions-dash",children:[d.jsx("span",{className:"plan-objective-dash",children:$.objective}),d.jsx(he,{variant:"primary",size:"sm",onClick:se=>E(se,$),disabled:!(Ne[$.id]?.length>0),children:Ne[$.id]?.length>0?` Tomar (${Ne[$.id].length})`:" Tomar Selecionados"})]})]}),j[$.id]&&d.jsx("div",{className:"plan-summary-dash fade-in",style:{padding:"0 var(--space-4) var(--space-4)"},children:$.protocols?.filter(se=>se.active).map(se=>d.jsx(tu,{protocol:se,isSelected:Ne[$.id]?.includes(se.id)||!1,onToggle:Qe=>D($.id,Qe)},se.id))})]},$.id))}),d.jsxs(sa,{className:"dashboard-card medicines-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsx("h3",{children:" Medicamentos"}),d.jsx(he,{variant:"ghost",size:"sm",onClick:()=>s("medicines"),children:"Gerenciar"})]}),d.jsx("div",{className:"card-content-dash",children:b.length===0?d.jsxs("div",{className:"empty-message",children:[d.jsx("p",{children:"Nenhum remdio cadastrado"}),d.jsx(he,{variant:"outline",size:"sm",onClick:()=>s("medicines"),children:"Cadastrar"})]}):d.jsx("div",{className:"item-list-dash",children:b.slice(-8).reverse().map($=>d.jsxs("div",{className:"summary-item-dash",children:[d.jsxs("div",{className:"item-info-dash",children:[d.jsx("h4",{children:$.name}),d.jsxs("div",{className:"item-details-dash",children:[d.jsx("span",{className:"item-main-dash",children:$.active_ingredient}),d.jsx("span",{className:"item-lab-dash",children:$.laboratory})]})]}),d.jsxs("div",{className:"item-right-dash",children:[d.jsx("span",{className:"dosage-highlight-dash",children:$.dosage_per_pill?`${$.dosage_per_pill}${$.dosage_unit||"mg"}`:$.type==="supplement"?"Sup.":"N/A"}),d.jsx("span",{className:"type-tag-dash",children:$.type==="supplement"?"SUP":"MED"})]})]},$.id))})})]}),d.jsxs(sa,{className:"dashboard-card protocols-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsx("h3",{children:" Protocolos Avulsos"}),d.jsx(he,{variant:"ghost",size:"sm",onClick:()=>s("protocols"),children:"Gerenciar"})]}),d.jsx("div",{className:"card-content-dash",children:n.filter($=>!$.treatment_plan_id).length===0?d.jsxs("div",{className:"empty-message",children:[d.jsx("p",{children:"Nenhum protocolo avulso"}),d.jsx(he,{variant:"outline",size:"sm",onClick:()=>s("protocols"),children:"Criar"})]}):d.jsx("div",{className:"item-list-dash",children:n.filter($=>!$.treatment_plan_id).slice(0,8).map($=>d.jsx(tu,{protocol:$,isSelected:!1,onToggle:()=>{}},$.id))})})]}),d.jsxs(sa,{className:"dashboard-card stock-card",children:[d.jsxs("div",{className:"card-header",children:[d.jsxs("h3",{children:[" Estoque",v.some($=>$.isLow)&&d.jsx("span",{className:"badge-alert-mini",children:"!"})]}),d.jsx(he,{variant:"ghost",size:"sm",onClick:()=>s("stock"),children:"Gerenciar"})]}),v.length===0?d.jsxs("div",{className:"empty-message",children:[d.jsx("p",{children:"Nenhum estoque cadastrado"}),d.jsx(he,{variant:"outline",size:"sm",onClick:()=>s("stock"),children:"Adicionar Estoque"})]}):d.jsx("div",{className:"stock-list",children:v.slice(0,5).map($=>d.jsxs("div",{className:`stock-item clickable-replenish ${$.isLow?"low-stock-highlight":""}`,onClick:()=>s("stock",{medicineId:$.medicine.id}),children:[d.jsxs("div",{className:"stock-info-dash",children:[d.jsxs("h4",{children:[$.isLow&&d.jsx("span",{className:"warning-mini",children:""}),$.medicine.name]}),d.jsx("span",{className:"stock-days-remaining",children:$.dailyIntake>0?`${Math.floor($.daysRemaining)} dias restantes`:"Sem protocolo ativo"})]}),d.jsx(ng,{quantity:$.total,isLow:$.isLow})]},$.medicine.id))})]}),d.jsxs(sa,{className:"dashboard-card history-card full-width",children:[d.jsxs("div",{className:"card-header",children:[d.jsx("h3",{children:" Ciclo de Doses"}),d.jsx(he,{variant:"ghost",size:"sm",onClick:()=>s("history"),children:"Ver Histrico Completo"})]}),d.jsx("div",{className:"card-content-dash",style:{padding:"var(--space-5)"},children:d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"var(--space-8)",alignItems:"start"},children:[d.jsx(sg,{markedDates:h.map($=>$.taken_at),selectedDate:p,onDayClick:$=>_($)}),d.jsxs("div",{className:"recent-activity",children:[d.jsxs("h4",{style:{marginBottom:"var(--space-4)",fontSize:"13px",color:"var(--text-tertiary)",textTransform:"uppercase"},children:[de.toLocaleDateString("pt-BR"),de.toDateString()===new Date().toDateString()?" (Hoje)":""]}),Ee.length===0?d.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-tertiary)",fontStyle:"italic"},children:"Nenhum registro neste dia"}):d.jsx("div",{className:"logs-timeline-mini",children:Ee.map($=>d.jsxs("div",{onClick:()=>pe($),style:{padding:"var(--space-3)",background:"rgba(255,255,255,0.03)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-2)",borderLeft:"3px solid var(--accent-success)",cursor:"pointer",transition:"all 0.2s"},className:"clickable-log-item",children:[d.jsxs("div",{style:{fontWeight:600,fontSize:"13px",display:"flex",justifyContent:"space-between"},children:[d.jsx("span",{children:$.medicine?.name}),d.jsx("span",{style:{opacity:.5,fontSize:"11px"},children:""})]}),d.jsxs("div",{style:{fontSize:"11px",color:"var(--text-tertiary)",marginTop:"2px"},children:[new Date($.taken_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),$.quantity_taken&&`  ${$.quantity_taken} ${$.quantity_taken===1?"dose":"doses"}`]})]},$.id))})]})]})})]})]}),d.jsx(Ai,{isOpen:V,onClose:()=>{M(!1),G(null)},children:d.jsx(ig,{protocols:n,treatmentPlans:l,initialValues:k,onSave:ae,onCancel:()=>{M(!1),G(null)}})})]})}function A0(){const[s,n]=X.useState([]),[r,l]=X.useState([]),[u,h]=X.useState(!0),[f,v]=X.useState(null),[g,p]=X.useState(!1),[_,b]=X.useState(null),[S,j]=X.useState(new Date),[R,z]=X.useState(""),U=X.useCallback(async()=>{try{h(!0),v(null);const[J,fe]=await Promise.all([an.getAll(100),Ta.getActive()]);n(J),l(fe),J.length>0&&j(new Date(J[0].taken_at))}catch(J){v("Erro ao carregar histrico: "+J.message),console.error(J)}finally{h(!1)}},[]);X.useEffect(()=>{U()},[U]);const Y=async J=>{try{J.id?(await an.update(J.id,J),k("Registro atualizado com sucesso!")):(await an.create(J),k("Medicamento registrado com sucesso! Estoque atualizado.")),p(!1),b(null),await U()}catch(fe){throw new Error(fe.message)}},Z=async J=>{try{await an.delete(J),k("Registro removido e estoque restabelecido!"),await U()}catch(fe){v("Erro ao remover registro: "+fe.message)}},V=J=>{b(J),p(!0)},M=()=>{b(null),p(!0)},k=J=>{z(J),setTimeout(()=>z(""),3e3)},K=(()=>{const J={};return s.forEach(fe=>{const Ne=new Date(fe.taken_at).toLocaleDateString("pt-BR");J[Ne]||(J[Ne]=[]),J[Ne].push(fe)}),J})(),I=Object.keys(K).sort((J,fe)=>{const Ne=new Date(J.split("/").reverse().join("-"));return new Date(fe.split("/").reverse().join("-"))-Ne});return u?d.jsx("div",{className:"history-view",children:d.jsx(Us,{text:"Carregando histrico..."})}):d.jsxs("div",{className:"history-view",children:[d.jsxs("div",{className:"history-header",children:[d.jsxs("div",{children:[d.jsx("h2",{children:" Histrico"}),d.jsx("p",{className:"history-subtitle",children:"Registro completo de medicamentos tomados"})]}),d.jsx(he,{variant:"primary",onClick:M,children:" Registrar Dose"})]}),R&&d.jsxs("div",{className:"success-banner fade-in",children:[" ",R]}),f&&d.jsxs("div",{className:"error-banner fade-in",children:[" ",f]}),s.length===0?d.jsxs("div",{className:"empty-state",children:[d.jsx("div",{className:"empty-icon",children:""}),d.jsx("h3",{children:"Nenhum registro ainda"}),d.jsx("p",{children:"Comece registrando sua primeira dose"}),d.jsx(he,{variant:"primary",onClick:M,children:" Registrar Primeira Dose"})]}):d.jsxs("div",{className:"history-content",children:[d.jsxs("div",{className:"history-stats",children:[d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-value",children:s.length}),d.jsx("span",{className:"stat-label",children:"Doses Registradas"})]}),d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-value",children:I.length}),d.jsx("span",{className:"stat-label",children:"Dias com Registro"})]}),d.jsxs("div",{className:"stat-card",children:[d.jsx("span",{className:"stat-value",children:s.reduce((J,fe)=>J+fe.quantity_taken,0)}),d.jsx("span",{className:"stat-label",children:"Comprimidos Tomados"})]})]}),d.jsx("div",{className:"history-calendar-section",style:{background:"var(--bg-glass)",borderRadius:"var(--radius-lg)",padding:"var(--space-6)",marginBottom:"var(--space-8)",border:"1px solid var(--border-color)"},children:d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 300px",gap:"var(--space-8)",alignItems:"start"},children:[d.jsx(sg,{markedDates:s.map(J=>J.taken_at),selectedDate:S,onDayClick:J=>j(J)}),d.jsxs("div",{className:"day-details",children:[d.jsxs("h4",{style:{marginBottom:"var(--space-4)",fontSize:"13px",color:"var(--text-tertiary)",textTransform:"uppercase"},children:["Doses de ",S.toLocaleDateString("pt-BR")]}),(()=>{const J=s.filter(fe=>{const Ne=new Date(fe.taken_at);return Ne.getFullYear()===S.getFullYear()&&Ne.getMonth()===S.getMonth()&&Ne.getDate()===S.getDate()});return J.length===0?d.jsx("p",{style:{fontSize:"var(--font-size-sm)",color:"var(--text-tertiary)",fontStyle:"italic"},children:"Nenhum registro selecionado"}):d.jsx("div",{className:"day-logs-mini",children:J.map(fe=>d.jsxs("div",{onClick:()=>V(fe),style:{padding:"var(--space-3)",background:"rgba(255,255,255,0.03)",borderRadius:"var(--radius-md)",marginBottom:"var(--space-2)",borderLeft:"3px solid var(--accent-success)",cursor:"pointer"},children:[d.jsxs("div",{style:{fontWeight:600,fontSize:"13px",display:"flex",justifyContent:"space-between"},children:[d.jsx("span",{children:fe.medicine?.name}),d.jsx("span",{children:""})]}),d.jsx("div",{style:{fontSize:"11px",color:"var(--text-tertiary)"},children:new Date(fe.taken_at).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]},fe.id))})})()]})]})}),d.jsx("div",{className:"history-timeline",children:I.map(J=>d.jsxs("div",{className:"timeline-day",children:[d.jsxs("div",{className:"day-header",children:[d.jsx("h3",{children:J}),d.jsxs("span",{className:"day-count",children:[K[J].length," ",K[J].length===1?"dose":"doses"]})]}),d.jsx("div",{className:"day-logs",children:K[J].map(fe=>d.jsx(x0,{log:fe,onEdit:V,onDelete:Z},fe.id))})]},J))})]}),d.jsx(Ai,{isOpen:g,onClose:()=>{p(!1),b(null)},children:d.jsx(ig,{protocols:r,initialValues:_,onSave:Y,onCancel:()=>{p(!1),b(null)}})})]})}function N0(){const[s,n]=X.useState("idle"),[r,l]=X.useState(""),u=async()=>{n("loading"),l("Testando conexo...");try{const{data:h,error:f}=await xe.from("medicines").select("*").limit(1);if(f)throw f;n("success"),l(` Conexo OK! ${h.length===0?"Banco vazio (normal)":`${h.length} medicamento(s) encontrado(s)`}`)}catch(h){n("error"),l(` Erro: ${h.message}`),console.error("Erro de conexo:",h)}};return d.jsxs(sa,{children:[d.jsx("h3",{children:" Teste de Conexo Supabase"}),d.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"var(--font-size-sm)",marginBottom:"var(--space-4)"},children:"Clique para verificar se o banco de dados est conectado"}),d.jsx(he,{variant:"primary",onClick:u,disabled:s==="loading",children:s==="loading"?"Testando...":"Testar Conexo"}),r&&d.jsx("div",{style:{marginTop:"var(--space-4)",padding:"var(--space-4)",borderRadius:"var(--radius-md)",backgroundColor:s==="error"?"rgba(255, 0, 110, 0.1)":"rgba(0, 255, 136, 0.1)",border:`1px solid ${s==="error"?"var(--accent-error)":"var(--accent-success)"}`,color:s==="error"?"var(--accent-error)":"var(--accent-success)"},children:r})]})}function O0(){const[s,n]=X.useState("dashboard"),[r,l]=X.useState(!1),[u,h]=X.useState(null),[f,v]=X.useState(null),g=()=>d.jsxs("div",{style:{padding:"var(--space-4)",borderBottom:"1px solid var(--border-color)",marginBottom:"var(--space-6)",background:"var(--bg-glass)",backdropFilter:"blur(10px)",position:"sticky",top:0,zIndex:100,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsx(he,{variant:"ghost",onClick:()=>n("dashboard"),children:" Voltar ao Dashboard"}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[d.jsx("img",{src:"/logo.png",alt:"Logo",style:{width:"30px",height:"30px",borderRadius:"6px"}}),d.jsx("div",{style:{fontSize:"var(--font-size-sm)",fontWeight:600,color:"var(--accent-primary)"},children:"Meus Remdios"})]})]}),p=b=>{h({medicineId:b}),n("protocols")},_=b=>{v({medicineId:b}),n("stock")};return s==="medicines"?d.jsxs("div",{children:[g(),d.jsx(p0,{onNavigateToProtocol:p})]}):s==="stock"?d.jsxs("div",{children:[g(),d.jsx(_0,{initialParams:f,onClearParams:()=>v(null)})]}):s==="protocols"?d.jsxs("div",{children:[g(),d.jsx(E0,{initialParams:u,onClearParams:()=>h(null),onNavigateToStock:_})]}):s==="history"?d.jsxs("div",{children:[g(),d.jsx(A0,{})]}):d.jsxs("div",{className:"app-container",children:[d.jsx(T0,{onNavigate:(b,S)=>{b==="stock"&&S?.medicineId?v({medicineId:S.medicineId}):b==="protocols"&&S?.medicineId&&h({medicineId:S.medicineId}),n(b)}}),r&&d.jsx("div",{style:{padding:"0 var(--space-6)",marginBottom:"var(--space-8)"},children:d.jsx(N0,{})}),d.jsxs("footer",{style:{textAlign:"center",marginTop:"var(--space-8)",paddingBottom:"var(--space-8)",color:"var(--text-tertiary)",fontSize:"var(--font-size-sm)"},children:[d.jsx("img",{src:"/logo.png",alt:"Logo",style:{width:"40px",marginBottom:"var(--space-2)",borderRadius:"10px",opacity:.8}}),d.jsx("p",{children:"Meus Remdios v1.1.0"}),d.jsx("span",{onClick:()=>l(!r),style:{cursor:"pointer",opacity:.1,fontSize:"10px",display:"block",margin:"4px 0"},children:r?"[-] hide debug":"[+] check system"}),d.jsx("p",{style:{marginTop:"var(--space-2)"},children:" Desenvolvido com React + Vite + Supabase"})]})]})}Up.createRoot(document.getElementById("root")).render(d.jsx(X.StrictMode,{children:d.jsx(O0,{})}));

# .gemini/config.yaml
# Configuração para Gemini Code Assist
# Refatorado em 2026-02-19 para integração otimizada
# Atualizado em 2026-02-21 com filtros de path inteligentes (P3.2)

$schema: "http://json-schema.org/draft-07/schema#"

code_review:
  # Threshold mínimo para comentários (MEDIUM = ignora LOW)
  comment_severity_threshold: MEDIUM
  
  # Limite de comentários por review
  max_review_comments: 20
  
  # Review automático quando PR é aberto
  pull_request_opened:
    help: true
    summary: true
    code_review: true
    include_drafts: false
  
  # Re-review automático quando novos commits são pushados
  pull_request_synchronize:
    code_review: true
    summary: true
  
  # P3.2: Filtros de path inteligentes - Paths a ignorar completamente
  excluded_paths:
    - "docs/archive/**"
    - "docs/old/**"
    - "**/dist/**"
    - "**/node_modules/**"
    - "**/*.md"
    - ".github/**/*.yml"
    - "plans/old/**"
    - "bug_logs/**"
    - "screenshots/**"
    - "**/*.test.js"
    - "**/*.test.jsx"
    - "**/__tests__/**"
    - "**/*.min.js"
    - "**/coverage/**"
    - ".vitest-cache*/**"
  
  # P3.2: Paths com prioridade máxima para review
  critical_paths:
    - "src/services/api/**"
    - "src/schemas/**"
    - "server/bot/**"
    - "api/**"
    - "src/features/**/services/**"
  
  # Paths adicionais incluídos no review (não-críticos mas relevantes)
  included_paths:
    - "src/**"
    - "server/**"
    - ".github/workflows/**"

memory_config:
  disabled: false

# Configurações de output estruturado
output_config:
  # Gerar JSON estruturado para agentes
  structured_output: true
  # Incluir sugestões de código
  include_suggestions: true
  # Incluir linhas de código afetadas
  include_code_snippets: true
